!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TelerikBlazor=e():t.TelerikBlazor=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(19);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(22);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(41);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(44);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var l=n(47);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var c=n(62);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var u=n(73);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var p=n(76);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})});var h=n(79);Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})});var f=n(82);Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})});var d=n(137);Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})});var v=n(159);Object.keys(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}})});var y=n(168);Object.keys(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})});var g=n(172);Object.keys(g).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return g[t]}})});var m=n(176);Object.keys(m).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}})});var b=n(179);Object.keys(b).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return b[t]}})});var w=n(182);Object.keys(w).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return w[t]}})});var _=n(185);Object.keys(_).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return _[t]}})});var x=n(188);Object.keys(x).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return x[t]}})});var k=n(191);Object.keys(k).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return k[t]}})});var S=n(198);Object.keys(S).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return S[t]}})});var O=n(208);Object.keys(O).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return O[t]}})});var C=n(211);Object.keys(C).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return C[t]}})});var M=n(255);Object.keys(M).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return M[t]}})});var T=n(258);Object.keys(T).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return T[t]}})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(5);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(6);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(3);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(7);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var l=n(8);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var c=n(14);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var u=n(15);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var p=n(17);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Component=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(3);e.Component=function(){function t(e,n){r(this,t),this.options={dotNetInstance:null,events:{}},this.element=e,this.dotNetInstance=n.dotNetInstance}return o(t,[{key:"destroy",value:function(){this.element=null,this.dotNetInstance=null}},{key:"extendOptions",value:function(t){this.options=(0,i.deepExtend)(this.options,t)}},{key:"setOptions",value:function(t){this.options=t}},{key:"invokeMethodAsync",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.dotNetInstance;if(n&&n.invokeMethodAsync&&t)return n.invokeMethodAsync(t,e)}},{key:"trigger",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={defaultPrevented:!1,preventDefault:function(){n.defaultPrevented=!0}};if((0,i.isFunction)(this.options.events[t]))return this.options.events[t]((0,i.extend)(n,e,{sender:this})),n.defaultPrevented}}]),t}()},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.converToKeyboardEventArgs=e.stringifyToStyle=e.saveFile=e.noop=e.htmlEncode=e.createCancellableTimerPromise=e.delay=e.isDefined=e.isFunction=e.guid=e.deepExtend=e.isObject=e.extend=e.supportsTouchEvents=e.debounce=e.throttle=void 0;var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(4),a=(e.throttle=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0,r=0;return!e||e<=0?t:function(){for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];var a=this,l=0,c=function(){t.call.apply(t,[a].concat(i)),r=performance.now()};return r||(r=performance.now(),n=setTimeout(c,e)),l=performance.now()-r,l>3*e?(clearTimeout(n),void(r=0)):(clearTimeout(n),void(l>e?c():n=setTimeout(c,e-l)))}},e.debounce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];var s=this;clearTimeout(n),n=setTimeout(function(){clearTimeout(n),t.call.apply(t,[s].concat(o))},e)}},e.supportsTouchEvents=function(){var t="ontouchstart"in window;return Boolean(t)},e.extend=function(){return Object.assign.apply(Object,arguments)}),l=e.isObject=function(t){return t&&"object"===("undefined"==typeof t?"undefined":i(t))&&!Array.isArray(t)},c=(e.deepExtend=function t(e){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];if(!o.length)return e;var s=o.shift();if(l(e)&&l(s))for(var c in s)l(s[c])?(e[c]||a(e,r({},c,{})),t(e[c],s[c])):a(e,r({},c,s[c]));return t.apply(void 0,[e].concat(o))},e.guid=function(){var t="",e=void 0,n=void 0;for(e=0;e<32;e++)n=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(t+="-"),t+=(12===e?4:16===e?3&n|8:n).toString(16);return t},e.isFunction=function(t){return"function"==typeof t},e.isDefined=function(t){return"undefined"!=typeof t}),u=(e.delay=function(t){return new Promise(function(e){return setTimeout(e,t)})},e.createCancellableTimerPromise=function(t){var e=void 0,n=void 0,r=void 0;return n=new Promise(function(n,o){r=o,e=setTimeout(function(){n("timer done")},t)}),{promise:n,cancel:function(){clearTimeout(e),r()}}},e.htmlEncode=function(t){var e=String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");return e},e.noop=function(){},e.saveFile=function(t,e){(0,s.saveAs)(e,t)},e.stringifyToStyle=function(t){var e=[],n=Object.entries(t),r=!0,i=!1,s=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var p=o(a.value,2),h=p[0],f=p[1];if(c(f)){var d=u(h)+": "+f;e.push(d.toLowerCase())}}}catch(t){i=!0,s=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw s}}return e.join("; ")},function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2")});e.converToKeyboardEventArgs=function(t){var e={type:t.type,key:t.key,code:(t.keyCode||"").toString(),ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey};return e}},function(t,e){"use strict";function n(t,e,n){void 0===n&&(n={});var s=i;if(n.forceProxy&&!n.proxyURL)throw new Error("No proxyURL is set, but forceProxy is true");n.forceProxy||(c()&&(s=o),navigator.msSaveBlob&&(s=r)),s(t,e,n)}function r(t,e){var n=t;if("string"==typeof t){for(var r=t.split(";base64,"),o=r[0],i=atob(r[1]),s=new Uint8Array(i.length),a=0;a<i.length;a++)s[a]=i.charCodeAt(a);n=new Blob([s.buffer],{type:o})}navigator.msSaveBlob(n,e)}function o(t,e){var n=t;window.Blob&&t instanceof Blob&&(n=URL.createObjectURL(t));var r=l();r.download=e,r.href=n;var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(o),setTimeout(function(){return URL.revokeObjectURL(n)})}function i(t,e,n){if(n.proxyURL){var r=document.createElement("form");r.setAttribute("action",n.proxyURL),r.setAttribute("method","POST"),r.setAttribute("target",n.proxyTarget||"_self");var o=n.proxyData||{};o.fileName=e;var i=t.split(";base64,");o.contentType=i[0].replace("data:",""),o.base64=i[1];for(var s in o)if(o.hasOwnProperty(s)){var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",s),a.setAttribute("value",o[s]),r.appendChild(a)}document.body.appendChild(r),r.submit(),document.body.removeChild(r)}}function s(t){for(var e,n,r,o,i,s,l,c=a(t),p="",h=0;h<c.length;)e=c.charCodeAt(h++),n=c.charCodeAt(h++),r=c.charCodeAt(h++),o=e>>2,i=(3&e)<<4|n>>4,s=(15&n)<<2|r>>6,l=63&r,isNaN(n)?s=l=64:isNaN(r)&&(l=64),p=p+u.charAt(o)+u.charAt(i)+u.charAt(s)+u.charAt(l);return p}function a(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=p(r):r<2048?(e+=p(192|r>>>6),e+=p(128|63&r)):r<65536&&(e+=p(224|r>>>12),e+=p(128|r>>>6&63),e+=p(128|63&r))}return e}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){return document.createElement("a")},c=function(){return"download"in l()},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=String.fromCharCode;e.saveAs=n,e.encodeBase64=s},function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=y(e),o=(0,h.getElementByDataId)(r);if(o){var i=a(e);if(!i){var s=new t(o,n);l(e,s)}}}function o(t){var e=a(t);e&&e.destroy&&(e.destroy(),e=null),c(t)}function i(t,e){t&&t.setOptions&&t.setOptions(e)}function s(t,e){var n=v()[t];i(n,e)}function a(t){var e=v();return e[t]}function l(t,e){var n=v();n[t]=e}function c(t){var e=window.TelerikBlazor._instances||{};delete e[t]}function u(t,e,n){var r=a(e);if(r&&(0,p.isFunction)(r[t]))return r[t](n)}Object.defineProperty(e,"__esModule",{value:!0}),e.removeComponentSuffix=e.addComponentSuffix=void 0,e.initComponent=r,e.destroyComponent=o,e.setComponentOptions=i,e.setOptions=s,e.getComponentInstance=a,e.setComponentInstance=l,e.removeComponentInstance=c,e.invokeComponentMethod=u;var p=n(3),h=n(6),f="telerik",d=new RegExp("-"+f+"-.*$","ig"),v=function(){if("undefined"==typeof window.TelerikBlazor)throw new Error("The telerik-blazor.js script is not loaded");return window.TelerikBlazor._instances=window.TelerikBlazor._instances||{},window.TelerikBlazor._instances},y=(e.addComponentSuffix=function(t,e){return t+"-"+f+"-"+e},e.removeComponentSuffix=function(t){return t.replace(d,"")})},function(t,e,n){"use strict";function r(t,e){if(!e)return!1;for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1}function o(t){var e=i(t)||document.getElementById(t);return e.scrollHeight.toString()}function i(t){return document.querySelector('[data-id="'+t+'"]')}Object.defineProperty(e,"__esModule",{value:!0}),e.getScrollBarWidth=e.scrollListToItem=e.setPosition=e.setIndeterminate=e.focusFirstFocusableChild=e.findEditable=e.findFocusable=e.isFocusable=e.hasAncestor=e.setElementValue=e.focusElement=e.focusElementInNextFrame=e.focusInNextFrameAsync=e.runInNextFrameAsync=e.isChild=e.hasAnyClass=e.hasClass=e.removeClass=e.addClass=e.hideElement=e.showElement=void 0,e.ownsElement=r,e.getElementScrollHeight=o,e.getElementByDataId=i;var s=n(3),a=(e.showElement=function(t){t instanceof HTMLElement&&(t.style.display="")},e.hideElement=function(t){t instanceof HTMLElement&&(t.style.display="none")},e.addClass=function(t,e){e.classList.add(t)},e.removeClass=function(t,e){e.classList.remove(t)},e.hasClass=function(t,e){if(e instanceof HTMLElement)return e.classList.contains(t)}),l=(e.hasAnyClass=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=0;n<t.length;n++)if(a(t[n],e))return!0},e.isChild=function(t,e){for(var n=t;n&&n!==document;){if(e.indexOf(n)>=0)return!0;n=n.parentElement}return!1},e.runInNextFrameAsync=function(t){return(0,s.delay)(33).then(function(){return t()})}),c=e.focusInNextFrameAsync=function(t){return l(function(){t&&t.focus&&t.focus()})},u=(e.focusElementInNextFrame=function(t){var e=i(t);e&&c(e)},e.focusElement=function(t,e){var n=i(t);n instanceof HTMLElement&&n.focus({preventScroll:e})},e.setElementValue=function(t,e){var n=i(t);n instanceof HTMLElement&&(n.value=e)},e.hasAncestor=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t instanceof HTMLElement&&t.closest(e);return n?Boolean(r):r&&!t.matches(e)},e.isFocusable=function(t){var e=t.nodeName.toLowerCase(),n=/input|^a$|area|iframe|select|textarea|button|object/.test(e),r=t.tabIndex>-1,o="none"!==window.getComputedStyle(t).display;return(n||r)&&o&&!t.disabled}),p=e.findFocusable=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=f(t,u,e);return n},h=(e.findEditable=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=f(t,h,e);return n},e.focusFirstFocusableChild=function(t,e){var n=i(t)||document.getElementById(t);if(n){var r=p(n,!1);r instanceof HTMLElement&&setTimeout(function(){r.focus({preventScroll:e})},33)}},function(t){var e=u(t),n=(t.tagName||"").toLowerCase();return e&&n&&/input|^a$|area|select|textarea/.test(n)}),f=function t(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return null;if(r&&n(e))return e;for(e=e.firstElementChild;e;){var o=t(e,n,!0);if(o)return o;e=e.nextElementSibling}};e.setIndeterminate=function(t,e){var n=i(t)||document.getElementById(t);n&&(n.indeterminate=e)},e.setPosition=function(t,e,n){var r=i(t)||document.getElementById(t);r&&(r.style.top=e,r.style.left=n)},e.scrollListToItem=function(t,e){var n=i(t)||document.getElementById(t),r="UL"===n.tagName?n:n.getElementsByTagName("ul")[0],o=r.getElementsByTagName("li")[e],s=r.offsetParent;if(o&&s){var a=s.scrollTop,l=a+s.offsetHeight,c=o.offsetTop,u=c+o.offsetHeight;u>l?s.scrollTop+=u-l:c<a&&(s.scrollTop=c)}},e.getScrollBarWidth=function(){var t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);var e=document.createElement("div");t.appendChild(e);var n=t.offsetWidth-e.offsetWidth;return t.parentNode.removeChild(t),n}},function(t,e){"use strict";function n(t,e){var n=t%e,r=t-n,o=t+e-n;return r+o<2*t?o:r}Object.defineProperty(e,"__esModule",{value:!0}),e.closestDivisibleTo=n;e.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(10);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(11);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(12);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(13);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.NavigationService=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(10),s="keydown",a="printableKey";e.NavigationService=function(){function t(e){var n=this;r(this,t),this.onNavigate=function(t){var e=new i.Shortcut(t),r=1===e.name.length,o=n.shortcuts.find(function(t){return i.Shortcut.equals(t,e)})||r&&n.shortcuts.find(function(t){return t.name===a});o&&n.callbacks[o.name].forEach(function(n){n(e,t)||(t.preventDefault(),t.stopPropagation())})},this.element=e,this.callbacks={},this.shortcuts=[],this.bindEvents()}return o(t,[{key:"destroy",value:function(){this.unbindEvents(),this.element=this.callbacks=this.shortcuts=null}},{key:"bindEvents",value:function(){this.element.addEventListener(s,this.onNavigate)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(s,this.onNavigate)}},{key:"bind",value:function(t,e){var n=Array.isArray(t)?t:[t],r=!0,o=!1,s=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=a.value,u=new i.Shortcut(c);this.callbacks[u.name]=this.callbacks[u.name]||[],this.shortcuts.push(u),this.callbacks[u.name].push(e)}}catch(t){o=!0,s=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw s}}}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Shortcut=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(11);e.Shortcut=function(){function t(e){r(this,t),"string"==typeof e?this._initFromString(e):e instanceof KeyboardEvent&&this._initFromEvent(e)}return o(t,null,[{key:"equals",value:function(t,e){return t.ctrl===e.ctrl&&t.alt===e.alt&&t.shift===e.shift&&t.code===e.code}}]),o(t,[{key:"_initFromString",value:function(t){var e=t.toUpperCase().split(/[\t-\r \+\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]/),n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;switch(l){case i.KeyModifiers.CTRL:this.ctrl=!0;break;case i.KeyModifiers.ALT:this.alt=!0;break;case i.KeyModifiers.SHIFT:this.shift=!0;break;default:this.code=this._toNormalizedCode(l)}}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}this.name=t}},{key:"_initFromEvent",value:function(t){this.name="",t.ctrlKey&&(this.ctrl=t.ctrlKey,this.name+=i.KeyModifiers.CTRL+" "),t.shiftKey&&(this.shift=t.shiftKey,this.name+=i.KeyModifiers.SHIFT+" "),t.altKey&&(this.alt=t.altKey,this.name+=i.KeyModifiers.ALT+" "),this.code=t.keyCode,this.name+=t.key}},{key:"_toNormalizedCode",value:function(t){return i.KeyCode[t.toUpperCase()]}}]),t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.KeyCode={DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,SPACE:32,END:35,HOME:36,PAGE_UP:33,PAGE_DOWN:34,PAGEUP:33,PAGEDOWN:34},e.Key={DELETE:"Delete",BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESC:"Escape",ARROWLEFT:"ArrowLeft",ARROWUP:"ArrowUp",ARROWRIGHT:"ArrowRight",ARROWDOWN:"ArrowDown",SPACE:"Space",END:"End",HOME:"Home",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},e.KeyModifiers={CTRL:"CTRL",ALT:"ALT",SHIFT:"SHIFT"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.TabKeyTrap=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(11),s="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]";e.TabKeyTrap=function(){function t(e){var n=this;r(this,t),this.disableTabKeyTrap=function(){n.element&&n.element.removeEventListener("keydown",n.onKeyDown)},this.onKeyDown=function(t){return n.tryFindEdgeElements()?void(t.keyCode===i.KeyCode.TAB&&(t.shiftKey?document.activeElement===n.firstElement&&(n.lastElement.focus(),t.preventDefault()):document.activeElement===n.lastElement&&(n.firstElement.focus(),t.preventDefault()))):void n.element.removeEventListener("keydown",n.onKeyDown)},this.element=e}return o(t,[{key:"destroy",value:function(){this.disableTabKeyTrap(),this.element=null,this.firstElement=null,this.lastElement=null}},{key:"enableKeyTrap",value:function(){this.element&&this.element.addEventListener("keydown",this.onKeyDown)}},{key:"tryFindEdgeElements",value:function(){return this.findEdgeElements(),this.firstElement&&this.lastElement}},{key:"findEdgeElements",value:function(){var t=this.element.querySelectorAll(s);this.firstElement=t[0],this.lastElement=t[t.length-1]}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FormKeyTrap=e.disableFormTabKeyTrap=e.enableFormTabKeyTrap=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(11),s=n(6),a=function(t){if(t.length)return t[t.length-1]},l=(e.enableFormTabKeyTrap=function(t){l&&l.instanceMap&&(0,s.runInNextFrameAsync)(function(){var e=(0,s.getElementByDataId)(t);if(e&&!l.instanceMap[t]){var n=new l(e);l.instanceMap[t]=n,n.enableKeyTrap()}})},e.disableFormTabKeyTrap=function(t){if(l&&l.instanceMap){var e=l.instanceMap[t];e&&e.disableTabKeyTrap()}},e.FormKeyTrap=function(){function t(e){var n=this;r(this,t),this.disableTabKeyTrap=function(){n.firstElement&&n.firstElement.removeEventListener("keydown",n.onFirstElementKeyDown),n.lastElement&&n.lastElement.removeEventListener("keydown",n.onLastElementKeyDown)},this.onFirstElementKeyDown=function(t){t.keyCode===i.KeyCode.TAB&&t.shiftKey&&(t.preventDefault(),n.lastElement&&n.lastElement.focus())},this.onLastElementKeyDown=function(t){t.keyCode!==i.KeyCode.TAB||t.shiftKey||(t.preventDefault(),n.firstElement&&n.firstElement.focus())},e&&(this.element=e,this.firstElement=(0,s.findFocusable)(e,!1),this.lastElement=a(e.querySelectorAll("button, .k-button")))}return o(t,[{key:"destroy",value:function(){this.disableTabKeyTrap(),this.element=null,this.firstElement=null,this.lastElement=null}},{key:"enableKeyTrap",value:function(){this.element&&this.firstElement&&this.lastElement&&(this.firstElement.addEventListener("keydown",this.onFirstElementKeyDown),this.lastElement.addEventListener("keydown",this.onLastElementKeyDown))}}]),t}());l.instanceMap={}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.Platform=function(){function t(){n(this,t)}return r(t,null,[{key:"webAssembly",get:function(){return Boolean(window.Blazor&&window.Blazor.platform)}},{key:"serverSideBlazor",get:function(){return Boolean(window.Blazor&&window.Blazor.reconnect)}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GridBase=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(16),u={header:"k-grid-header-wrap",footer:"k-grid-footer-wrap",content:"k-grid-content"},p="mousedown",h="scroll";e.GridBase=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{removeFocus:"",blur:""}},i.onScroll=function(t){i.content===t.currentTarget&&i.setScrollLeft(t.currentTarget.scrollLeft)},i.onMouseDown=function(t){t.shiftKey&&t.preventDefault()},i.onNavigationRemoveFocus=function(){i.removeFocus()},i.onNavigationBlur=function(t){var e=t.rowIndex,n=t.columnIndex,r=t.isChildFocused;i.blur(e,n,r)},i.extendOptions(n),i.content=i.getChildElement(u.content),i.header=i.getChildElement(u.header),i.adjustScrollbarPadding(),i.bindEvents(),i.createNavigationService(),i}return i(e,t),s(e,[{key:"getChildElement",value:function(t){return this.element.getElementsByClassName(t)[0]}},{key:"destroy",value:function(){this.unbindEvents(),this.destroyNavigationService(),this.content=null,this.header=null,a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"adjustScrollbarPadding",value:function(){var t=(0,l.getScrollBarWidth)();0===t?this.header.style.borderRightWidth="0px":t-=1,this.header.parentElement.style.paddingRight=t+"px"}},{key:"bindEvents",value:function(){this.content.addEventListener(h,this.onScroll),this.content.addEventListener(p,this.onMouseDown)}},{key:"unbindEvents",value:function(){this.content.removeEventListener(h,this.onScroll),this.content.removeEventListener(p,this.onMouseDown)}},{key:"setScrollLeft",value:function(t){var e=this.getChildElement(u.footer);this.header&&(this.header.scrollLeft=t),e&&(e.scrollLeft=t)}},{key:"createNavigationService",value:function(){this.navigationService=new c.NavigationService(this.element,{navigable:this.options.navigable,events:{removeFocus:this.onNavigationRemoveFocus,blur:this.onNavigationBlur}})}},{key:"destroyNavigationService",value:function(){this.navigationService&&(this.navigationService.destroy(),this.navigationService=null)}},{key:"focusCell",value:function(t){this.navigationService.focusCell(t)}},{key:"focusEditable",value:function(t){this.navigationService.focusEditable(t)}},{key:"focusFirstFocusable",value:function(t){this.navigationService.focusFirstFocusable(t)}},{key:"removeFocus",value:function(){this.invokeMethodAsync(this.options.jsinterop.removeFocus)}},{key:"blur",value:function(t,e,n){var r=this;l.Platform.webAssembly?setTimeout(function(){r.invokeMethodAsync(r.options.jsinterop.blur,{deferred:!0,rowIndex:t,columnIndex:e,isChildFocused:n})},1):this.invokeMethodAsync(this.options.jsinterop.blur)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.NavigationService=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c="data-col-index",u="data-render-row-index";
e.NavigationService=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={navigable:!1,events:{removeFocus:null,blur:null},rowSelector:function(t){return"tr[data-render-row-index='"+t+"']"},columnSelector:function(t){return"[data-col-index='"+t+"']"},groupRowClass:"k-grouping-row"},i.onClick=function(t){"input"===t.target.tagName.toLowerCase()&&t.stopPropagation()},i.onKeyDown=function(t){var e=[l.KeyCode.ARROWRIGHT,l.KeyCode.ARROWLEFT,l.KeyCode.ARROWUP,l.KeyCode.ARROWDOWN,l.KeyCode.PAGE_DOWN,l.KeyCode.PAGE_UP,l.KeyCode.HOME,l.KeyCode.END,l.KeyCode.SPACE].includes(t.keyCode),n=(0,l.hasClass)("k-checkbox",t.target)&&t.keyCode===l.KeyCode.SPACE;e&&!n&&(0,l.hasClass)("k-state-focused",t.target)&&(t.target.matches("td")||t.target.matches("th"))&&t.preventDefault()},i.onFocusOut=function(t){var e=t.target.closest("["+c+"]"),n=e?e.closest("tr"):null,r=n&&n.hasAttribute(u)?parseInt(n.getAttribute(u)):null,o=e&&e.hasAttribute(c)?parseInt(e.getAttribute(c)):null;if(!t.relatedTarget||i.element.contains(t.relatedTarget)||t.relatedTarget.closest(".k-window")||t.relatedTarget.closest(".k-grid-filter-popup")){var s={};null!==r&&null!==o&&(s.rowIndex=r,s.columnIndex=o,s.isChildFocused=e&&!t.target.hasAttribute(c)),i.triggerBlur(s)}else i.triggerRemoveFocus()},i.extendOptions(n),i.options.navigable&&i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.options.navigable&&this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener("keydown",this.onKeyDown),this.element.addEventListener("click",this.onClick),this.element.addEventListener("focusout",this.onFocusOut)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("keydown",this.onKeyDown),this.element.removeEventListener("click",this.onClick),this.element.removeEventListener("focusout",this.onFocusOut)}},{key:"focusCell",value:function(t){var e=t.rowIndex,n=t.columnIndex,r=this.getRow(e),o=null;if(r){if((0,l.hasClass)("k-grouping-row",r))o=r.querySelector("td[role='gridcell']");else if(o=r.querySelector(this.options.columnSelector(n)),!o){var i=r.querySelector("[data-col-index]");parseInt(i.attributes["data-col-index"].value)>n&&(o=i)}o&&this.focusElement(o)}}},{key:"focusElement",value:function(t){t instanceof HTMLElement&&t!==document.activeElement&&t.focus()}},{key:"focusEditable",value:function(t){var e=this,n=t.rowIndex,r=t.columnIndex;setTimeout(function(){var t=document.activeElement,o=t&&t.closest(".k-grid-edit-cell")?t.closest("tr"):null,i=e.getCell(n,r),s=i?i.closest("tr"):null;o&&o===s||e.focusCellChild(n,r,l.findEditable)},1)}},{key:"focusFirstFocusable",value:function(t){var e=this,n=t.rowIndex,r=t.columnIndex;setTimeout(function(){e.focusCellChild(n,r,l.findFocusable)},1)}},{key:"focusCellChild",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.findFocusable,r=this.getCell(t,e),o=r?n(r,!1):null;this.focusElement(o)}},{key:"getRow",value:function(t){var e=this.element.parentElement.closest(".k-grid");if(e&&e!==this.element){var n=this.element.querySelector(this.options.rowSelector(t));return n}var r=Array.from(this.element.querySelectorAll(this.options.rowSelector(t))).filter(function(t){return null===t.closest(".k-detail-row")});return r[0]}},{key:"getCell",value:function(t,e){var n=this.getRow(t);if(n){var r=n.querySelector(this.options.columnSelector(e));return r}}},{key:"triggerRemoveFocus",value:function(){this.trigger("removeFocus")}},{key:"triggerBlur",value:function(t){this.trigger("blur",t)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.ComponentLoaderContainer,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initComponentLoaderContainer=r;var o=n(18),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentLoaderContainer=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),l=n(6);e.ComponentLoaderContainer=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i._loaderIntervals=[],i}return i(e,t),s(e,[{key:"startLoaderShowTimer",value:function(){var t=this;this._loaderIntervals.push(setTimeout(function(){return t.showLoader()},600))}},{key:"showLoader",value:function(){(0,l.showElement)(this.element)}},{key:"hideLoader",value:function(){clearTimeout(this._loaderIntervals.shift()),this._loaderIntervals.length||(0,l.hideElement)(this.element)}}]),e}(a.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(20);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,c.initComponent)(l.AnimationGroup,t,e)}function o(t,e){var n=(0,c.getComponentInstance)(t);return n?(n.setOptions(e),n.showAsync().catch(u.noop)):null}function i(t,e){var n=(0,c.getComponentInstance)(t);return n?(n.setOptions(e),n.hideAsync().catch(u.noop)):null}function s(t){var e=(0,c.getComponentInstance)(t);e&&e.hide()}function a(t){var e=(0,c.getComponentInstance)(t);e&&e.show()}Object.defineProperty(e,"__esModule",{value:!0}),e.initAnimationGroup=r,e.showAnimationGroupAsync=o,e.hideAnimationGroupAsync=i,e.hideAnimationGroup=s,e.showAnimationGroup=a;var l=n(21),c=n(1),u=n(3)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationGroup=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(3),p=n(1),h="none",f={vertical:"reveal-vertical",horizontal:"reveal-horizontal"},d={"slide-down":"slide-up","push-down":"push-up"},v={appear:"appear",exit:"exit"},y=function(){return(0,p.delay)(20)},g=function(t,e){return"k-"+t+"-"+e},m=function(t){var e=Object.keys(v);return e.reduce(function(e,n){return c({},e,s({},n,{base:g(t,n),active:g(t,n+"-active")}))},{})};e.AnimationGroup=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,animationName:"slide-down",duration:300,showDelay:10,hideDelay:10,jsinterop:{showStart:null,hideStart:null}},i.extendOptions(n),i.element.parentElement.style.display=h,i.animationClasses=m(i.options.animationName),i}return i(e,t),a(e,[{key:"setOptions",value:function(t){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setOptions",this).call(this,t),this.animationClasses=m(this.options.animationName)}},{key:"destroy",value:function(){this.cancelCallback(),this.parentComponent=null,l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"showAsync",value:function(){var t=this;return this.cancelCallback(),this.onAppearStart().then(function(){return t.onAppearing()}).then(function(){return t.onTransitionEnd(t.onAppearEnd.bind(t))})}},{key:"hideAsync",value:function(){var t=this;return this.cancelCallback(),this.onExitStart().then(this.onExiting()).then(function(){return t.onTransitionEnd(t.onExitEnd.bind(t))})}},{key:"show",value:function(){this.cancelCallback(),this.removeClasses(v.exit),this.removeClasses(v.appear),this.element.style.display=null,this.element.parentElement.style.display=null,this.triggerOpen()}},{key:"hide",value:function(){this.cancelCallback(),this.removeClasses(v.exit),this.removeClasses(v.appear),this.element.style.display=h,this.element.parentElement.style.display=h,this.triggerClose()}},{key:"onAppearStart",value:function(){var t=this;return this.updateAppearStartState().then(function(){var e=t.getParentPosition(),n=t.options.animationName;return t.maxDimensions(),e&&e.flipped&&d[n]?(t.element.style.display=h,t.element.parentElement.style.display=h,y().then(function(){return t.removeClasses(v.appear),t.animationClasses=m(d[n]),t.updateAppearStartState()})):Promise.resolve()})}},{key:"updateAppearStartState",value:function(){var t=this;return this.removeClasses(v.exit),this.addClasses(this.animationClasses[v.appear].base),this.addClasses(this.options.class),y().then(function(){t.element&&(t.element.style.display=null,t.element.parentElement.style.display=null)})}},{key:"onAppearing",value:function(){var t=this;return this.triggerOpen(),y().then(function(){t.addClasses(t.animationClasses[v.appear].active)})}},{key:"onAppearEnd",value:function(){var t=this,e=v.appear;y().then(function(){t.removeClasses(e),t.removeMaxDimensions()})}},{key:"onExitStart",value:function(){var t=this;return y().then(function(){var e=t.getParentPosition(),n=t.options.animationName;e&&e.flipped&&d[n]&&(t.animationClasses=m(d[n])),t.removeClasses(v.appear),t.addClasses(t.animationClasses[v.exit].base)})}},{key:"onExiting",value:function(){var t=this;return this.triggerClose(),this.maxDimensions(),y().then(function(){t.addClasses(t.animationClasses[v.exit].active)})}},{key:"onExitEnd",value:function(){this.removeClasses(v.exit),this.removeMaxDimensions(),this.element.style.display=h,this.element.parentElement.style.display=h}},{key:"onTransitionEnd",value:function(t){var e=this.options,n=e.duration+e.showDelay;return this.timer=(0,p.createCancellableTimerPromise)(n),this.timer.promise.then(t)}},{key:"cancelCallback",value:function(){this.timer&&this.timer.cancel(),this.timer=null}},{key:"getParentComponent",value:function(){if(this.parentComponent)return this.parentComponent;if(!this.element)return null;var t=this.element.closest(".k-animation-container");if(!t)return null;var e=t.getAttribute("data-id");return this.parentComponent=(0,p.getComponentInstance)(e),this.parentComponent}},{key:"callParentMethod",value:function(t,e){var n=this.getParentComponent();if(n&&(0,u.isFunction)(n[t]))return n[t](e)}},{key:"getParentPosition",value:function(){return this.callParentMethod("getElementPosition")}},{key:"triggerOpen",value:function(){this.invokeMethodAsync(this.options.jsinterop.showStart),this.callParentMethod("onOpen")}},{key:"triggerClose",value:function(){this.invokeMethodAsync(this.options.jsinterop.hideStart),this.callParentMethod("onClose")}},{key:"removeClasses",value:function(t){var e=this.animationClasses[t];this.element&&(this.element.classList.remove(e.base),this.element.classList.remove(e.active))}},{key:"addClasses",value:function(t){var e=this;t&&t.split(/\s+/).forEach(function(t){e.element&&e.element.classList.add(t)})}},{key:"maxDimensions",value:function(){var t=this.options,e=this.element,n=e.scrollHeight+"px",r=e.scrollWidth+"px";return t.animationName.includes(f.vertical)?(e.style.maxHeight=n,"max-height: "+n):t.animationName.includes(f.horizontal)?(e.style.maxWidth=r,"max-width: "+r):""}},{key:"removeMaxDimensions",value:function(){this.element&&(this.element.style.maxHeight=null,this.element.style.maxWidth=null)}}]),e}(p.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e,n){var r=(0,p.getElementByDataId)(t);if(r){var o=JSON.parse(e),s=(0,p.getComponentInstance)(t),a=(0,p.extend)(o,n);if(s)(0,p.setComponentOptions)(s,a);else{a.locale.name=t,u.IntlService.setLocale(a.locale);var l=i(r,a,new u.ThemeService,u.IntlService);(0,p.setComponentInstance)(t,l)}}}function o(t){(0,p.destroyComponent)(t)}function i(t,e,n,r){var o="stockchart"===e._constructor?a.StockChart:s.Chart,i=new o(t,e,n,r);return i}Object.defineProperty(e,"__esModule",{value:!0}),e.initOrUpdateChart=r,e.destroyChart=o;var s=n(24),a=n(29),l=n(30),c=n(25),u=n(33),p=n(1);c.TemplateService.register(u.TemplateService),c.DomEventsBuilder.register(l.DomEventsBuilder)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Chart=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),c=n(25),u=n(28),p="mouseleave";e.Chart=function(t){function e(t,n,i,s){r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return a.options={seriesTooltipPopupId:"",crosshairTooltips:{},jsinterop:{onObserverShowCrosshairTooltip:"",onObserverShowTooltip:"",onObserverSeriesClick:""}},a.onMouseLeave=function(t){a.hideElements(t)},a.onObserverShowTooltip=function(t){a.showTooltip(t)},a.onObserverHideTooltip=function(t){a.hideTooltip(t)},a.onObserverSeriesClick=function(t){var e=a.createSeriesClickEventArgs(t);a.invokeSeriesClickAsync(e)},a.extendOptions(n),a.themeService=i,a.createInstanceObserver(),a.chartInstance=a.createChart(a.element,a.options,a.getThemeOptions(),s,a.chartInstanceObserver),a.bindEvents(),a}return i(e,t),a(e,[{key:"destroy",value:function(){this.unbindEvents(),this.destroyInstanceObserver(),this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null)}},{key:"bindEvents",value:function(){this.element.addEventListener(p,this.onMouseLeave)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(p,this.onMouseLeave)}},{key:"getThemeOptions",value:function(){return this.themeService.loadTheme(),this.themeService.getThemeOptions()}},{key:"createChart",value:function(t,e,n,r,o){var i=this.getChartConstructor(),s=new i(t,e,n,{intlService:r,observer:o,sender:this});return s}},{key:"getChartConstructor",value:function(){return c.Chart}},{key:"setOptions",value:function(t){this.chartInstance&&(this.options=t,this.chartInstance.setOptions(t,this.getThemeOptions()))}},{key:"refresh",value:function(){this.themeService.reset(),this.setOptions(this.options)}},{key:"createInstanceObserver",value:function(){this.chartInstanceObserver=new u.ChartInstanceObserver(this)}},{key:"destroyInstanceObserver",value:function(){this.chartInstanceObserver=null}},{key:"trigger",value:function(){}},{key:"requiresHandlers",value:function(){return!1}},{key:"invokeShowCrosshairTooltipAsync",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverShowCrosshairTooltip,t)}},{key:"invokeShowSeriesTooltipAsync",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverShowTooltip,t)}},{key:"invokeSeriesClickAsync",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverSeriesClick,t)}},{key:"showTooltip",value:function(t){t.crosshair?this.showCrosshairTooltip(t):this.showSeriesTooltip(t)}},{key:"hideTooltip",value:function(t){t.crosshair?this.hideCrosshairTooltip(t):this.hideSeriesTooltip(t)}},{key:"showCrosshairTooltip",value:function(t){var e=this.getCrosshairTooltipPopup(t);if(e){e.options.elementAlign={horizontal:"center",vertical:"center"},this.setTooltipPosition(t.anchor,e);var n=this.getCrosshairTooltipTemplateContext(t);this.invokeShowCrosshairTooltipAsync(n)}}},{key:"hideCrosshairTooltip",value:function(t){var e=this.getCrosshairTooltipPopup(t);e&&e.close()}},{key:"showSeriesTooltip",value:function(t){var e=this.getSeriesTooltipPopup();this.setTooltipPosition(t.anchor,e);var n=this.getSeriesTooltipTemplateContext(t);this.invokeShowSeriesTooltipAsync(n)}},{key:"hideSeriesTooltip",value:function(){var t=this.getSeriesTooltipPopup();t&&t.close()}},{key:"getTooltipAnchorRect",value:function(t){var e=this.getTooltipAnchorOffset(t);return{x:0,y:0,width:0,height:0,top:e.top,left:e.left,right:e.right,bottom:e.bottom}}},{key:"getTooltipAnchorOffset",value:function(t){return t?t.point:{top:0,left:0}}},{key:"getCrosshairTooltipPopup",value:function(t){var e=this.getCrosshairAxisKey(t),n=this.getCrosshairTooltip(e);if(n)return(0,l.getComponentInstance)(n.popupId)}},{key:"getSeriesTooltipPopup",value:function(){return(0,l.getComponentInstance)(this.options.seriesTooltipPopupId)}},{key:"setTooltipPosition",value:function(t,e){if(e&&t){var n=this.getTooltipAnchorRect(t);e.options.anchorAlign=t.align,e.options.anchorRect=n,e.positionElement()}}},{key:"getCrosshairTooltipTemplateContext",value:function(t){var e=((t.options||{}).tooltip||{}).format||t.format,n=t.point;return{formattedValue:e&&n&&n.formatValue?n.formatValue(e):String(t.value),tooltipStyle:(0,l.stringifyToStyle)(t.style),axisKey:this.getCrosshairAxisKey(t)}}},{key:"getCrosshairAxisKey",value:function(t){var e=t.axisName,n=t.axisIndex;return""+e+n}},{key:"getCrosshairTooltip",value:function(t){var e=this.options.crosshairTooltips;return e?e[t]:{}}},{key:"getSeriesTooltipTemplateContext",value:function(t){if(t.shared)return this.getSeriesTooltipSharedTemplateContext(t);var e=this.createSeriesTooltipTemplatePoint(t.point,t.format),n=s({},e,{tooltipStyle:(0,l.stringifyToStyle)(t.style)});return n}},{key:"getSeriesTooltipSharedTemplateContext",value:function(t){var e=t.points.filter(function(t){return(0,l.isDefined)(t.series.name)}).length>0,n=t.series.length>1,r=1;e&&r++,n&&r++;var o=this.createTooltipTemplatePoints(t),i={category:t.category,categoryText:t.categoryText,points:o,showSeriesColorMarker:n,showSeriesName:e,headerColumnColSpan:r,tooltipStyle:(0,l.stringifyToStyle)(t.style)};return i}},{key:"createTooltipTemplatePoints",value:function(t){var e=this,n=t.points?t.points.map(function(n){return e.createSeriesTooltipTemplatePoint(n,t.format)}):[];return n}},{key:"createSeriesTooltipTemplatePoint",value:function(t,e){var n=this.convertToSeriesPoint(t),r=((t.options||{}).tooltip||{}).format||e,o=s({},n,{formattedValue:r&&t.formatValue?t.formatValue(r):String(t.value)});return o}},{key:"hideElements",value:function(t){var e=t.relatedTarget,n=e&&Boolean(e.closest(".k-chart-tooltip")),r=(0,l.ownsElement)(this.element,e);e&&(n||r)||this.chartInstance.hideElements()}},{key:"createSeriesClickEventArgs",value:function(t){var e=this.convertToSeriesPoint(t.point);return e}},{key:"convertToSeriesPoint",value:function(t){var e=void 0,n=(0,l.isObject)(t.dataItem)?Object.getPrototypeOf(t.dataItem):null;(0,l.isObject)(t.dataItem)&&n&&n!==Object.prototype&&(e=(0,l.extend)({},n,t.dataItem));var r={dataItem:e,category:t.category,categoryIndex:t.categoryIx,seriesIndex:t.series.index,seriesColor:t.series.color,seriesName:t.series.name||"",percentage:t.percentage,pointIndex:t.pointIx||t.index};return r}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t){return Array.isArray(t)}function o(t,e){for(var n=r(e)?e:[e],o=0;o<n.length;o++){var i=n[o];t.className.indexOf(i)===-1&&(t.className+=" "+i)}}function i(t,e){t&&t.className&&(t.className=t.className.replace(e,"").replace(En," "))}function s(t){var e=.5;t.options.stroke&&Ke.drawing.util.defined(t.options.stroke.width)&&t.options.stroke.width%2===0&&(e=0);for(var n=0;n<t.segments.length;n++)t.segments[n].anchor().round(0).translate(e,e);return t}function a(t,e){return-t.x*e.y+t.y*e.x<0}function l(t){return"number"==typeof t&&!isNaN(t)}function c(t){return typeof t===_n}function u(t){return l(t)||c(t)&&isFinite(t)}function p(t){return"function"==typeof t}function h(t,e){for(var n in e){var r=e[n],o=typeof r,i=void 0;if(i=o===Pn&&null!==r?r.constructor:null,i&&i!==Array)if(r instanceof Date)t[n]=new Date(r.getTime());else if(p(r.clone))t[n]=r.clone();else{var s=t[n];typeof s===Pn?t[n]=s||{}:t[n]={},h(t[n],r)}else o!==An&&(t[n]=r)}return t}function f(t){for(var e=arguments,n=arguments.length,r=1;r<n;r++)h(t,e[r]);return t}function d(t){return"object"==typeof t}function v(t){return l(t)?t+"px":t}function y(t){return jn.test(t)}function g(t,e){var n=c(e)?[e]:e;if(r(n)){for(var o={},i=window.getComputedStyle(t),s=0;s<n.length;s++){var a=n[s];o[a]=y(a)?parseFloat(i[a]):i[a]}return o}if(d(e))for(var l in e)t.style[l]=v(e[l])}function m(t,e){void 0===e&&(e=0);var n={top:0,right:0,bottom:0,left:0};return"number"==typeof t?n[xn]=n[bn]=n[$e]=n[un]=t:(n[xn]=t[xn]||e,n[bn]=t[bn]||e,n[$e]=t[$e]||e,n[un]=t[un]||e),n}function b(t){void 0===t&&(t={});var e;return t.template?t.template=e=qn.compile(t.template):p(t.content)&&(e=t.content),e}function w(t){if(Gn[t])return Gn[t];var e=[];return t.replace(Wn,function(t,n,r,o){e.push(Ke.drawing.util.defined(n)?n:r||o)}),Gn[t]=function(t){for(var n=t,r=0;r<e.length&&n;r++)n=n[e[r]];return n},Gn[t]}function _(t,e){for(var n=t.length,r=[],o=0;o<n;o++)e(t[o])&&r.push(t[o]);return r}function x(t,e){if(t.className)for(var n=e.split(" "),r=0;r<n.length;r++)if(t.className.indexOf(n[r])!==-1)return!0}function k(t,e){if(e)return e.indexOf(t)!==-1}function S(t,e,n){return Ke.drawing.util.round(t+(e-t)*n,Je)}function O(t,e){for(var n=t.length,r=[],o=0;o<n;o++){var i=e(t[o]);Ke.drawing.util.defined(i)&&r.push(i)}return r}function C(t){var e=0;return t.wheelDelta&&(e=-t.wheelDelta/120,e=e>0?Math.ceil(e):Math.floor(e)),t.detail&&(e=Ke.drawing.util.round(t.detail/3)),e}function M(t,e){var n=t.prototype;n.options?n.options=f({},n.options,e):n.options=e}function T(t){for(var e=pn,n=hn,r=0,o=t.length;r<o;r++){var i=t[r];null!==i&&isFinite(i)&&(e=Math.min(e,i),n=Math.max(n,i))}return{min:e===pn?void 0:e,max:n===hn?void 0:n}}function E(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e(r,n,t))return r}}function P(t){var e=t.match(vr);if(null===e||2!==e.length)return dr.unit();var n=e[1].split(",").map(function(t){return parseFloat(t)});return new(Function.prototype.bind.apply(dr,[null].concat(n)))}function A(t){var e=getComputedStyle(t).transform;return"none"===e?dr.unit():P(e)}function j(t){if(!t)return dr.unit();for(var e=A(t),n=t.parentElement;n;){var r=A(n);e=e.multiplyCopy(r),n=n.parentElement}return e.b=e.c=e.e=e.f=0,e}function D(t,e){var n=ur(e-t,nn-1);if(0===n){if(0===e)return.1;n=Math.abs(e)}var r=Math.pow(10,Math.floor(Math.log(n)/Math.log(10))),o=ur(n/r,nn),i=1;return i=o<1.904762?.2:o<4.761904?.5:o<9.523809?1:2,ur(r*i,nn)}function R(t,e,n,r,o){var i=cr(o);return new yr(n+(t-n)*Math.cos(i)+(e-r)*Math.sin(i),r-(t-n)*Math.sin(i)+(e-r)*Math.cos(i))}function I(t,e){return t-e}function z(t,e){if(t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2)return e;var n=Math.min(t.x1,e.x1),r=Math.max(t.x1,e.x1),o=Math.min(t.x2,e.x2),i=Math.max(t.x2,e.x2),s=Math.min(t.y1,e.y1),a=Math.max(t.y1,e.y1),l=Math.min(t.y2,e.y2),c=Math.max(t.y2,e.y2),u=[];return u[0]=new gr(r,s,o,a),u[1]=new gr(n,a,r,l),u[2]=new gr(o,a,i,l),u[3]=new gr(r,l,o,c),t.x1===n&&t.y1===s||e.x1===n&&e.y1===s?(u[4]=new gr(n,s,r,a),u[5]=new gr(o,l,i,c)):(u[4]=new gr(o,s,i,a),u[5]=new gr(n,l,r,c)),_(u,function(t){return t.height()>0&&t.width()>0})[0]}function F(t){for(var e=t.stops,n=t.innerRadius/t.radius*100,r=e.length,o=[],i=0;i<r;i++){var s=Object.assign({},e[i]);s.offset=(s.offset*(100-n)+n)/100,o.push(s)}return o}function L(t){var e=t.origin,n=t.bottomRight();return new gr(e.x,e.y,n.x,n.y)}function N(t,e){var n=t.tickX,r=t.tickY,o=t.position,i=new Ke.drawing.Path({stroke:{width:e.width,color:e.color}});return t.vertical?i.moveTo(n,o).lineTo(n+e.size,o):i.moveTo(o,r).lineTo(o,r+e.size),s(i),i}function B(t,e){var n=t.lineStart,r=t.lineEnd,o=t.position,i=new Ke.drawing.Path({stroke:{width:e.width,color:e.color,dashType:e.dashType}});return t.vertical?i.moveTo(n,o).lineTo(r,o):i.moveTo(o,n).lineTo(o,r),s(i),i}function V(t,e){var n=t.getTime()-e,r=t.getTimezoneOffset()-e.getTimezoneOffset();return n-r*Xr}function H(t,e){return new Date(t.getTime()+e)}function U(t){var e;return t instanceof Date?e=t:t&&(e=new Date(t)),e}function K(t,e){void 0===e&&(e=0);var n=0,r=t.getDay();if(!isNaN(r))for(;r!==e;)0===r?r=6:r--,n++;return H(t,-n*Zr)}function q(t,e){return 0===e&&23===t.getHours()&&(t.setHours(t.getHours()+2),!0)}function W(t,e){var n=new Date(t);n.setMinutes(0,0,0);var r=(t.getTimezoneOffset()-n.getTimezoneOffset())*Xr;return H(n,r+e*Jr)}function G(t,e,n,r){var o=t;if(t){var i=U(t),s=i.getHours();n===Gr?(o=new Date(i.getFullYear()+e,0,1),q(o,0)):n===Wr?(o=new Date(i.getFullYear(),i.getMonth()+e,1),q(o,s)):n===qr?(o=G(K(i,r),7*e,Kr),q(o,s)):n===Kr?(o=new Date(i.getFullYear(),i.getMonth(),i.getDate()+e),q(o,s)):n===Ur?o=W(i,e):n===Hr?(o=H(i,e*Xr),o.getSeconds()>0&&o.setSeconds(0)):n===Vr?o=H(i,e*Yr):n===Br&&(o=H(i,e)),n!==Br&&o.getMilliseconds()>0&&o.setMilliseconds(0)}return o}function $(t,e,n){return G(U(t),0,e,n)}function Y(t,e,n){var r=U(t);return r&&$(r,e,n).getTime()===r.getTime()?r:G(r,1,e,n)}function X(t,e){return t&&e?t.getTime()-e.getTime():-1}function J(t,e){return t.getTime()-e}function Z(t){if(r(t)){for(var e=[],n=0;n<t.length;n++)e.push(Z(t[n]));return e}if(t)return U(t).getTime()}function Q(t,e){return t&&e?Z(t)===Z(e):t===e}function tt(t,e,n){return V(t,e)/no[n]}function et(t,e,n,r){var o,i=U(t),s=U(e);return o=n===Wr?i.getMonth()-s.getMonth()+12*(i.getFullYear()-s.getFullYear())+tt(i,new Date(i.getFullYear(),i.getMonth()),Kr)/new Date(i.getFullYear(),i.getMonth()+1,0).getDate():n===Gr?i.getFullYear()-s.getFullYear()+et(i,new Date(i.getFullYear(),0),Wr,1)/12:n===Kr||n===qr?tt(i,s,n):J(i,e)/no[n],o/r}function nt(t,e,n){var r;return r=n===Gr?e.getFullYear()-t.getFullYear():n===Wr?12*nt(t,e,Gr)+e.getMonth()-t.getMonth():n===Kr?Math.floor(J(e,t)/Zr):Math.floor(J(e,t)/no[n])}function rt(t,e){var n;return n=c(e)?t.parseDate(e)||U(e):U(e)}function ot(t,e){if(r(e)){for(var n=[],o=0;o<e.length;o++)n.push(rt(t,e[o]));return n}return rt(t,e)}function it(t,e){return l(t.weekStartDay)?t.weekStartDay:e.firstDay?e.firstDay():0}function st(t,e){if(t instanceof Date){for(var n=e.length,r=0;r<n;r++)if(Q(e[r],t))return r;return-1}return e.indexOf(t)}function at(t){var e=t._range;return e||(e=t._range=T(t),e.min=U(e.min),e.max=U(e.max)),e}function lt(t,e,n){for(var r,o,i,s=at(t.categories),a=(t.max||s.max)-(t.min||s.min),l=t.autoBaseUnitSteps,c=t.maxDateGroups,u=t.baseUnit===uo,p=e?co.indexOf(e):0,h=u?co[p++]:t.baseUnit,f=a/no[h],d=f;!o||f>=c;){r=r||l[h].slice(0);do i=r.shift();while(i&&e===h&&i<n);if(i)o=i,f=d/o;else{if(h===sr(co)){o=Math.ceil(d/c);break}if(!u){f>c&&(o=Math.ceil(d/c));break}h=co[p++]||sr(co),d=a/no[h],r=null}}t.baseUnitStep=o,t.baseUnit=h}function ct(t){for(var e,n,r=t.categories,o=tr(r)?r.length:0,i=pn,s=0;s<o;s++){var a=r[s];if(a&&e){var l=V(a,e);l>0&&(i=Math.min(i,l),n=i>=eo?Gr:i>=to-3*Zr?Wr:i>=Qr?qr:i>=Zr?Kr:i>=Jr?Ur:i>=Xr?Hr:Vr)}e=a}t.baseUnit=n||Kr}function ut(t){var e=(t.baseUnit||"").toLowerCase(),n=e!==uo&&!k(e,co);return n&&ct(t),e!==uo&&t.baseUnitStep!==lo||lt(t),t}function pt(t,e,n){if(!t&&!e)return 0;var r;if(t>=0&&e>=0){var o=t===e?0:t,i=(e-o)/e;if(n===!1||!n&&i>ao)return 0;r=Math.max(0,o-(e-o)/2)}else r=t;return r}function ht(t,e,n){if(!t&&!e)return 1;var r;if(t<=0&&e<=0){var o=t===e?0:e,i=Math.abs((o-t)/o);if(n===!1||!n&&i>ao)return 0;r=Math.min(0,o-(t-o)/2)}else r=e;return r}function ft(t,e){return ur(Math.floor(t/e)*e,nn)}function dt(t,e){return ur(Math.ceil(t/e)*e,nn)}function vt(t){return Math.max(Math.min(t,io),-io)}function yt(t,e,n){var r=n.narrowRange,o=pt(t,e,r),i=ht(t,e,r),s=D(o,i),a={majorUnit:s};return n.roundToMajorUnit!==!1&&(o<0&&wt(o,s,1/3)&&(o-=s),i>0&&wt(i,s,1/3)&&(i+=s)),a.min=ft(o,s),a.max=dt(i,s),a}function gt(t,e){return{min:tr(e.min)?Math.min(t.min,e.min):t.min,max:tr(e.max)?Math.max(t.max,e.max):t.max,majorUnit:t.majorUnit}}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];null===t[r]&&(t[r]=void 0)}}function bt(t,e){var n,r,o=e;if(e){mt(e,["min","max"]),n=tr(e.min),r=tr(e.max);var i=n||r;i&&e.min===e.max&&(e.min>0?e.min=0:e.max=1),e.majorUnit?(t.min=ft(t.min,e.majorUnit),t.max=dt(t.max,e.majorUnit)):i&&(o=f(t,e),t.majorUnit=D(o.min,o.max))}t.minorUnit=(o.majorUnit||t.majorUnit)/5;var s=f(t,o);return s.min>=s.max&&(n&&!r?s.max=s.min+s.majorUnit:!n&&r&&(s.min=s.max-s.majorUnit)),s}function wt(t,e,n){var r=ur(Math.abs(t%e),nn),o=e*(1-n);return 0===r||r>o}function _t(t){var e=Ur;return t>=eo?e=Gr:t>=to?e=Wr:t>=Qr?e=qr:t>=Zr&&(e=Kr),e}function xt(t,e,n){var r=n.min||t,o=n.max||e,i=n.baseUnit||(o&&r?_t(V(o,r)):Ur),s=no[i],a=n.weekStartDay||0,l=$(Z(r)-1,i,a)||U(o),c=Y(Z(o)+1,i,a),u=n.majorUnit?n.majorUnit:void 0,p=u||dt(D(l.getTime(),c.getTime()),s)/s,h=nt(l,c,i),f=dt(h,p),d=f-h,v=Math.floor(d/2),y=d-v;return n.baseUnit||delete n.baseUnit,n.baseUnit=n.baseUnit||i,n.min=n.min||G(l,-v,i,a),n.max=n.max||G(c,y,i,a),n.minorUnit=n.minorUnit||p/5,n.majorUnit=p,n}function kt(t,e,n,r){var o=n.min,i=n.max;return tr(n.axisCrossingValue)&&n.axisCrossingValue<=0&&Ct(),tr(r.max)?r.max<=0&&Ct():i=e,tr(r.min)?r.min<=0&&Ct():o=t,{min:o,max:i}}function St(t,e,n){var r=n.majorUnit,o=t;return t<=0?o=e<=1?Math.pow(r,-2):1:n.narrowRange||(o=Math.pow(r,Math.floor(Mt(t,r)))),o}function Ot(t,e){var n,r=ur(Mt(t,e),nn)%1;return n=t<=0?e:0!==r&&(r<.3||r>.9)?Math.pow(e,Mt(t,e)+.2):Math.pow(e,Math.ceil(Mt(t,e)))}function Ct(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function Mt(t,e){return Math.log(t)/Math.log(e)}function Tt(t,e){return 180-Math.abs(Math.abs(t-e)-180)}function Et(t){return t<=0?-1:1}function Pt(t,e){for(var n=0;n<e.length;n++)if(e[n].options.name===t)return e[n].prepareUserOptions(),new Eo(e[n])}function At(t){for(var e=t.length,n=0,r=0;r<e;r++){var o=t[r];l(o)&&n++}return n}function jt(t,e){if(null===e)return e;var n=w(t,!0);return n(e)}function Dt(t,e,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);var o=n.defaults=n.defaults||{},i=n.depth=n.depth||0,s=!1;if(n.excluded=n.excluded||[],i>vs)return null;
for(var a in t)if(!k(a,n.excluded)&&t.hasOwnProperty(a)){var l=t[a];p(l)?(s=!0,r||(t[a]=hr(l(e),o[a]))):d(l)&&(r||(n.defaults=o[a]),n.depth++,s=Dt(l,e,n,r)||s,n.depth--)}return s}function Rt(t){for(var e=t.length,n=0,r=0;r<e;r++)n=Math.max(n,t[r].data.length);return n}function It(t,e,n,r,o){var i=t.box,s=new Ke.geometry.Point;return s[e]=i[e+n],s[r]=i[r+o],s}function zt(t){for(var e=0;e<t.length;e++)if(tr(t[e].zIndex))return!0}function Ft(t){var e=t.overlay;return e&&e.gradient&&"none"!==e.gradient}function Lt(t,e){t.forEach(e)}function Nt(t,e){for(var n=t.length,r=n-1;r>=0;r--)e(t[r],r-n-1)}function Bt(t){return At(t)===t.length}function Vt(t){return tr(t)&&null!==t}function Ht(t){for(var e=t.series,n=0;n<e.length;n++){var o=e[n],i=o.data;!i||r(i[0])||d(i[0])||(o.data=[i])}}function Ut(){return"pane"+na++}function Kt(t,e){null!==e&&t.push(e)}function qt(t,e,n){var r=e.visible;if(tr(r))return r;var o=t.pointVisibility;return o?o[n]:void 0}function Wt(t){for(var e=t.data,n=[],r=0,o=0,i=0;i<e.length;i++){var s=Do.current.bindPoint(t,i),a=s.valueFields.value;c(a)&&(a=parseFloat(a)),l(a)?(s.visible=qt(t,s.fields,i)!==!1,s.value=Math.abs(a),n.push(s),s.visible&&(r+=s.value),0!==a&&o++):n.push(null)}return{total:r,points:n,count:o}}function Gt(t,e){return t&&e?t.toLowerCase()===e.toLowerCase():t===e}function $t(t,e){for(var n=[],r=[].concat(e),o=0;o<t.length;o++){var i=t[o];k(i.type,r)&&n.push(i)}return n}function Yt(t,e,n){if(null===e)return e;var r="_date_"+t,o=e[r];return o||(o=rt(n,w(t,!0)(e)),e[r]=o),o}function Xt(t,e){var n=t.type,r=e instanceof Date;return!n&&r||Gt(n,Qe)}function Jt(t){return 1===t.length?t[0]:t}function Zt(t){return t.missingValues?t.missingValues:ra.test(t.type)||t.stack?Zo:Qo}function Qt(t,e){var n=Do.current.bindPoint(t,null,e),r=n.valueFields;for(var o in r)if(u(r[o]))return!0}function te(t){var e,n,r=t.start,o=t.dir,i=t.min,s=t.max,a=t.getter,l=t.hasItem,c=t.series,u=r;do u+=o,l(u)&&(n=a(u),e=Qt(c,n.item));while(i<=u&&u<=s&&!e);if(e)return n}function ee(t,e,n,r,o){var i=e.min,s=e.max,a=i>0&&i<n,l=s+1<n;if(a||l){var c,u,p=Zt(t);if(p!==Qo)a&&(c=r(i-1)),l&&(u=r(s+1));else{var h,f;a&&(h=r(i-1),f=Qt(t,h.item),c=f?h:te({start:i,dir:-1,min:0,max:n-1,getter:r,hasItem:o,series:t})),l&&(h=r(s+1),f=Qt(t,h.item),u=f?h:te({start:s,dir:1,min:0,max:n-1,getter:r,hasItem:o,series:t}))}c&&(t._outOfRangeMinPoint=c),u&&(t._outOfRangeMaxPoint=u)}}function ne(t){return!t.pane.axes.some(function(e){return e.options.vertical===t.options.vertical&&e!==t&&e.options.visible!==!1})}function re(t){for(var e,n=t.length,r=0;r<n;r++){var o=t[r],i=o.options.visible!==!1;if(i||ne(o)){var s=i?o.contentBox():o.lineBox();e?e.wrap(s):e=s.clone()}}return e||new gr}function oe(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r&&r.pane===e)return r}}function ie(t){return""===t||null===t||"none"===t||"transparent"===t||!tr(t)}function se(t,e,n){var r=e,o=t;if(t.indexOf(".")>-1){for(var i=t.split(".");i.length>1;)o=i.shift(),tr(r[o])||(r[o]={}),r=r[o];o=i.shift()}r[o]=n}function ae(t,e,n){var r=e instanceof oo?[].concat(t.categoryAxis):[].concat(t.valueAxis);f(r[e.axisIndex],n)}function le(t,e,n){return _(t,function(t){return 0===n&&!t.categoryAxis||t.categoryAxis===e})}function ce(){this._defaultPrevented=!0}function ue(t,e){var n=(e||"").toLowerCase(),r=t.event,o="none"===n&&!(r.ctrlKey||r.shiftKey||r.altKey)||r[n+"Key"];return o}function pe(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.axis.options.name&&(e[r.axis.options.name]={min:r.range.min,max:r.range.max})}return e}function he(t){var e=document.createElement("div");return t&&(e.className=t),e}function fe(t){for(var e=t;e&&!x(e,"k-handle");)e=e.parentNode;return e}function de(t,e,n,r){var o=[].concat(n?t.yAxis:t.xAxis)[e];f(o,r)}function ve(t){var e,n=cr(t),r=ur(Math.sin(n),nn),o=ur(Math.cos(n),nn);e=Math.abs(r)>Ja?Ye:o<0?bn:un;var i;return i=Math.abs(r)<Xa?Ye:r<0?$e:xn,{horizontal:e,vertical:i}}function ye(t,e,n,r){var o,i=(r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x),s=(r.y-n.y)*(e.x-t.x)-(r.x-n.x)*(e.y-t.y);if(0!==s){var a=i/s;o=new yr(t.x+a*(e.x-t.x),t.y+a*(e.y-t.y))}return o}function ge(t,e){return t.value.x-e.value.x}function me(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e[r.seriesIx]=e[r.seriesIx]||[],e[r.seriesIx].push(r)}return e}function be(t){for(var e=Rl,n=0;n<e.length;n++){var r=e[n]+"Axes";t[r]&&(t[e[n]+"Axis"]=t[r],delete t[r])}}function we(t,e){if(t)for(var n=0;n<t.length;n++)if(t[n].category===e)return[t[n]]}function _e(t,e){function n(t){var e=(t||{}).color||o.color,n=f({},s,s[r],o,o[r],{line:{color:e},labels:{color:e},title:{color:e}},t);return delete n[r],n}for(var r,o,i,s=(e||{}).axisDefaults||{},a=0;a<Rl.length;a++)r=Rl[a]+"Axis",o=t.axisDefaults||{},i=[].concat(t[r]),i=i.map(n),t[r]=i.length>1?i:i[0]}function xe(t,e){var n=t.series,r=n.length,o=t.seriesDefaults,i=f({},t.seriesDefaults),s=e?f({},e.seriesDefaults):{},a=f({},s);ke(i),ke(a);for(var l=0;l<r;l++){var c=n[l].type||t.seriesDefaults.type,u=f({data:[]},a,s[c],{tooltip:t.tooltip},i,o[c]);n[l]._defaults=u,n[l]=f({},u,n[l]),n[l].data=n[l].data||[]}}function ke(t){delete t.bar,delete t.column,delete t.rangeColumn,delete t.line,delete t.verticalLine,delete t.pie,delete t.donut,delete t.area,delete t.verticalArea,delete t.scatter,delete t.scatterLine,delete t.bubble,delete t.candlestick,delete t.ohlc,delete t.boxPlot,delete t.bullet,delete t.verticalBullet,delete t.polarArea,delete t.polarLine,delete t.radarArea,delete t.radarLine,delete t.waterfall}function Se(t){for(var e={},n=0;n<t.length;n++){var r=t[n],o=r.options.name;o&&(e[o]=r.range())}return e}function Oe(t,e){void 0===e&&(e=X);for(var n=1,r=t.length;n<r;n++)if(e(t[n],t[n-1])<0){t.sort(e);break}return t}function Ce(t,e){void 0===e&&(e=X);for(var n=Oe(t,e),r=n.length,o=r>0?[n[0]]:[],i=1;i<r;i++)0!==e(n[i],sr(o))&&o.push(n[i]);return o}function Me(t){for(var e=t.length,n=[],r=0;r<e;r++)for(var o=t[r],i=o.length,s=0;s<i;s++)n[s]=n[s]||[],n[s].push(o[s]);return n}function Te(t,e){for(var n in e)if(!k(n,Bl)&&e.hasOwnProperty(n)){var r=e[n],o=t[n];if(tr(o)){var i=null===r;i||!tr(r)?(delete t[n],i&&delete e[n]):o&&d(r)&&d(o)&&Te(o,r)}}}function Ee(t){for(var e=0;e<t.length;e++)t[e].notifyRender()}function Pe(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e[n]=r.style.display,r.style.display="none"}return e}function Ae(t,e){for(var n=0;n<t.length;n++)t[n].style.display=e[n]}function je(t){return l(t)?[t]:t}function De(t,e){var n=document.createElement("div");return n.className=t,e&&(n.style.cssText=e),n}function Re(){}function Ie(t){return Re.prototype=t,new Re}function ze(t,e){var n=t.getOrigin(),r=t.getSize(),o=m(e);return t.setOrigin([n.x-o.left,n.y-o.top]),t.setSize([r.width+(o.left+o.right),r.height+(o.top+o.bottom)]),t}function Fe(t,e){var n=t.box,r=t.children[0].box,o=e.border||{},i=e.background||"",s=gc.fromRect(new Ke.geometry.Rect([n.x1,n.y1],[n.width(),n.height()]),{stroke:{}}),a=new mc(t.text,new Ke.geometry.Point(r.x1,r.y1),{font:e.font,fill:{color:e.color}}),l=ze(a.bbox().clone(),e.padding),c=gc.fromRect(l,{stroke:{color:o.width?o.color:"",width:o.width,opacity:o.opacity,dashType:o.dashType,lineJoin:"round",lineCap:"round"},fill:{color:i}}),u=new yc;return u.append(s),u.append(c),u.append(a),u}function Le(t,e,n){var r=tr(t.from)?t.from:hn,o=tr(t.to)?t.to:pn;return t.from=Math.max(Math.min(o,r),e),t.to=Math.min(Math.max(o,r),n),t}function Ne(t,e){var n=m(e);return n.left=-n.left,n.top=-n.top,n.right=-n.right,n.bottom=-n.bottom,ze(t,n)}function Be(t,e){var n,r,o=t.position,i=t.tickX,s=t.tickY;t.vertical?(n=new Oc(i,o),r=new Oc(i+e.size,o)):(n=new Oc(o,s),r=new Oc(o,s+e.size));var a=new kc({stroke:{color:e.color,width:e.width}}).moveTo(n).lineTo(r);return a}function Ve(t,e,n,r){var o=e.length;if(r.visible)for(var i=n.mirror,s=n.lineBox,a=r.skip;a<o;a+=r.step)a%r.skipUnit!==0&&(n.tickX=i?s.x2:s.x2-r.size,n.tickY=i?s.y1-r.size:s.y1,n.position=e[a],t.append(Be(n,r)))}function He(t,e,n,r){var o=new Kc,i=t.center,s=t.getRadiusX();if(r.visible)for(var a=0;a<e.length;a++){var l=t.pointAt(e[a]),c=new Ke.geometry.Point(i.x+s-r.size,i.y).rotate(e[a],i);o.append(new Uc({stroke:{color:r.color,width:r.width}}).moveTo(l).lineTo(c))}return o}function Ue(t,e,n,r){return{from:t,to:e,color:n,opacity:r}}Object.defineProperty(e,"__esModule",{value:!0});var Ke=n(26),qe="arc",We="axisLabelClick",Ge="#000",$e="bottom",Ye="center",Xe="circle",Je=3,Ze="cross",Qe="date",tn="12px sans-serif",en=400,nn=10,rn=600,on="end",sn=/\{\d+:?/,an="height",ln=100,cn="inside",un="left",pn=Number.MAX_VALUE,hn=-Number.MAX_VALUE,fn="none",dn="noteClick",vn="noteHover",yn="noteLeave",gn="object",mn="outside",bn="right",wn="start",_n="string",xn="top",kn="triangle",Sn="value",On="#fff",Cn="width",Mn="x",Tn="y",En=/\s+/g,Pn="object",An="undefined",jn=/width|height|top|left|bottom|right/i,Dn={format:function(t,e){return e},toString:function(t){return t},parseDate:function(t){return new Date(t)},firstDay:function(){return 0}},Rn=Dn,In=function(){},zn={implementation:{}};In.register=function(t){Rn=t},zn.implementation.get=function(){return Rn},Object.defineProperties(In,zn);var Fn=/\{(\d+)(:[^\}]+)?\}/g,Ln=function(t){this._intlService=t},Nn={intl:{}};Nn.intl.get=function(){return this._intlService||In.implementation},Nn.intl.set=function(t){this._intlService=t},Ln.prototype.auto=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=this.intl;return c(t)&&t.match(sn)?r.format.apply(r,[t].concat(e)):r.toString(e[0],t)},Ln.prototype.localeAuto=function(t,e,n){var r,o=this.intl;return r=c(t)&&t.match(sn)?t.replace(Fn,function(t,r,i){var s=e[parseInt(r,10)];return o.toString(s,i?i.substring(1):"",n)}):o.toString(e[0],t,n)},Object.defineProperties(Ln.prototype,Nn);var Bn=function(t,e){void 0===e&&(e={}),this._intlService=e.intlService,this.sender=e.sender||t,this.format=new Ln(e.intlService),this.chart=t,this.rtl=Boolean(e.rtl)},Vn={intl:{}};Vn.intl.get=function(){return this._intlService||In.implementation},Vn.intl.set=function(t){this._intlService=t,this.format.intl=t},Bn.prototype.notify=function(t,e){this.chart&&this.chart.trigger(t,e)},Bn.prototype.isPannable=function(t){var e=((this.chart||{}).options||{}).pannable;return e&&e.lock!==t},Object.defineProperties(Bn.prototype,Vn);var Hn,Un=function(){};Un.register=function(t){Hn=t},Un.create=function(t,e){if(Hn)return Hn.create(t,e)};var Kn={compile:function(t){return t}},qn=function(){};qn.register=function(t){Kn=t},qn.compile=function(t){return Kn.compile(t)};var Wn=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,Gn={};Gn.undefined=function(t){return t};var $n=function(){this._map={}};$n.prototype.get=function(t){return this._map[this._key(t)]},$n.prototype.set=function(t,e){this._map[this._key(t)]=e},$n.prototype._key=function(t){return t instanceof Date?t.getTime():t};var Yn="trigger",Xn=function(t,e){this.observer=t,this.handlerMap=f({},this.handlerMap,e)};Xn.prototype.trigger=function(t,e){var n,r=this,o=r.observer,i=r.handlerMap;return i[t]?n=this.callObserver(i[t],e):o[Yn]&&(n=this.callObserver(Yn,t,e)),n},Xn.prototype.callObserver=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return this.observer[t].apply(this.observer,e)},Xn.prototype.requiresHandlers=function(t){var e=this;if(this.observer.requiresHandlers)return this.observer.requiresHandlers(t);for(var n=0;n<t.length;n++)if(e.handlerMap[t[n]])return!0};var Jn=Ke.drawing.util,Zn=Jn.append,Qn=Jn.bindEvents,tr=Jn.defined,er=Jn.deg,nr=Jn.elementOffset,rr=Jn.elementSize,or=Jn.eventElement,ir=Jn.eventCoordinates,sr=Jn.last,ar=Jn.limitValue,lr=Jn.objectKey,cr=Jn.rad,ur=Jn.round,pr=Jn.unbindEvents,hr=Jn.valueOrDefault,fr=function(){};fr.fetchFonts=function(t,e,n){void 0===n&&(n={depth:0});var r=5;!t||n.depth>r||!document.fonts||Object.keys(t).forEach(function(r){var o=t[r];"dataSource"!==r&&"$"!==r[0]&&o&&("font"===r?e.push(o):"object"==typeof o&&(n.depth++,fr.fetchFonts(o,e,n),n.depth--))})},fr.loadFonts=function(t,e){var n=[];if(t.length>0&&document.fonts){try{n=t.map(function(t){return document.fonts.load(t)})}catch(t){Ke.logToConsole(t)}Promise.all(n).then(e,e)}else e()},fr.preloadFonts=function(t,e){var n=[];fr.fetchFonts(t,n),fr.loadFonts(n,e)};var dr=Ke.geometry.Matrix,vr=/matrix\((.*)\)/,yr=function(t){function e(e,n){t.call(this),this.x=e||0,this.y=n||0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y},e.prototype.rotate=function(t,e){var n=cr(e),r=Math.cos(n),o=Math.sin(n),i=t.x,s=t.y,a=this,l=a.x,c=a.y;return this.x=ur(i+(l-i)*r+(c-s)*o,Je),this.y=ur(s+(c-s)*r-(l-i)*o,Je),this},e.prototype.multiply=function(t){return this.x*=t,this.y*=t,this},e.prototype.distanceTo=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},e.onCircle=function(t,n,r){var o=cr(n);return new e(t.x-r*Math.cos(o),t.y-r*Math.sin(o))},e}(Ke.Class),gr=function(t){function e(e,n,r,o){t.call(this),this.x1=e||0,this.y1=n||0,this.x2=r||0,this.y2=o||0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.equals=function(t){return this.x1===t.x1&&this.x2===t.x2&&this.y1===t.y1&&this.y2===t.y2},e.prototype.width=function(){return this.x2-this.x1},e.prototype.height=function(){return this.y2-this.y1},e.prototype.translate=function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},e.prototype.move=function(t,e){var n=this.height(),r=this.width();return tr(t)&&(this.x1=t,this.x2=this.x1+r),tr(e)&&(this.y1=e,this.y2=this.y1+n),this},e.prototype.wrap=function(t){return this.x1=Math.min(this.x1,t.x1),this.y1=Math.min(this.y1,t.y1),this.x2=Math.max(this.x2,t.x2),this.y2=Math.max(this.y2,t.y2),this},e.prototype.wrapPoint=function(t){var n=r(t),o=n?t[0]:t.x,i=n?t[1]:t.y;return this.wrap(new e(o,i,o,i)),this},e.prototype.snapTo=function(t,e){return e!==Mn&&e||(this.x1=t.x1,this.x2=t.x2),e!==Tn&&e||(this.y1=t.y1,this.y2=t.y2),this},e.prototype.alignTo=function(t,e){var n=this.height(),r=this.width(),o=e===xn||e===$e?Tn:Mn,i=o===Tn?n:r;if(e===Ye){var s=t.center(),a=this.center();this.x1+=s.x-a.x,this.y1+=s.y-a.y}else e===xn||e===un?this[o+1]=t[o+1]-i:this[o+1]=t[o+2];return this.x2=this.x1+r,this.y2=this.y1+n,this},e.prototype.shrink=function(t,e){return this.x2-=t,this.y2-=e,this},e.prototype.expand=function(t,e){return this.shrink(-t,-e),this},e.prototype.pad=function(t){var e=m(t);return this.x1-=e.left,this.x2+=e.right,this.y1-=e.top,this.y2+=e.bottom,this},e.prototype.unpad=function(t){var e=m(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,this.pad(e)},e.prototype.clone=function(){return new e(this.x1,this.y1,this.x2,this.y2)},e.prototype.center=function(){return new yr(this.x1+this.width()/2,this.y1+this.height()/2)},e.prototype.containsPoint=function(t){return t.x>=this.x1&&t.x<=this.x2&&t.y>=this.y1&&t.y<=this.y2},e.prototype.points=function(){return[new yr(this.x1,this.y1),new yr(this.x2,this.y1),new yr(this.x2,this.y2),new yr(this.x1,this.y2)]},e.prototype.getHash=function(){return[this.x1,this.y1,this.x2,this.y2].join(",")},e.prototype.overlaps=function(t){return!(t.y2<this.y1||this.y2<t.y1||t.x2<this.x1||this.x2<t.x1)},e.prototype.rotate=function(t){var e=this.width(),n=this.height(),r=this.center(),o=r.x,i=r.y,s=R(0,0,o,i,t),a=R(e,0,o,i,t),l=R(e,n,o,i,t),c=R(0,n,o,i,t);return e=Math.max(s.x,a.x,l.x,c.x)-Math.min(s.x,a.x,l.x,c.x),n=Math.max(s.y,a.y,l.y,c.y)-Math.min(s.y,a.y,l.y,c.y),this.x2=this.x1+e,this.y2=this.y1+n,this},e.prototype.toRect=function(){return new Ke.geometry.Rect([this.x1,this.y1],[this.width(),this.height()])},e.prototype.hasSize=function(){return 0!==this.width()&&0!==this.height()},e.prototype.align=function(t,e,n){var r=e+1,o=e+2,i=e===Mn?Cn:an,s=this[i]();k(n,[un,xn])?(this[r]=t[r],this[o]=this[r]+s):k(n,[bn,$e])?(this[o]=t[o],this[r]=this[o]-s):n===Ye&&(this[r]=t[r]+(t[i]()-s)/2,this[o]=this[r]+s)},e}(Ke.Class),mr=function(t){function e(e,n,r,o,i){t.call(this),this.center=e,this.innerRadius=n,this.radius=r,this.startAngle=o,this.angle=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)},e.prototype.middle=function(){return this.startAngle+this.angle/2},e.prototype.setRadius=function(t,e){return e?this.innerRadius=t:this.radius=t,this},e.prototype.point=function(t,e){var n=cr(t),r=Math.cos(n),o=Math.sin(n),i=e?this.innerRadius:this.radius,s=ur(this.center.x-r*i,Je),a=ur(this.center.y-o*i,Je);return new yr(s,a)},e.prototype.adjacentBox=function(t,e,n){var r=this.clone().expand(t),o=r.middle(),i=r.point(o),s=e/2,a=n/2,l=Math.sin(cr(o)),c=Math.cos(cr(o)),u=i.x-s,p=i.y-a;return Math.abs(l)<.9&&(u+=s*-c/Math.abs(c)),Math.abs(c)<.9&&(p+=a*-l/Math.abs(l)),new gr(u,p,u+e,p+n)},e.prototype.containsPoint=function(t){var e=this.center,n=this.innerRadius,r=this.radius,o=this.startAngle,i=this.startAngle+this.angle,s=t.x-e.x,l=t.y-e.y,c=new yr(s,l),u=this.point(o),p=new yr(u.x-e.x,u.y-e.y),h=this.point(i),f=new yr(h.x-e.x,h.y-e.y),d=ur(s*s+l*l,Je);return(p.equals(c)||a(p,c))&&!a(f,c)&&d>=n*n&&d<=r*r},e.prototype.getBBox=function(){var t,e=this,n=new gr(pn,pn,hn,hn),r=ur(this.startAngle%360),o=ur((r+this.angle)%360),i=this.innerRadius,s=[0,90,180,270,r,o].sort(I),a=s.indexOf(r),l=s.indexOf(o);t=r===o?s:a<l?s.slice(a,l+1):[].concat(s.slice(0,l+1),s.slice(a,s.length));for(var c=0;c<t.length;c++){var u=e.point(t[c]);n.wrapPoint(u),n.wrapPoint(u,i)}return i||n.wrapPoint(this.center),n},e.prototype.expand=function(t){return this.radius+=t,this},e}(Ke.Class),br=function(t){function e(e,n,r,o){t.call(this,e,0,n,r,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expand=function(e){return t.prototype.expand.call(this,e)},e.prototype.clone=function(){return new e(this.center,this.radius,this.startAngle,this.angle)},e.prototype.setRadius=function(t){return this.radius=t,this},e}(mr),wr=.001,_r=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRing=function(t,e){var n=t.startAngle+180,r=t.angle+n;t.angle>0&&n===r&&(r+=wr);var o=new Ke.geometry.Point(t.center.x,t.center.y),i=Math.max(t.radius,0),s=Math.max(t.innerRadius,0),a=new Ke.geometry.Arc(o,{startAngle:n,endAngle:r,radiusX:i,radiusY:i}),l=Ke.drawing.Path.fromArc(a,e).close();if(s){a.radiusX=a.radiusY=s;var c=a.pointAt(r);l.lineTo(c.x,c.y),l.arc(r,n,s,s,!0)}else l.lineTo(o.x,o.y);return l},e}(Ke.Class);_r.current=new _r;var xr=function(t){function e(e){t.call(this),this.children=[],this.options=f({},this.options,this.initUserOptions(e))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){return t},e.prototype.reflow=function(t){for(var e,n=this.children,r=0;r<n.length;r++){var o=n[r];o.reflow(t),e=e?e.wrap(o.box):o.box.clone()}this.box=e||t},e.prototype.destroy=function(){var t=this.children;this.animation&&this.animation.destroy();for(var e=0;e<t.length;e++)t[e].destroy()},e.prototype.getRoot=function(){var t=this.parent;return t?t.getRoot():null},e.prototype.getSender=function(){var t=this.getService();if(t)return t.sender},e.prototype.getService=function(){for(var t=this;t;){if(t.chartService)return t.chartService;t=t.parent}},e.prototype.translateChildren=function(t,e){for(var n=this.children,r=n.length,o=0;o<r;o++)n[o].box.translate(t,e)},e.prototype.append=function(){for(var t=arguments,e=this,n=0;n<arguments.length;n++){var r=t[n];e.children.push(r),r.parent=e}},e.prototype.renderVisual=function(){this.options.visible!==!1&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())},e.prototype.addVisual=function(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))},e.prototype.renderChildren=function(){for(var t=this.children,e=t.length,n=0;n<e;n++)t[n].renderVisual()},e.prototype.createVisual=function(){this.visual=new Ke.drawing.Group({zIndex:this.options.zIndex,visible:hr(this.options.visible,!0)})},e.prototype.createAnimation=function(){this.visual&&this.options.animation&&(this.animation=Ke.drawing.Animation.create(this.visual,this.options.animation))},e.prototype.appendVisual=function(t){t.chartElement||(t.chartElement=this),t.options.noclip?this.clipRoot().visual.append(t):tr(t.options.zIndex)?this.stackRoot().stackVisual(t):this.isStackRoot?this.stackVisual(t):this.visual?this.visual.append(t):this.parent.appendVisual(t)},e.prototype.clipRoot=function(){return this.parent?this.parent.clipRoot():this},e.prototype.stackRoot=function(){return this.parent?this.parent.stackRoot():this},e.prototype.stackVisual=function(t){var e,n=t.options.zIndex||0,r=this.visual.children,o=r.length;for(e=0;e<o;e++){var i=r[e],s=hr(i.options.zIndex,0);if(s>n)break}this.visual.insert(e,t)},e.prototype.traverse=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++){var o=e[r];t(o),o.traverse&&o.traverse(t)}},e.prototype.closest=function(t){for(var e=this,n=!1;e&&!n;)n=t(e),n||(e=e.parent);if(n)return e},e.prototype.renderComplete=function(){},e.prototype.hasHighlight=function(){var t=(this.options||{}).highlight;return!(!this.createHighlight||t&&t.visible===!1)},e.prototype.toggleHighlight=function(t){var e=this,n=(this.options||{}).highlight||{},r=n.visual,o=this._highlight;if(!o){var i={fill:{color:On,opacity:.2},stroke:{color:On,width:1,opacity:.2}};if(r){if(o=this._highlight=r(Object.assign(this.highlightVisualArgs(),{createVisual:function(){return e.createHighlight(i)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total})),!o)return}else o=this._highlight=this.createHighlight(i);tr(o.options.zIndex)||(o.options.zIndex=hr(n.zIndex,this.options.zIndex)),this.appendVisual(o)}o.visible(t)},e.prototype.createGradientOverlay=function(t,e,n){var r=new Ke.drawing.Path(Object.assign({stroke:{color:"none"},fill:this.createGradient(n),closed:t.options.closed},e));return r.segments.elements(t.segments.elements()),r},e.prototype.createGradient=function(t){if(this.parent)return this.parent.createGradient(t)},e}(Ke.Class);xr.prototype.options={};var kr=function(t){function e(e){t.call(this,e),this.options.margin=m(this.options.margin),this.options.padding=m(this.options.padding)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(e){var n,r=this,o=this.options,i=o.width,s=o.height,a=o.shrinkToFit,l=i&&s,c=o.margin,u=o.padding,p=o.border.width,h=function(){r.align(e,Mn,o.align),r.align(e,Tn,o.vAlign),r.paddingBox=n.clone().unpad(c).unpad(p)},f=e.clone();l&&(f.x2=f.x1+i,f.y2=f.y1+s),a&&f.unpad(c).unpad(p).unpad(u),t.prototype.reflow.call(this,f),n=l?this.box=new gr(0,0,i,s):this.box,a&&l?(h(),f=this.contentBox=this.paddingBox.clone().unpad(u)):(f=this.contentBox=n.clone(),n.pad(u).pad(p).pad(c),h()),this.translateChildren(n.x1-f.x1+c.left+p+u.left,n.y1-f.y1+c.top+p+u.top);for(var d=this.children,v=0;v<d.length;v++){var y=d[v];y.reflow(y.box)}},e.prototype.align=function(t,e,n){this.box.align(t,e,n)},e.prototype.hasBox=function(){var t=this.options;return t.border.width||t.background},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.options;e.visible&&this.hasBox()&&this.visual.append(Ke.drawing.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()))},e.prototype.visualStyle=function(){var t=this.options,e=t.border||{};return{stroke:{width:e.width,color:e.color,opacity:hr(e.opacity,t.opacity),dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor}},e}(xr);M(kr,{align:un,vAlign:xn,margin:{},padding:{},border:{color:Ge,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});var Sr=function(t){function e(e,n){t.call(this,e),this.pointData=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){var t=this,e=t.options,n=t.paddingBox,r=e.type,o=e.rotation,i=n.center(),s=n.width()/2;if(!e.visible||!this.hasBox())return null;var a,l=this.visualStyle();return r===Xe?a=new Ke.drawing.Circle(new Ke.geometry.Circle([ur(n.x1+s,Je),ur(n.y1+n.height()/2,Je)],s),l):r===kn?a=Ke.drawing.Path.fromPoints([[n.x1+s,n.y1],[n.x1,n.y2],[n.x2,n.y2]],l).close():r===Ze?(a=new Ke.drawing.MultiPath(l),a.moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),a.moveTo(n.x1,n.y2).lineTo(n.x2,n.y1)):a=Ke.drawing.Path.fromRect(n.toRect(),l),o&&a.transform(Ke.geometry.transform().rotate(-o,[i.x,i.y])),a.options.zIndex=e.zIndex,a},e.prototype.createElement=function(){var t,e=this,n=this.options.visual,r=this.pointData||{};return t=n?n({value:r.value,dataItem:r.dataItem,sender:this.getSender(),series:r.series,category:r.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return e.getElement()}}):this.getElement()},e.prototype.visualOptions=function(){var t=this.options;return{background:t.background,border:t.border,margin:t.margin,padding:t.padding,type:t.type,size:t.width,visible:t.visible}},e.prototype.createVisual=function(){this.visual=this.createElement()},e}(kr);M(Sr,{type:Xe,align:Ye,vAlign:Ye});var Or="linear",Cr="radial",Mr={glass:{type:Or,rotation:0,stops:[{offset:0,color:On,opacity:0},{offset:.25,color:On,opacity:.3},{offset:1,color:On,opacity:0}]},sharpBevel:{type:Cr,stops:[{offset:0,color:On,opacity:.55},{offset:.65,color:On,opacity:0},{offset:.95,color:On,opacity:.25}]},roundedBevel:{type:Cr,stops:[{offset:.33,color:On,opacity:.06},{offset:.83,color:On,opacity:.2},{offset:.95,color:On,opacity:0}]},roundedGlass:{type:Cr,supportVML:!1,stops:[{offset:0,color:On,opacity:0},{offset:.5,color:On,opacity:.3},{offset:.99,color:On,opacity:0}]},sharpGlass:{type:Cr,supportVML:!1,stops:[{offset:0,color:On,opacity:.2},{offset:.15,color:On,opacity:.15},{offset:.17,color:On,opacity:.35},{offset:.85,color:On,opacity:.05},{offset:.87,color:On,opacity:.15},{offset:.99,color:On,opacity:0}]},bubbleShadow:{type:Cr,center:[.5,.5],radius:.5}},Tr=function(t){function e(e){t.call(this,e);var n=this.options;n.width=parseInt(n.width,10),n.height=parseInt(n.height,10),this.gradients={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(){var t=this,e=t.options,n=t.children,r=new gr(0,0,e.width,e.height);this.box=r.unpad(e.margin);for(var o=0;o<n.length;o++)n[o].reflow(r),r=z(r,n[o].box)||new gr},e.prototype.createVisual=function(){this.visual=new Ke.drawing.Group,this.createBackground()},e.prototype.createBackground=function(){var t=this.options,e=t.border||{},n=this.box.clone().pad(t.margin).unpad(e.width),r=Ke.drawing.Path.fromRect(n.toRect(),{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},zIndex:-10});this.visual.append(r)},e.prototype.getRoot=function(){return this},e.prototype.createGradient=function(t){var e,n=this.gradients,r=lr(t),o=Mr[t.gradient];if(n[r])e=n[r];else{var i=Object.assign({},o,t);"linear"===o.type?e=new Ke.drawing.LinearGradient(i):(t.innerRadius&&(i.stops=F(i)),e=new Ke.drawing.RadialGradient(i),e.supportVML=o.supportVML!==!1),n[r]=e}return e},e.prototype.cleanGradients=function(){var t=this.gradients;for(var e in t)t[e]._observers=[]},e.prototype.size=function(){var t=this.options;return new gr(0,0,t.width,t.height)},e}(xr);M(Tr,{width:rn,height:en,background:On,border:{color:Ge,width:0},margin:m(5),zIndex:-2});var Er=function(t){function e(e){t.call(this,e),this._initDirection()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initDirection=function(){var t=this.options;t.vertical?(this.groupAxis=Mn,this.elementAxis=Tn,this.groupSizeField=Cn,this.elementSizeField=an,this.groupSpacing=t.spacing,this.elementSpacing=t.vSpacing):(this.groupAxis=Tn,this.elementAxis=Mn,this.groupSizeField=an,this.elementSizeField=Cn,this.groupSpacing=t.vSpacing,this.elementSpacing=t.spacing)},e.prototype.reflow=function(t){this.box=t.clone(),this.reflowChildren()},e.prototype.reflowChildren=function(){var t=this,e=this,n=e.box,r=e.elementAxis,o=e.groupAxis,i=e.elementSizeField,s=e.groupSizeField,a=this.groupOptions(),l=a.groups,c=a.groupsSize,u=a.maxGroupElementsSize,p=l.length,h=n[o+1]+this.alignStart(c,n[s]());if(p){for(var f=h,d=0;d<p;d++){for(var v=l[d],y=v.groupElements,g=n[r+1],m=y.length,b=0;b<m;b++){var w=y[b],_=t.elementSize(w),x=f+t.alignStart(_[s],v.groupSize),k=new gr;k[o+1]=x,k[o+2]=x+_[s],k[r+1]=g,k[r+2]=g+_[i],w.reflow(k),g+=_[i]+t.elementSpacing}f+=v.groupSize+t.groupSpacing}n[o+1]=h,n[o+2]=h+c,n[r+2]=n[r+1]+u}},e.prototype.alignStart=function(t,e){var n=0,r=this.options.align;return r===bn||r===$e?n=e-t:r===Ye&&(n=(e-t)/2),n},e.prototype.groupOptions=function(){for(var t=this,e=this,n=e.box,r=e.children,o=e.elementSizeField,i=e.groupSizeField,s=e.elementSpacing,a=e.groupSpacing,l=ur(n[o]()),c=r.length,u=[],p=0,h=0,f=0,d=0,v=[],y=0;y<c;y++){var g=r[y];g.box||g.reflow(n);var m=t.elementSize(g);t.options.wrap&&ur(h+s+m[o])>l&&(u.push({groupElements:v,groupSize:p,groupElementsSize:h}),d=Math.max(d,h),f+=a+p,p=0,h=0,v=[]),p=Math.max(p,m[i]),h>0&&(h+=s),h+=m[o],v.push(g)}return u.push({groupElements:v,groupSize:p,groupElementsSize:h}),d=Math.max(d,h),f+=p,{groups:u,groupsSize:f,maxGroupElementsSize:d}},e.prototype.elementSize=function(t){return{width:t.box.width(),height:t.box.height()}},e.prototype.createVisual=function(){},e}(xr);M(Er,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});var Pr=Ke.drawing.Text,Ar=function(t){function e(e,n){t.call(this,n),this.content=e,this.reflow(new gr)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,n=e.size=Ke.drawing.util.measureText(this.content,{font:e.font});this.baseline=n.baseline,this.box=new gr(t.x1,t.y1,t.x1+n.width,t.y1+n.height)},e.prototype.createVisual=function(){var t=this.options,e=t.font,n=t.color,r=t.opacity,o=t.cursor;this.visual=new Pr(this.content,this.box.toRect().topLeft(),{font:e,fill:{color:n,opacity:r},cursor:o})},e}(xr);M(Ar,{font:tn,color:Ge});var jr=/\n/m,Dr=function(t){function e(e,n,r){t.call(this,n),this.content=e,this.data=r,this._initContainer(),this.options._autoReflow!==!1&&this.reflow(new gr)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initContainer=function(){var t=this.options,e=String(this.content).split(jr),n=new Er({vertical:!0,align:t.align,wrap:!1}),r=f({},t,{opacity:1,animation:null});this.container=n,this.append(n);for(var o=0;o<e.length;o++){var i=new Ar(e[o].trim(),r);n.append(i)}},e.prototype.reflow=function(e){var n=this.options,r=n.visual;if(this.container.options.align=n.align,r&&!this._boxReflow){var o=e;o.hasSize()||(this._boxReflow=!0,this.reflow(o),this._boxReflow=!1,o=this.box);var i=this.visual=r(this.visualContext(o));i&&(o=L(i.clippedBBox()||new Ke.geometry.Rect),i.options.zIndex=n.zIndex),this.box=this.contentBox=this.paddingBox=o}else if(t.prototype.reflow.call(this,e),n.rotation){var s=m(n.margin),a=this.box.unpad(s);this.targetBox=e,this.normalBox=a.clone(),a=this.rotate(),a.translate(s.left-s.right,s.top-s.bottom),this.rotatedBox=a.clone(),a.pad(s)}},e.prototype.createVisual=function(){var t=this.options;if(this.visual=new Ke.drawing.Group({transform:this.rotationTransform(),zIndex:t.zIndex,noclip:t.noclip}),this.hasBox()){var e=Ke.drawing.Path.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(e)}},e.prototype.renderVisual=function(){if(this.options.visible)if(this.options.visual){var e=this.visual;e&&!tr(e.options.noclip)&&(e.options.noclip=this.options.noclip),
this.addVisual(),this.createAnimation()}else t.prototype.renderVisual.call(this)},e.prototype.visualContext=function(t){var e=this,n={text:this.content,rect:t.toRect(),sender:this.getSender(),options:this.options,createVisual:function(){return e._boxReflow=!0,e.reflow(t),e._boxReflow=!1,e.getDefaultVisual()}};return this.data&&Object.assign(n,this.data),n},e.prototype.getDefaultVisual=function(){this.createVisual(),this.renderChildren();var t=this.visual;return delete this.visual,t},e.prototype.rotate=function(){var t=this.options;return this.box.rotate(t.rotation),this.align(this.targetBox,Mn,t.align),this.align(this.targetBox,Tn,t.vAlign),this.box},e.prototype.rotationTransform=function(){var t=this.options.rotation;if(!t)return null;var e=this.normalBox.center(),n=e.x,r=e.y,o=this.rotatedBox.center();return Ke.geometry.transform().translate(o.x-n,o.y-r).rotate(t,[n,r])},e}(kr),Rr=function(t){function e(e){t.call(this,e),this.append(new Dr(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(e){t.prototype.reflow.call(this,e),this.box.snapTo(e,Mn)},e.buildTitle=function(t,n,r){var o=t;"string"==typeof t&&(o={text:t}),o=Object.assign({visible:!0},r,o);var i;return o&&o.visible&&o.text&&(i=new e(o),n.append(i)),i},e}(xr);M(Rr,{color:Ge,position:xn,align:Ye,margin:m(5),padding:m(5)});var Ir=function(t){function e(e,n,r,o,i){t.call(this,n,i),this.text=n,this.value=e,this.index=r,this.dataItem=o,this.reflow(new gr)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.visualContext=function(e){var n=t.prototype.visualContext.call(this,e);return n.value=this.value,n.dataItem=this.dataItem,n.format=this.options.format,n.culture=this.options.culture,n},e.prototype.click=function(t,e){t.trigger(We,{element:or(e),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})},e.prototype.rotate=function(){if(this.options.alignRotation!==Ye){var e=this.normalBox.toRect(),n=this.rotationTransform();this.box=L(e.bbox(n.matrix()))}else t.prototype.rotate.call(this);return this.box},e.prototype.rotationTransform=function(){var e=this.options,n=e.rotation;if(!n)return null;if(e.alignRotation===Ye)return t.prototype.rotationTransform.call(this);var r=Ke.geometry.transform().rotate(n).matrix(),o=this.normalBox.toRect(),i=this.targetBox.toRect(),s=e.rotationOrigin||xn,a=s===xn||s===$e?Mn:Tn,l=s===xn||s===$e?Tn:Mn,c=s===xn||s===un?i.origin:i.bottomRight(),u=o.topLeft().transformCopy(r),p=o.topRight().transformCopy(r),h=o.bottomRight().transformCopy(r),f=o.bottomLeft().transformCopy(r),d=Ke.geometry.Rect.fromPoints(u,p,h,f),v={};v[l]=i.origin[l]-d.origin[l];var y,g,m=Math.abs(u[l]+v[l]-c[l]),b=Math.abs(p[l]+v[l]-c[l]);ur(m,nn)===ur(b,nn)?(y=u,g=p):b<m?(y=p,g=h):(y=u,g=f);var w=y[a]+(g[a]-y[a])/2;return v[a]=i.center()[a]-w,Ke.geometry.transform().translate(v.x,v.y).rotate(n)},e}(Dr);M(Ir,{_autoReflow:!1});var zr=7,Fr="#fff",Lr=function(t){function e(e,n,r){t.call(this,n),this.fields=e,this.chartService=r,this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hide=function(){this.options.visible=!1},e.prototype.show=function(){this.options.visible=!0},e.prototype.render=function(){var t=this,e=this.options;if(e.visible){var n,r,o=e.label,i=e.icon,s=new gr,a=function(){return t},l=i.size,c=this.fields.text;if(tr(o)&&o.visible){var u=b(o);u?c=u(this.fields):o.format&&(c=this.chartService.format.auto(o.format,c)),o.color||(o.color=o.position===cn?Fr:i.background),this.label=new Dr(c,f({},o)),this.label.aliasFor=a,o.position!==cn||tr(l)||(i.type===Xe?l=Math.max(this.label.box.width(),this.label.box.height()):(n=this.label.box.width(),r=this.label.box.height()),s.wrap(this.label.box))}i.width=n||l||zr,i.height=r||l||zr;var p=new Sr(f({},i));p.aliasFor=a,this.marker=p,this.append(p),this.label&&this.append(this.label),p.reflow(new gr),this.wrapperBox=s.wrap(p.box)}},e.prototype.reflow=function(t){var e=this,n=e.options,r=e.label,o=e.marker,i=e.wrapperBox,s=t.center(),a=n.line.length,l=n.position;if(n.visible){var c,u,p;k(l,[un,bn])?l===un?(p=i.alignTo(t,l).translate(-a,t.center().y-i.center().y),n.line.visible&&(c=[t.x1,s.y],this.linePoints=[c,[p.x2,s.y]],u=p.clone().wrapPoint(c))):(p=i.alignTo(t,l).translate(a,t.center().y-i.center().y),n.line.visible&&(c=[t.x2,s.y],this.linePoints=[c,[p.x1,s.y]],u=p.clone().wrapPoint(c))):l===$e?(p=i.alignTo(t,l).translate(t.center().x-i.center().x,a),n.line.visible&&(c=[s.x,t.y2],this.linePoints=[c,[s.x,p.y1]],u=p.clone().wrapPoint(c))):(p=i.alignTo(t,l).translate(t.center().x-i.center().x,-a),n.line.visible&&(c=[s.x,t.y1],this.linePoints=[c,[s.x,p.y2]],u=p.clone().wrapPoint(c))),o&&o.reflow(p),r&&(r.reflow(p),o&&(n.label.position===mn&&r.box.alignTo(o.box,l),r.reflow(r.box))),this.contentBox=p,this.targetBox=t,this.box=u||p}},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()},e.prototype.renderVisual=function(){var e=this,n=this.options,r=n.visual;n.visible&&r?(this.visual=r(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:n.background,border:n.background,icon:n.icon,label:n.label,line:n.line,position:n.position,visible:n.visible},createVisual:function(){e.createVisual(),e.renderChildren();var t=e.visual;return delete e.visual,t}})),this.addVisual()):t.prototype.renderVisual.call(this)},e.prototype.createLine=function(){var t=this.options.line;if(this.linePoints){var e=Ke.drawing.Path.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}});s(e),this.visual.append(e)}},e.prototype.click=function(t,e){var n=this.eventArgs(e);t.trigger(dn,n)||e.preventDefault()},e.prototype.over=function(t,e){var n=this.eventArgs(e);t.trigger(vn,n)||e.preventDefault()},e.prototype.out=function(t,e){var n=this.eventArgs(e);t.trigger(yn,n)},e.prototype.eventArgs=function(t){var e=this.options;return Object.assign(this.fields,{element:or(t),text:tr(e.label)?e.label.text:"",visual:this.visual})},e}(kr);M(Lr,{icon:{visible:!0,type:Xe},label:{position:cn,visible:!0,align:Ye,vAlign:Ye},line:{visible:!0},visible:!0,position:xn,zIndex:2});var Nr=function(t){function e(e,n){void 0===n&&(n=new Bn),t.call(this,e),this.chartService=n,this.options.visible||(this.options=f({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=f({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==fn},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=f({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==fn},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){},e.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.labelsCount()}},e.prototype.createLabels=function(){var t=this,e=this.options,n=e.vertical?bn:Ye,r=f({},e.labels,{align:n,zIndex:e.zIndex}),o=Math.max(1,r.step);if(this.clearLabels(),r.visible){var i=this.labelsRange(),s=r.rotation;d(s)&&(r.alignRotation=s.align,r.rotation=s.angle),"auto"===r.rotation&&(r.rotation=0,e.autoRotateLabels=!0);for(var a=i.min;a<i.max;a+=o){var l=t.createAxisLabel(a,r);l&&(t.append(l),t.labels.push(l))}}},e.prototype.clearLabels=function(){this.children=_(this.children,function(t){return!(t instanceof Ir)}),this.labels=[]},e.prototype.clearTitle=function(){var t=this;this.title&&(this.children=_(this.children,function(e){return e!==t.title}),this.title=void 0)},e.prototype.clear=function(){this.clearLabels(),this.clearTitle()},e.prototype.lineBox=function(){var t=this,e=t.options,n=t.box,r=e.vertical,o=e.labels.mirror,i=o?n.x1:n.x2,s=o?n.y2:n.y1,a=e.line.width||0;return r?new gr(i,n.y1,i,n.y2-a):new gr(n.x1,s,n.x2-a,s)},e.prototype.createTitle=function(){var t=this.options,e=f({rotation:t.vertical?-90:0,text:"",zIndex:1,visualSize:!0},t.title);if(e.visible&&e.text){var n=new Dr(e.text,e);this.append(n),this.title=n}},e.prototype.createNotes=function(){var t=this,e=this.options,n=e.notes,r=n.data||[];this.notes=[];for(var o=0;o<r.length;o++){var i=f({},n,r[o]);i.value=t.parseNoteValue(i.value);var s=new Lr({value:i.value,text:i.label.text,dataItem:i},i,t.chartService);s.options.visible&&(tr(s.options.position)?e.vertical&&!k(s.options.position,[un,bn])?s.options.position=e.reverse?un:bn:e.vertical||k(s.options.position,[xn,$e])||(s.options.position=e.reverse?$e:xn):e.vertical?s.options.position=e.reverse?un:bn:s.options.position=e.reverse?$e:xn,t.append(s),t.notes.push(s))}},e.prototype.parseNoteValue=function(t){return t},e.prototype.renderVisual=function(){t.prototype.renderVisual.call(this),this.createPlotBands()},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this.createBackground(),this.createLine()},e.prototype.gridLinesVisual=function(){var t=this._gridLines;return t||(t=this._gridLines=new Ke.drawing.Group({zIndex:-2}),this.appendVisual(this._gridLines)),t},e.prototype.createTicks=function(t){function e(e,n,i){var a=e.length,l=Math.max(1,n.step);if(n.visible)for(var c=n.skip;c<a;c+=l)tr(i)&&c%i===0||(s.tickX=o?r.x2:r.x2-n.size,s.tickY=o?r.y1-n.size:r.y1,s.position=e[c],t.append(N(s,n)))}var n=this.options,r=this.lineBox(),o=n.labels.mirror,i=n.majorTicks.visible?n.majorUnit:0,s={vertical:n.vertical};e(this.getMajorTickPositions(),n.majorTicks),e(this.getMinorTickPositions(),n.minorTicks,i/n.minorUnit)},e.prototype.createLine=function(){var t=this.options,e=t.line,n=this.lineBox();if(e.width>0&&e.visible){var r=new Ke.drawing.Path({stroke:{width:e.width,color:e.color,dashType:e.dashType}});r.moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),t._alignLines&&s(r);var o=this._lineGroup=new Ke.drawing.Group;o.append(r),this.visual.append(o),this.createTicks(o)}},e.prototype.getActualTickSize=function(){var t=this.options,e=0;return t.majorTicks.visible&&t.minorTicks.visible?e=Math.max(t.majorTicks.size,t.minorTicks.size):t.majorTicks.visible?e=t.majorTicks.size:t.minorTicks.visible&&(e=t.minorTicks.size),e},e.prototype.createBackground=function(){var t=this,e=t.options,n=t.box,r=e.background;r&&(this._backgroundPath=Ke.drawing.Path.fromRect(n.toRect(),{fill:{color:r},stroke:null}),this.visual.append(this._backgroundPath))},e.prototype.createPlotBands=function(){var t=this,e=this.options,n=e.plotBands||[],r=e.vertical,o=this.plotArea;if(0!==n.length){for(var i=this._plotbandGroup=new Ke.drawing.Group({zIndex:-1}),s=_(this.pane.axes,function(e){return e.options.vertical!==t.options.vertical})[0],a=0;a<n.length;a++){var l=n[a],c=void 0,u=void 0,p=l.label,h=void 0;if(r?(c=(s||o.axisX).lineBox(),u=t.getSlot(l.from,l.to,!0)):(c=t.getSlot(l.from,l.to,!0),u=(s||o.axisY).lineBox()),p&&(p.vAlign=p.position||un,h=t.createPlotBandLabel(p,l,new gr(c.x1,u.y1,c.x2,u.y2))),0!==c.width()&&0!==u.height()){var f=new Ke.geometry.Rect([c.x1,u.y1],[c.width(),u.height()]),d=Ke.drawing.Path.fromRect(f,{fill:{color:l.color,opacity:l.opacity},stroke:null});i.append(d),h&&i.append(h)}}this.appendVisual(i)}},e.prototype.createPlotBandLabel=function(t,e,n){if(t.visible===!1)return null;var r,o=t.text;if(tr(t)&&t.visible){var i=b(t);i?o=i({text:o,item:e}):t.format&&(o=this.chartService.format.auto(t.format,o)),t.color||(t.color=this.options.labels.color)}return r=new Dr(o,t),r.reflow(n),r.renderVisual(),r.visual},e.prototype.createGridLines=function(t){function e(t,e,n){var r=t.length,o=Math.max(1,e.step);if(e.visible)for(var i=e.skip;i<r;i+=o){var s=ur(t[i]);k(s,h)||i%n===0||a&&u===s||(p.position=s,f.append(B(p,e)),h.push(s))}}var n=this.options,r=n.minorGridLines,o=n.majorGridLines,i=n.minorUnit,s=n.vertical,a=t.options.line.visible,l=o.visible?n.majorUnit:0,c=t.lineBox(),u=c[s?"y1":"x1"],p={lineStart:c[s?"x1":"y1"],lineEnd:c[s?"x2":"y2"],vertical:s},h=[],f=this.gridLinesVisual();return e(this.getMajorTickPositions(),o),e(this.getMinorTickPositions(),r,l/i),f.children},e.prototype.reflow=function(t){for(var e=this,n=e.options,r=e.labels,o=e.title,i=n.vertical,s=r.length,a=i?Cn:an,l=o?o.box[a]():0,c=this.getActualTickSize()+n.margin+l,u=(this.getRoot()||{}).box||t,p=u[a](),h=0,f=0;f<s;f++){var d=r[f].box[a]();d+c<=p&&(h=Math.max(h,d))}i?this.box=new gr(t.x1,t.y1,t.x1+h+c,t.y2):this.box=new gr(t.x1,t.y1,t.x2,t.y1+h+c),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()},e.prototype.getLabelsTickPositions=function(){return this.getMajorTickPositions()},e.prototype.labelTickIndex=function(t){return t.index},e.prototype.arrangeLabels=function(){for(var t=this,e=this,n=e.options,r=e.labels,o=this.labelsBetweenTicks(),i=n.vertical,s=this.lineBox(),a=n.labels.mirror,l=this.getLabelsTickPositions(),c=this.getActualTickSize()+n.margin,u=0;u<r.length;u++){var p=r[u],h=t.labelTickIndex(p),f=i?p.box.height():p.box.width(),d=l[h]-f/2,v=void 0,y=void 0,g=void 0;if(i){if(o){y=l[h],g=l[h+1];var m=y+(g-y)/2;d=m-f/2}var b=s.x2;a?(b+=c,p.options.rotationOrigin=un):(b-=c+p.box.width(),p.options.rotationOrigin=bn),v=p.box.move(b,d)}else{o?(y=l[h],g=l[h+1]):(y=d,g=d+f);var w=s.y1;a?(w-=c+p.box.height(),p.options.rotationOrigin=$e):(w+=c,p.options.rotationOrigin=xn),v=new gr(y,w,g,w+p.box.height())}p.reflow(v)}},e.prototype.autoRotateLabels=function(){if(this.options.autoRotateLabels&&!this.options.vertical){for(var t,e=this.getMajorTickPositions(),n=this.labels,r=0;r<n.length;r++){var o=Math.abs(e[r+1]-e[r]),i=n[r].box;if(i.width()>o){if(i.height()>o){t=-90;break}t=-45}}if(t){for(var s=0;s<n.length;s++)n[s].options.rotation=t,n[s].reflow(new gr);return!0}}},e.prototype.arrangeTitle=function(){var t=this,e=t.options,n=t.title,r=e.labels.mirror,o=e.vertical;n&&(o?(n.options.align=r?bn:un,n.options.vAlign=n.options.position):(n.options.align=n.options.position,n.options.vAlign=r?xn:$e),n.reflow(this.box))},e.prototype.arrangeNotes=function(){for(var t=this,e=0;e<this.notes.length;e++){var n=t.notes[e],r=n.options.value,o=void 0;tr(r)?(t.shouldRenderNote(r)?n.show():n.hide(),o=t.noteSlot(r)):n.hide(),n.reflow(o||t.lineBox())}},e.prototype.noteSlot=function(t){return this.getSlot(t)},e.prototype.alignTo=function(t){var e=t.lineBox(),n=this.options.vertical,r=n?Tn:Mn;this.box.snapTo(e,r),n?this.box.shrink(0,this.lineBox().height()-e.height()):this.box.shrink(this.lineBox().width()-e.width(),0),this.box[r+1]-=this.lineBox()[r+1]-e[r+1],this.box[r+2]-=this.lineBox()[r+2]-e[r+2]},e.prototype.axisLabelText=function(t,e,n){var r=b(n),o=t;return r?o=r({value:t,dataItem:e,format:n.format,culture:n.culture}):n.format&&(o=this.chartService.format.localeAuto(n.format,[t],n.culture)),o},e.prototype.slot=function t(e,n,r){var t=this.getSlot(e,n,r);if(t)return t.toRect()},e.prototype.contentBox=function(){var t=this.box.clone(),e=this.labels;if(e.length){var n=this.options.vertical?Tn:Mn;if(this.chartService.isPannable(n)){var r=this.maxLabelOffset();t[n+1]-=r.start,t[n+2]+=r.end}else{e[0].options.visible&&t.wrap(e[0].box);var o=e[e.length-1];o.options.visible&&t.wrap(o.box)}}return t},e.prototype.maxLabelOffset=function(){for(var t=this,e=this.options,n=e.vertical,r=e.reverse,o=this.labelsBetweenTicks(),i=this.getLabelsTickPositions(),s=n?Tn:Mn,a=this.labels,l=r?1:0,c=r?0:1,u=0,p=0,h=0;h<a.length;h++){var f=a[h],d=t.labelTickIndex(f),v=void 0,y=void 0;o?(v=i[d+l],y=i[d+c]):v=y=i[d],u=Math.max(u,v-f.box[s+1]),p=Math.max(p,f.box[s+2]-y)}return{start:u,end:p}},e.prototype.limitRange=function(t,e,n,r,o){var i=this.options;if(t<n&&o<0&&(!tr(i.min)||i.min<=n)||r<e&&o>0&&(!tr(i.max)||r<=i.max))return null;if(e<n&&o>0||r<t&&o<0)return{min:t,max:e};var s=e-t,a=t,l=e;return t<n&&o<0?(a=ar(t,n,r),l=ar(t+s,n+s,r)):e>r&&o>0&&(l=ar(e,n,r),a=ar(e-s,n,r-s)),{min:a,max:l}},e.prototype.valueRange=function(){return{min:this.seriesMin,max:this.seriesMax}},e.prototype.labelsBetweenTicks=function(){return!this.options.justified},e.prototype.prepareUserOptions=function(){},e}(xr);M(Nr,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:Ge,visible:!0},title:{visible:!0,position:Ye},majorTicks:{align:mn,size:4,skip:0,step:1},minorTicks:{align:mn,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:mn,minorTickType:fn,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:Ge,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});var Br="milliseconds",Vr="seconds",Hr="minutes",Ur="hours",Kr="days",qr="weeks",Wr="months",Gr="years",$r=1,Yr=1e3,Xr=60*Yr,Jr=60*Xr,Zr=24*Jr,Qr=7*Zr,to=31*Zr,eo=365*Zr,no={years:eo,months:to,weeks:Qr,days:Zr,hours:Jr,minutes:Xr,seconds:Yr,milliseconds:$r},ro=.01,oo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this._ticks={}},e.prototype.categoriesHash=function(){return""},e.prototype.clone=function(){var t=new e(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return t.createLabels(),t},e.prototype.initUserOptions=function(t){var e=t.categories||[],n=tr(t.min),r=tr(t.max);if(t.srcCategories=t.categories=e,(n||r)&&e.length){var o,i=n?Math.floor(t.min):0;o=r?t.justified?Math.floor(t.max)+1:Math.ceil(t.max):e.length,t.categories=t.categories.slice(i,o)}return t},e.prototype.rangeIndices=function(){var t,e=this.options,n=e.categories.length||1,r=l(e.min)?e.min%1:0;return t=l(e.max)&&e.max%1!==0&&e.max<this.totalRange().max?n-(1-e.max%1):n-(e.justified?1:0),{min:r,max:t}},e.prototype.totalRangeIndices=function(t){var e,n=this.options,r=l(n.min)?n.min:0;if(e=l(n.max)?n.max:l(n.min)?r+n.categories.length:this.totalRange().max||1,t){var o=this.totalRange();r=ar(r,0,o.max),e=ar(e,0,o.max)}return{min:r,max:e}},e.prototype.range=function(){var t=this.options,e=l(t.min)?t.min:0,n=l(t.max)?t.max:this.totalRange().max;return{min:e,max:n}},e.prototype.roundedRange=function(){return this.range()},e.prototype.totalRange=function(){var t=this.options;return{min:0,max:Math.max(this._seriesMax||0,t.srcCategories.length)-(t.justified?1:0)}},e.prototype.scaleOptions=function(){var t=this.rangeIndices(),e=t.min,n=t.max,r=this.lineBox(),o=this.options.vertical?r.height():r.width(),i=o/(n-e||1);return{scale:i*(this.options.reverse?-1:1),box:r,min:e,max:n}},e.prototype.arrangeLabels=function(){t.prototype.arrangeLabels.call(this),this.hideOutOfRangeLabels()},e.prototype.hideOutOfRangeLabels=function(){var t=this,e=t.box,n=t.labels;if(n.length){var r=this.options.vertical?Tn:Mn,o=e[r+1],i=e[r+2],s=n[0],a=sr(n);(s.box[r+1]>i||s.box[r+2]<o)&&(s.options.visible=!1),(a.box[r+1]>i||a.box[r+2]<o)&&(a.options.visible=!1)}},e.prototype.getMajorTickPositions=function(){return this.getTicks().majorTicks},e.prototype.getMinorTickPositions=function(){return this.getTicks().minorTicks},e.prototype.getLabelsTickPositions=function(){return this.getTicks().labelTicks},e.prototype.tickIndices=function(t){for(var e=this.rangeIndices(),n=e.min,r=e.max,o=Math.ceil(r),i=Math.floor(n),s=[];i<=o;)s.push(i),i+=t;return s},e.prototype.getTickPositions=function(t){for(var e=this.options,n=e.vertical,r=e.reverse,o=this.scaleOptions(),i=o.scale,s=o.box,a=o.min,l=s[(n?Tn:Mn)+(r?2:1)],c=this.tickIndices(t),u=[],p=0;p<c.length;p++)u.push(l+ur(i*(c[p]-a),Je));return u},e.prototype.getTicks=function(){var t=this.options,e=this._ticks,n=this.rangeIndices(),r=this.lineBox(),o=r.getHash()+n.min+","+n.max+t.reverse+t.justified;if(e._hash!==o){var i=t.minorTicks.visible||t.minorGridLines.visible;e._hash=o,e.labelTicks=this.getTickPositions(1),e.majorTicks=this.filterOutOfRangePositions(e.labelTicks,r),e.minorTicks=i?this.filterOutOfRangePositions(this.getTickPositions(.5),r):[]}return e},e.prototype.filterOutOfRangePositions=function(t,e){if(!t.length)return t;for(var n=this.options.vertical?Tn:Mn,r=function(t){return e[n+1]<=t&&t<=e[n+2]},o=t.length-1,i=0;!r(t[i])&&i<=o;)i++;for(var s=o;!r(t[s])&&s>=0;)s--;return t.slice(i,s+1)},e.prototype.getSlot=function(t,e,n){var r=this.options,o=r.reverse,i=r.justified,s=r.vertical,a=this.scaleOptions(),l=a.scale,c=a.box,u=a.min,p=s?Tn:Mn,h=c[p+(o?2:1)],f=c.clone(),d=!tr(e),v=hr(t,0),y=hr(e,v);y=Math.max(y-1,v),y=Math.max(v,y);var g=h+(v-u)*l,m=h+(y+1-u)*l;return d&&i&&(m=g),n&&(g=ar(g,c[p+1],c[p+2]),m=ar(m,c[p+1],c[p+2])),f[p+1]=o?m:g,f[p+2]=o?g:m,f},e.prototype.limitSlot=function(t){var e=this.options.vertical,n=e?Tn:Mn,r=this.lineBox(),o=t.clone();return o[n+1]=ar(t[n+1],r[n+1],r[n+2]),o[n+2]=ar(t[n+2],r[n+1],r[n+2]),o},e.prototype.slot=function(e,n,r){var o=Math.floor(this.options.min||0),i=e,s=n;return"string"==typeof i?i=this.categoryIndex(i):l(i)&&(i-=o),"string"==typeof s?s=this.categoryIndex(s):l(s)&&(s-=o),t.prototype.slot.call(this,i,s,r)},e.prototype.pointCategoryIndex=function(t){var e=this.options,n=e.reverse,r=e.justified,o=e.vertical,i=o?Tn:Mn,s=this.scaleOptions(),a=s.scale,l=s.box,c=s.min,u=s.max,p=n?u:c,h=l[i+1],f=l[i+2],d=t[i];if(d<h||d>f)return null;var v=p+(d-h)/a,y=v%1;return r?v=Math.round(v):0===y&&v>0&&v--,Math.floor(v)},e.prototype.getCategory=function(t){var e=this.pointCategoryIndex(t);return null===e?null:this.options.categories[e]},e.prototype.categoryIndex=function(t){return this.totalIndex(t)-Math.floor(this.options.min||0)},e.prototype.categoryAt=function(t,e){var n=this.options;return(e?n.srcCategories:n.categories)[t]},e.prototype.categoriesCount=function(){return(this.options.categories||[]).length},e.prototype.translateRange=function(t){var e=this.options,n=this.lineBox(),r=e.vertical?n.height():n.width(),o=e.categories.length,i=r/o,s=ur(t/i,nn);return{min:s,max:o+s}},e.prototype.zoomRange=function(t){var e=this.totalRangeIndices(),n=this.totalRange(),r=n.min,o=n.max,i=ar(e.min+t,r,o),s=ar(e.max-t,r,o);if(s-i>0)return{min:i,max:s}},e.prototype.scaleRange=function(t){var e=this.options.categories.length,n=t*e;return{min:-n,max:e+n}},e.prototype.labelsCount=function(){var t=this.labelsRange();return t.max-t.min},e.prototype.labelsRange=function(){var t=this.options,e=t.justified,n=t.labels,r=this.totalRangeIndices(!0),o=r.min,i=r.max,s=Math.floor(o);e?(o=Math.ceil(o),i=Math.floor(i)):(o=Math.floor(o),i=Math.ceil(i));var a;return a=o>n.skip?n.skip+n.step*Math.ceil((o-n.skip)/n.step):n.skip,{min:a-s,max:(t.categories.length?i+(e?1:0):0)-s}},e.prototype.createAxisLabel=function(t,e){var n=this.options,r=n.dataItems?n.dataItems[t]:null,o=hr(n.categories[t],""),i=this.axisLabelText(o,r,e);return new Ir(o,i,t,r,e)},e.prototype.shouldRenderNote=function(t){var e=this.totalRangeIndices();return Math.floor(e.min)<=t&&t<=Math.ceil(e.max)},e.prototype.noteSlot=function(t){var e=this.options,n=t-Math.floor(e.min||0);return this.getSlot(n)},e.prototype.arrangeNotes=function(){t.prototype.arrangeNotes.call(this),this.hideOutOfRangeNotes()},e.prototype.hideOutOfRangeNotes=function(){var t=this,e=t.notes,n=t.box;if(e&&e.length)for(var r=this.options.vertical?Tn:Mn,o=n[r+1],i=n[r+2],s=0;s<e.length;s++){var a=e[s];a.box&&(i<a.box[r+1]||a.box[r+2]<o)&&a.hide()}},e.prototype.pan=function(t){var e=this.totalRangeIndices(!0),n=this.scaleOptions(),r=n.scale,o=ur(t/r,nn),i=this.totalRange(),s=e.min+o,a=e.max+o;return this.limitRange(s,a,0,i.max,o)},e.prototype.pointsRange=function(t,e){var n=this.options,r=n.reverse,o=n.vertical,i=o?Tn:Mn,s=this.totalRangeIndices(!0),a=this.scaleOptions(),l=a.scale,c=a.box,u=c[i+(r?2:1)],p=t[i]-u,h=e[i]-u,f=s.min+p/l,d=s.min+h/l,v=Math.min(f,d),y=Math.max(f,d);if(y-v>=ro)return{min:v,max:y}},e.prototype.valueRange=function(){return this.range()},e.prototype.totalIndex=function(t){var e=this.options,n=this._categoriesMap?this._categoriesMap.get(t):st(t,e.srcCategories);return n},e.prototype.currentRangeIndices=function(){var t=this.options,e=0;l(t.min)&&(e=Math.floor(t.min));var n;return n=l(t.max)?t.justified?Math.floor(t.max):Math.ceil(t.max)-1:this.totalCount()-1,{min:e,max:n}},e.prototype.mapCategories=function(){if(!this._categoriesMap)for(var t=this._categoriesMap=new $n,e=this.options.srcCategories,n=0;n<e.length;n++)t.set(e[n],n)},e.prototype.totalCount=function(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)},e}(Nr);M(oo,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:Ge},labels:{zIndex:1},justified:!1,_deferLabels:!0});var io=3e5,so={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},ao=.2,lo="auto",co=[Br,Vr,Hr,Ur,Kr,qr,Wr,Gr],uo="fit",po=function(t){this.options=t};po.prototype.displayIndices=function(){return{min:0,max:1}},po.prototype.displayRange=function(){return{}},po.prototype.total=function(){return{}},po.prototype.valueRange=function(){return{}},po.prototype.valueIndex=function(){return-1},po.prototype.values=function(){return[]},po.prototype.totalIndex=function(){return-1},po.prototype.valuesCount=function(){return 0},po.prototype.totalCount=function(){return 0},po.prototype.dateAt=function(){return null};var ho=function(t,e,n){this.options=n,n.baseUnitStep=n.baseUnitStep||1;var r=n.roundToBaseUnit,o=n.justified;this.start=G(t,0,n.baseUnit,n.weekStartDay);var i=this.roundToTotalStep(e),s=!o&&Q(e,i)&&!n.justifyEnd;this.end=this.roundToTotalStep(e,!o,s?1:0);var a=n.min||t;this.valueStart=this.roundToTotalStep(a),this.displayStart=r?this.valueStart:a;var l=n.max;l?(this.valueEnd=this.roundToTotalStep(l,!1,!o&&Q(l,this.roundToTotalStep(l))?-1:0),this.displayEnd=r?this.roundToTotalStep(l,!o):n.max):(this.valueEnd=i,this.displayEnd=r||s?this.end:e),this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))};ho.prototype.displayRange=function(){return{min:this.displayStart,max:this.displayEnd}},ho.prototype.displayIndices=function(){if(!this._indices){var t=this.options,e=t.baseUnit,n=t.baseUnitStep,r=et(this.displayStart,this.valueStart,e,n),o=et(this.displayEnd,this.valueStart,e,n);this._indices={min:r,max:o}}return this._indices},ho.prototype.total=function(){return{min:this.start,max:this.end}},ho.prototype.totalCount=function(){var t=this.totalIndex(this.end);return t+(this.options.justified?1:0)},ho.prototype.valueRange=function(){return{min:this.valueStart,max:this.valueEnd}},ho.prototype.valueIndex=function(t){var e=this.options;return Math.floor(et(t,this.valueStart,e.baseUnit,e.baseUnitStep))},ho.prototype.totalIndex=function(t){var e=this.options;return Math.floor(et(t,this.start,e.baseUnit,e.baseUnitStep))},ho.prototype.dateIndex=function(t){var e=this.options;return et(t,this.valueStart,e.baseUnit,e.baseUnitStep)},ho.prototype.valuesCount=function(){var t=this.valueIndex(this.valueEnd);return t+1},ho.prototype.values=function t(){var t=this._values;if(!t){var e=this.options,n=this.valueRange();this._values=t=[];for(var r=n.min;r<=n.max;)t.push(r),r=G(r,e.baseUnitStep,e.baseUnit,e.weekStartDay)}return t},ho.prototype.dateAt=function(t,e){var n=this.options;return G(e?this.start:this.valueStart,n.baseUnitStep*t,n.baseUnit,n.weekStartDay)},ho.prototype.roundToTotalStep=function(t,e,n){var r=this.options,o=r.baseUnit,i=r.baseUnitStep,s=r.weekStartDay,a=this.start,l=et(t,a,o,i),c=e?Math.ceil(l):Math.floor(l);return n&&(c+=n),G(a,c*i,o,s)};var fo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(Object.assign({},this.options),this.chartService);return t.createLabels(),t},e.prototype.categoriesHash=function(){var t=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+t},e.prototype.initUserOptions=function(t){return t},e.prototype.initFields=function(){t.prototype.initFields.call(this);var e=this.chartService,n=e.intl,r=this.options,o=r.categories||[];if(o._parsed||(o=ot(n,o),o._parsed=!0),r=f({roundToBaseUnit:!0},r,{categories:o,min:rt(n,r.min),max:rt(n,r.max),weekStartDay:it(r,n)}),e.panning&&e.isPannable(r.vertical?Tn:Mn)&&(r.roundToBaseUnit=!1),r.userSetBaseUnit=r.userSetBaseUnit||r.baseUnit,r.userSetBaseUnitStep=r.userSetBaseUnitStep||r.baseUnitStep,this.options=r,r.srcCategories=o,o.length>0){var i=at(o),s=r.maxDivisions;if(this.dataRange=new ho(i.min,i.max,ut(r)),s){var a=this.dataRange.displayRange(),l=Object.assign({},r,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:a.min,max:a.max,maxDateGroups:s}),c=this.dataRange.options;lt(l,c.baseUnit,c.baseUnitStep),this.divisionRange=new ho(i.min,i.max,l)}else this.divisionRange=this.dataRange}else r.baseUnit=r.baseUnit||Kr,this.dataRange=this.divisionRange=new po(r)},e.prototype.tickIndices=function(e){var n=this,r=n.dataRange,o=n.divisionRange,i=o.valuesCount();if(!this.options.maxDivisions||!i)return t.prototype.tickIndices.call(this,e);var s=[],a=o.values(),l=0;this.options.justified||(a=a.concat(o.dateAt(i)),l=.5);for(var c=0;c<a.length;c++)if(s.push(r.dateIndex(a[c])+l),1!==e&&c>=1){var u=s.length-1;s.splice(c,0,s[u-1]+(s[u]-s[u-1])*e)}return s},e.prototype.shouldRenderNote=function(t){var e=this.range(),n=this.options.categories||[];return X(t,e.min)>=0&&X(t,e.max)<=0&&n.length},e.prototype.parseNoteValue=function(t){return rt(this.chartService.intl,t)},e.prototype.noteSlot=function(t){return this.getSlot(t)},e.prototype.translateRange=function(t){var e=this.options,n=e.baseUnit,r=e.weekStartDay,o=e.vertical,i=this.lineBox(),s=o?i.height():i.width(),a=this.range(),l=s/(a.max-a.min),c=ur(t/l,nn);if(a.min&&a.max){var u=H(e.min||a.min,c),p=H(e.max||a.max,c);a={min:G(u,0,n,r),max:G(p,0,n,r)}}return a},e.prototype.scaleRange=function(t){var e=Math.abs(t),n=this.range(),r=n.min,o=n.max;if(r&&o){for(;e--;){var i=J(r,o),s=Math.round(.1*i);t<0?(r=H(r,s),o=H(o,-s)):(r=H(r,-s),o=H(o,s))}n={min:r,max:o}}return n},e.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}},e.prototype.pan=function(t){if(this.isEmpty())return null;var e=this.options,n=this.lineBox(),r=e.vertical?n.height():n.width(),o=this.dataRange.displayRange(),i=o.min,s=o.max,a=this.dataRange.total(),l=r/(s-i),c=ur(t/l,nn)*(e.reverse?-1:1),u=H(i,c),p=H(s,c),h=this.limitRange(Z(u),Z(p),Z(a.min),Z(a.max),c);return h?(h.min=U(h.min),h.max=U(h.max),h.baseUnit=e.baseUnit,h.baseUnitStep=e.baseUnitStep||1,h.userSetBaseUnit=e.userSetBaseUnit,h.userSetBaseUnitStep=e.userSetBaseUnitStep,h):void 0},e.prototype.pointsRange=function e(n,r){if(this.isEmpty())return null;var e=t.prototype.pointsRange.call(this,n,r),o=this.dataRange.displayRange(),i=this.dataRange.displayIndices(),s=J(o.max,o.min)/(i.max-i.min),a=this.options,l=H(o.min,e.min*s),c=H(o.min,e.max*s);return{min:l,max:c,baseUnit:a.userSetBaseUnit||a.baseUnit,baseUnitStep:a.userSetBaseUnitStep||a.baseUnitStep}},e.prototype.zoomRange=function(t){if(this.isEmpty())return null;var e=this.options,n=e.userSetBaseUnit===uo,r=this.dataRange.total(),o=this.dataRange.displayRange(),i=o.min,s=o.max,a=this.dataRange.options,l=a.weekStartDay,c=a.baseUnit,u=a.baseUnitStep,p=G(i,t*u,c,l),h=G(s,-t*u,c,l);if(n){var f,d,v=e.autoBaseUnitSteps,y=e.maxDateGroups,g=sr(v[c])*y*no[c],m=J(s,i),b=J(h,p),w=co.indexOf(c);if(b<no[c]&&c!==Br)c=co[w-1],f=sr(v[c]),d=(m-(y-1)*f*no[c])/2,p=H(i,d),h=H(s,-d);else if(b>g&&c!==Gr){var _=0;do{w++,c=co[w],_=0,d=2*no[c];do f=v[c][_],_++;while(_<v[c].length&&d*f<m)}while(c!==Gr&&d*f<m);d=(d*f-m)/2,d>0&&(p=H(i,-d),h=H(s,d),p=H(p,ar(h,r.min,r.max)-h),h=H(h,ar(p,r.min,r.max)-p))}}return p<r.min&&(p=r.min),h>r.max&&(h=r.max),
p&&h&&J(h,p)>0?{min:p,max:h,baseUnit:e.userSetBaseUnit||e.baseUnit,baseUnitStep:e.userSetBaseUnitStep||e.baseUnitStep}:void 0},e.prototype.range=function(){return this.dataRange.displayRange()},e.prototype.createAxisLabel=function(t,e){var n=this.options,r=n.dataItems&&!n.maxDivisions?n.dataItems[t]:null,o=this.divisionRange.dateAt(t),i=e.dateFormats[this.divisionRange.options.baseUnit];e.format=e.format||i;var s=this.axisLabelText(o,r,e);if(s)return new Ir(o,s,t,r,e)},e.prototype.categoryIndex=function(t){return this.dataRange.valueIndex(t)},e.prototype.slot=function t(e,n,r){var o=this.dataRange,i=e,s=n;i instanceof Date&&(i=o.dateIndex(i)),s instanceof Date&&(s=o.dateIndex(s));var t=this.getSlot(i,s,r);if(t)return t.toRect()},e.prototype.getSlot=function(e,n,r){var o=e,i=n;return typeof o===gn&&(o=this.categoryIndex(o)),typeof i===gn&&(i=this.categoryIndex(i)),t.prototype.getSlot.call(this,o,i,r)},e.prototype.valueRange=function(){var t=this.options,e=at(t.srcCategories);return{min:U(e.min),max:U(e.max)}},e.prototype.categoryAt=function(t,e){return this.dataRange.dateAt(t,e)},e.prototype.categoriesCount=function(){return this.dataRange.valuesCount()},e.prototype.rangeIndices=function(){return this.dataRange.displayIndices()},e.prototype.labelsBetweenTicks=function(){return!this.divisionRange.options.justified},e.prototype.prepareUserOptions=function(){this.isEmpty()||(this.options.categories=this.dataRange.values())},e.prototype.getCategory=function(t){var e=this.pointCategoryIndex(t);return null===e?null:this.dataRange.dateAt(e)},e.prototype.totalIndex=function(t){return this.dataRange.totalIndex(t)},e.prototype.currentRangeIndices=function(){var t=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}},e.prototype.totalRange=function(){return this.dataRange.total()},e.prototype.totalCount=function(){return this.dataRange.totalCount()},e.prototype.isEmpty=function(){return!this.options.srcCategories.length},e.prototype.roundedRange=function(){if(this.options.roundToBaseUnit!==!1||this.isEmpty())return this.range();var t=this.options,e=at(t.srcCategories),n=new ho(e.min,e.max,Object.assign({},t,{justified:!1,roundToBaseUnit:!0,justifyEnd:t.justified}));return n.displayRange()},e}(oo);M(fo,{type:Qe,labels:{dateFormats:so},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});var vo=Math.pow(10,-nn+1),yo=function(t){function e(e,n,r,o){t.call(this,Object.assign({},r,{seriesMin:e,seriesMax:n}),o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=yt(t.seriesMin,t.seriesMax,t);return this.totalOptions=gt(e,t),bt(e,t)},e.prototype.initFields=function(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax},e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.startValue=function(){return 0},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.getDivisions=function(t){if(0===t)return 1;var e=this.options,n=e.max-e.min;return Math.floor(ur(n/t,Je))+1},e.prototype.getTickPositions=function(t,e){var n=this.options,r=n.vertical,o=n.reverse,i=this.lineBox(),s=r?i.height():i.width(),a=n.max-n.min,l=s/a,c=t*l,u=this.getDivisions(t),p=(r?-1:1)*(o?-1:1),h=1===p?1:2,f=[],d=i[(r?Tn:Mn)+h],v=0;e&&(v=e/t);for(var y=0;y<u;y++)y%v!==0&&f.push(ur(d,Je)),d+=c*p;return f},e.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},e.prototype.getSlot=function(t,e,n){void 0===n&&(n=!1);var r=this.options,o=r.vertical,i=r.reverse,s=o?Tn:Mn,a=this.lineBox(),l=a[s+(i?2:1)],c=o?a.height():a.width(),u=i?-1:1,p=u*(c/(r.max-r.min)),h=new gr(a.x1,a.y1,a.x1,a.y1),f=t,d=e;tr(f)||(f=d||0),tr(d)||(d=f||0),n&&(f=Math.max(Math.min(f,r.max),r.min),d=Math.max(Math.min(d,r.max),r.min));var v,y;return o?(v=r.max-Math.max(f,d),y=r.max-Math.min(f,d)):(v=Math.min(f,d)-r.min,y=Math.max(f,d)-r.min),h[s+1]=vt(l+p*(i?y:v)),h[s+2]=vt(l+p*(i?v:y)),h},e.prototype.getValue=function(t){var e=this.options,n=e.vertical,r=e.reverse,o=Number(e.max),i=Number(e.min),s=n?Tn:Mn,a=this.lineBox(),l=a[s+(r?2:1)],c=n?a.height():a.width(),u=r?-1:1,p=u*(t[s]-l),h=(o-i)/c,f=p*h;if(p<0||p>c)return null;var d=n?o-f:i+f;return ur(d,nn)},e.prototype.translateRange=function(t){var e=this.options,n=e.vertical,r=e.reverse,o=e.max,i=e.min,s=this.lineBox(),a=n?s.height():s.width(),l=o-i,c=a/l,u=ur(t/c,nn);return!n&&!r||n&&r||(u=-u),{min:i+u,max:o+u,offset:u}},e.prototype.scaleRange=function(t){var e=this.options,n=-t*e.majorUnit;return{min:e.min-n,max:e.max+n}},e.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},e.prototype.createAxisLabel=function(t,e){var n=this.options,r=ur(n.min+t*n.majorUnit,nn),o=this.axisLabelText(r,null,e);return new Ir(r,o,t,null,e)},e.prototype.shouldRenderNote=function(t){var e=this.range();return e.min<=t&&t<=e.max},e.prototype.pan=function(t){var e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)},e.prototype.pointsRange=function(t,e){var n=this.getValue(t),r=this.getValue(e),o=Math.min(n,r),i=Math.max(n,r);if(this.isValidRange(o,i))return{min:o,max:i}},e.prototype.zoomRange=function(t){var e=this,n=e.totalMin,r=e.totalMax,o=this.scaleRange(t),i=ar(o.min,n,r),s=ar(o.max,n,r);if(this.isValidRange(i,s))return{min:i,max:s}},e.prototype.isValidRange=function(t,e){return e-t>vo},e}(Nr);M(yo,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Ge},labels:{format:"#.####################"},zIndex:1});var go=function(t){function e(e,n,r,o){var i=U(e),s=U(n),a=o.intl,l=r||{};l=f(l||{},{min:rt(a,l.min),max:rt(a,l.max),axisCrossingValue:ot(a,l.axisCrossingValues||l.axisCrossingValue),weekStartDay:it(l,a)}),l=xt(i,s,l),t.call(this,l,o),this.intlService=a,this.seriesMin=i,this.seriesMax=s;var c=l.weekStartDay||0;this.totalMin=Z($(Z(i)-1,l.baseUnit,c)),this.totalMax=Z(Y(Z(s)+1,l.baseUnit,c))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.getDivisions=function(t){var e=this.options;return Math.floor(nt(e.min,e.max,e.baseUnit)/t+1)},e.prototype.getTickPositions=function(t){for(var e=this.options,n=e.vertical,r=this.lineBox(),o=(n?-1:1)*(e.reverse?-1:1),i=1===o?1:2,s=r[(n?Tn:Mn)+i],a=this.getDivisions(t),l=J(e.max,e.min),c=n?r.height():r.width(),u=c/l,p=e.weekStartDay||0,h=[s],f=1;f<a;f++){var d=G(e.min,f*t,e.baseUnit,p),v=s+J(d,e.min)*u*o;h.push(ur(v,Je))}return h},e.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},e.prototype.getSlot=function(t,e,n){return yo.prototype.getSlot.call(this,rt(this.intlService,t),rt(this.intlService,e),n)},e.prototype.getValue=function(t){var e=yo.prototype.getValue.call(this,t);return null!==e?U(e):null},e.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},e.prototype.createAxisLabel=function(t,e){var n=this.options,r=t*n.majorUnit,o=n.weekStartDay||0,i=n.min;r>0&&(i=G(i,r,n.baseUnit,o));var s=e.dateFormats[n.baseUnit];e.format=e.format||s;var a=this.axisLabelText(i,null,e);return new Ir(i,a,t,null,e)},e.prototype.translateRange=function(t,e){var n=this.options,r=n.baseUnit,o=n.weekStartDay||0,i=this.lineBox(),s=n.vertical?i.height():i.width(),a=this.range(),l=s/J(a.max,a.min),c=ur(t/l,nn)*(n.reverse?-1:1),u=H(n.min,c),p=H(n.max,c);return e||(u=G(u,0,r,o),p=G(p,0,r,o)),{min:u,max:p,offset:c}},e.prototype.scaleRange=function(t){for(var e=this.options,n=e.min,r=e.max,o=Math.abs(t);o--;){var i=J(n,r),s=Math.round(.1*i);t<0?(n=H(n,s),r=H(r,-s)):(n=H(n,-s),r=H(r,s))}return{min:n,max:r}},e.prototype.shouldRenderNote=function(t){var e=this.range();return X(t,e.min)>=0&&X(t,e.max)<=0},e.prototype.pan=function(t){var e=this.translateRange(t,!0),n=this.limitRange(Z(e.min),Z(e.max),this.totalMin,this.totalMax,e.offset);if(n)return{min:U(n.min),max:U(n.max)}},e.prototype.pointsRange=function(t,e){var n=this.getValue(t),r=this.getValue(e),o=Math.min(n,r),i=Math.max(n,r);return{min:U(o),max:U(i)}},e.prototype.zoomRange=function(t){var e=this.scaleRange(t),n=U(ar(Z(e.min),this.totalMin,this.totalMax)),r=U(ar(Z(e.max),this.totalMin,this.totalMax));return{min:n,max:r}},e}(Nr);M(go,{type:Qe,majorGridLines:{visible:!0,width:1,color:Ge},labels:{dateFormats:so}});var mo=10,bo=function(t){function e(e,n,r,o){var i=f({majorUnit:mo,min:e,max:n},r),s=i.majorUnit,a=Ot(n,s),l=St(e,n,i),c=kt(l,a,i,r);i.max=c.max,i.min=c.min,i.minorUnit=r.minorUnit||ur(s-1,nn),t.call(this,i,o),this.totalMin=tr(r.min)?Math.min(l,r.min):l,this.totalMax=tr(r.max)?Math.max(a,r.max):a,this.logMin=ur(Mt(c.min,s),nn),this.logMax=ur(Mt(c.max,s),nn),this.seriesMin=e,this.seriesMax=n,this.createLabels()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.startValue=function(){return this.options.min},e.prototype.getSlot=function(t,e,n){var r=this,o=r.options,i=r.logMin,s=r.logMax,a=o.reverse,l=o.vertical,c=o.majorUnit,u=l?Tn:Mn,p=this.lineBox(),h=p[u+(a?2:1)],f=l?p.height():p.width(),d=a?-1:1,v=d*(f/(s-i)),y=new gr(p.x1,p.y1,p.x1,p.y1),g=t,m=e;if(tr(g)||(g=m||1),tr(m)||(m=g||1),g<=0||m<=0)return null;n&&(g=Math.max(Math.min(g,o.max),o.min),m=Math.max(Math.min(m,o.max),o.min)),g=Mt(g,c),m=Mt(m,c);var b,w;return l?(b=s-Math.max(g,m),w=s-Math.min(g,m)):(b=Math.min(g,m)-i,w=Math.max(g,m)-i),y[u+1]=vt(h+v*(a?w:b)),y[u+2]=vt(h+v*(a?b:w)),y},e.prototype.getValue=function(t){var e=this,n=e.options,r=e.logMin,o=e.logMax,i=n.reverse,s=n.vertical,a=n.majorUnit,l=this.lineBox(),c=s===i?1:-1,u=1===c?1:2,p=s?l.height():l.width(),h=(o-r)/p,f=s?Tn:Mn,d=l[f+u],v=c*(t[f]-d),y=v*h;if(v<0||v>p)return null;var g=r+y;return ur(Math.pow(a,g),nn)},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.scaleRange=function(t){var e=this.options.majorUnit,n=-t;return{min:Math.pow(e,this.logMin-n),max:Math.pow(e,this.logMax+n)}},e.prototype.translateRange=function(t){var e=this,n=e.options,r=e.logMin,o=e.logMax,i=n.reverse,s=n.vertical,a=n.majorUnit,l=this.lineBox(),c=s?l.height():l.width(),u=c/(o-r),p=ur(t/u,nn);return!s&&!i||s&&i||(p=-p),{min:Math.pow(a,r+p),max:Math.pow(a,o+p),offset:p}},e.prototype.labelsCount=function(){var t=Math.floor(this.logMax),e=Math.floor(t-this.logMin)+1;return e},e.prototype.getMajorTickPositions=function(){var t=[];return this.traverseMajorTicksPositions(function(e){t.push(e)},{step:1,skip:0}),t},e.prototype.createTicks=function(t){function e(e,n){c.tickX=s?a.x2:a.x2-n.size,c.tickY=s?a.y1-n.size:a.y1,c.position=e,t.append(N(c,n))}var n=this.options,r=n.majorTicks,o=n.minorTicks,i=n.vertical,s=n.labels.mirror,a=this.lineBox(),l=[],c={vertical:i};return r.visible&&this.traverseMajorTicksPositions(e,r),o.visible&&this.traverseMinorTicksPositions(e,o),l},e.prototype.createGridLines=function(t){function e(t,e){k(t,l)||(a.position=t,c.append(B(a,e)),l.push(t))}var n=this.options,r=n.minorGridLines,o=n.majorGridLines,i=n.vertical,s=t.lineBox(),a={lineStart:s[i?"x1":"y1"],lineEnd:s[i?"x2":"y2"],vertical:i},l=[],c=this.gridLinesVisual();return o.visible&&this.traverseMajorTicksPositions(e,o),r.visible&&this.traverseMinorTicksPositions(e,r),c.children},e.prototype.traverseMajorTicksPositions=function(t,e){for(var n=this._lineOptions(),r=n.lineStart,o=n.step,i=this,s=i.logMin,a=i.logMax,l=Math.ceil(s)+e.skip;l<=a;l+=e.step){var c=ur(r+o*(l-s),nn);t(c,e)}},e.prototype.traverseMinorTicksPositions=function(t,e){for(var n=this,r=this.options,o=r.min,i=r.max,s=r.minorUnit,a=r.majorUnit,l=this._lineOptions(),c=l.lineStart,u=l.step,p=this,h=p.logMin,f=p.logMax,d=Math.floor(h),v=d;v<f;v++)for(var y=n._minorIntervalOptions(v),g=e.skip;g<s;g+=e.step){var m=y.value+g*y.minorStep;if(m>i)break;if(m>=o){var b=ur(c+u*(Mt(m,a)-h),nn);t(b,e)}}},e.prototype.createAxisLabel=function(t,e){var n=Math.ceil(this.logMin+t),r=Math.pow(this.options.majorUnit,n),o=this.axisLabelText(r,null,e);return new Ir(r,o,t,null,e)},e.prototype.shouldRenderNote=function(t){var e=this.range();return e.min<=t&&t<=e.max},e.prototype.pan=function(t){var e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)},e.prototype.pointsRange=function(t,e){var n=this.getValue(t),r=this.getValue(e),o=Math.min(n,r),i=Math.max(n,r);return{min:o,max:i}},e.prototype.zoomRange=function(t){var e=this,n=e.options,r=e.totalMin,o=e.totalMax,i=this.scaleRange(t),s=ar(i.min,r,o),a=ar(i.max,r,o),l=n.majorUnit,c=a>s&&n.min&&n.max&&ur(Mt(n.max,l)-Mt(n.min,l),nn)<1,u=!(n.min===r&&n.max===o)&&ur(Mt(a,l)-Mt(s,l),nn)>=1;if(c||u)return{min:s,max:a}},e.prototype._minorIntervalOptions=function(t){var e=this.options,n=e.minorUnit,r=e.majorUnit,o=Math.pow(r,t),i=Math.pow(r,t+1),s=i-o,a=s/n;return{value:o,minorStep:a}},e.prototype._lineOptions=function(){var t=this.options,e=t.reverse,n=t.vertical,r=n?Tn:Mn,o=this.lineBox(),i=n===e?1:-1,s=1===i?1:2,a=n?o.height():o.width(),l=i*(a/(this.logMax-this.logMin)),c=o[r+s];return{step:l,lineStart:c,lineBox:o}},e}(Nr);M(bo,{type:"log",majorUnit:mo,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Ge},zIndex:1,_deferLabels:!0});var wo={createGridLines:function(t){var e,n,r=this.options,o=Math.abs(this.box.center().y-t.lineBox().y1),i=[],s=!1;return r.majorGridLines.visible&&(e=this.majorGridLineAngles(t),s=!0,i=this.renderMajorGridLines(e,o,r.majorGridLines)),r.minorGridLines.visible&&(n=this.minorGridLineAngles(t,s),Zn(i,this.renderMinorGridLines(n,o,r.minorGridLines,t,s))),i},renderMajorGridLines:function(t,e,n){return this.renderGridLines(t,e,n)},renderMinorGridLines:function(t,e,n,r,o){var i=this.radiusCallback&&this.radiusCallback(e,r,o);return this.renderGridLines(t,e,n,i)},renderGridLines:function(t,e,n,r){for(var o={stroke:{width:n.width,color:n.color,dashType:n.dashType}},i=this.box.center(),s=new Ke.geometry.Circle([i.x,i.y],e),a=this.gridLinesVisual(),l=0;l<t.length;l++){var c=new Ke.drawing.Path(o);r&&(s.radius=r(t[l])),c.moveTo(s.center).lineTo(s.pointAt(t[l]+180)),a.append(c)}return a.children},gridLineAngles:function(t,e,n,r,o){var i=this,s=this.intervals(e,n,r,o),a=t.options,l=a.visible&&(a.line||{}).visible!==!1;return O(s,function(t){var e=i.intervalAngle(t);if(!l||90!==e)return e})}},_o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.range=function(){return{min:0,max:this.options.categories.length}},e.prototype.reflow=function(t){this.box=t,this.reflowLabels()},e.prototype.lineBox=function(){return this.box},e.prototype.reflowLabels=function(){for(var t=this,e=this,n=e.labels,r=e.options.labels,o=r.skip||0,i=r.step||1,s=new gr,a=0;a<n.length;a++){n[a].reflow(s);var l=n[a].box;n[a].reflow(t.getSlot(o+a*i).adjacentBox(0,l.width(),l.height()))}},e.prototype.intervals=function(t,e,n,r){void 0===r&&(r=!1);for(var o=this.options,i=o.categories.length,s=i/t||1,a=360/s,l=e||0,c=n||1,u=[],p=0,h=l;h<s;h+=c)p=o.reverse?360-h*a:h*a,p=ur(p,Je)%360,r&&k(p,r)||u.push(p);return u},e.prototype.majorIntervals=function(){return this.intervals(1)},e.prototype.minorIntervals=function(){return this.intervals(.5)},e.prototype.intervalAngle=function(t){return(360+t+this.options.startAngle)%360},e.prototype.majorAngles=function(){var t=this;return O(this.majorIntervals(),function(e){return t.intervalAngle(e)})},e.prototype.createLine=function(){return[]},e.prototype.majorGridLineAngles=function(t){var e=this.options.majorGridLines;return this.gridLineAngles(t,1,e.skip,e.step)},e.prototype.minorGridLineAngles=function(t,e){var n=this.options,r=n.minorGridLines,o=n.majorGridLines,i=e?this.intervals(1,o.skip,o.step):null;return this.gridLineAngles(t,.5,r.skip,r.step,i)},e.prototype.radiusCallback=function t(e,n,r){if(n.options.type!==qe){var o=cr(360/(2*this.options.categories.length)),i=Math.cos(o)*e,s=this.majorAngles(),t=function(t){return!r&&k(t,s)?e:i};return t}},e.prototype.createPlotBands=function(){for(var t=this,e=this.options.plotBands||[],n=this._plotbandGroup=new Ke.drawing.Group({zIndex:-1}),r=0;r<e.length;r++){var o=e[r],i=t.plotBandSlot(o),s=t.getSlot(o.from),a=o.from-Math.floor(o.from);i.startAngle+=a*s.angle;var l=Math.ceil(o.to)-o.to;i.angle-=(l+a)*s.angle;var c=_r.current.createRing(i,{fill:{color:o.color,opacity:o.opacity},stroke:{opacity:o.opacity}});n.append(c)}this.appendVisual(n)},e.prototype.plotBandSlot=function(t){return this.getSlot(t.from,t.to-1)},e.prototype.getSlot=function(t,e){var n=this.options,r=n.justified,o=this.box,i=this.majorAngles(),s=i.length,a=360/s,l=t;n.reverse&&!r&&(l=(l+1)%s),l=ar(Math.floor(l),0,s-1);var c=i[l];r&&(c-=a/2,c<0&&(c+=360));var u=ar(Math.ceil(e||l),l,s-1),p=u-l+1,h=a*p;return new mr(o.center(),0,o.height()/2,c,h)},e.prototype.slot=function t(e,n){var t=this.getSlot(e,n),r=t.startAngle+180,o=r+t.angle;return new Ke.geometry.Arc([t.center.x,t.center.y],{startAngle:r,endAngle:o,radiusX:t.radius,radiusY:t.radius})},e.prototype.pointCategoryIndex=function(t){for(var e=this,n=this.options.categories.length,r=null,o=0;o<n;o++){var i=e.getSlot(o);if(i.containsPoint(t)){r=o;break}}return r},e}(oo);M(_o,{startAngle:90,labels:{margin:m(10)},majorGridLines:{visible:!0},justified:!0}),f(_o.prototype,wo);var xo=function(t){function e(e,n){t.call(this,e,n);var r=this.options;r.minorUnit=r.minorUnit||r.majorUnit/2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDivisions=function(t){return yo.prototype.getDivisions.call(this,t)-1},e.prototype.reflow=function(t){this.box=t,this.reflowLabels()},e.prototype.reflowLabels=function(){for(var t=this,e=this,n=e.options,r=e.labels,o=e.options.labels,i=o.skip||0,s=o.step||1,a=new gr,l=this.intervals(n.majorUnit,i,s),c=0;c<r.length;c++){r[c].reflow(a);var u=r[c].box;r[c].reflow(t.getSlot(l[c]).adjacentBox(0,u.width(),u.height()))}},e.prototype.lineBox=function(){return this.box},e.prototype.intervals=function(t,e,n,r){void 0===r&&(r=!1);for(var o=this.options.min,i=this.getDivisions(t),s=[],a=e||0,l=n||1,c=a;c<i;c+=l){var u=(360+o+c*t)%360;r&&k(u,r)||s.push(u)}return s},e.prototype.majorIntervals=function(){return this.intervals(this.options.majorUnit)},e.prototype.minorIntervals=function(){return this.intervals(this.options.minorUnit)},e.prototype.intervalAngle=function(t){return(540-t-this.options.startAngle)%360},e.prototype.createLine=function(){return[]},e.prototype.majorGridLineAngles=function(t){var e=this.options.majorGridLines;return this.gridLineAngles(t,this.options.majorUnit,e.skip,e.step)},e.prototype.minorGridLineAngles=function(t,e){var n=this.options,r=n.minorGridLines,o=n.majorGridLines,i=e?this.intervals(n.majorUnit,o.skip,o.step):null;return this.gridLineAngles(t,n.minorUnit,r.skip,r.step,i)},e.prototype.plotBandSlot=function(t){return this.getSlot(t.from,t.to)},e.prototype.getSlot=function(t,e){var n=this,r=n.options,o=n.box,i=r.startAngle,s=ar(t,r.min,r.max),a=ar(e||s,s,r.max);if(r.reverse&&(s*=-1,a*=-1),s=(540-s-i)%360,a=(540-a-i)%360,a<s){var l=s;s=a,a=l}return new mr(o.center(),0,o.height()/2,s,a-s)},e.prototype.slot=function t(e,n){void 0===n&&(n=e);var r,o,i=this.options,s=360-i.startAngle,t=this.getSlot(e,n),a=Math.min(e,n),l=Math.max(e,n);return i.reverse?(r=a,o=l):(r=360-l,o=360-a),r=(r+s)%360,o=(o+s)%360,new Ke.geometry.Arc([t.center.x,t.center.y],{startAngle:r,endAngle:o,radiusX:t.radius,radiusY:t.radius})},e.prototype.getValue=function(t){var e=this.options,n=this.box.center(),r=t.x-n.x,o=t.y-n.y,i=Math.round(er(Math.atan2(o,r))),s=e.startAngle;return e.reverse||(i*=-1,s*=-1),(i+s+360)%360},e.prototype.valueRange=function(){return{min:0,max:2*Math.PI}},e}(Nr);M(xo,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:m(10)},majorGridLines:{color:Ge,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),f(xo.prototype,wo,{createPlotBands:_o.prototype.createPlotBands,majorAngles:_o.prototype.majorAngles,range:yo.prototype.range,labelsCount:yo.prototype.labelsCount,createAxisLabel:yo.prototype.createAxisLabel});var ko={options:{majorGridLines:{visible:!0}},createPlotBands:function(){var t=this,e=this.options,n=e.majorGridLines.type,r=e.plotBands;void 0===r&&(r=[]);for(var o=this.plotArea.polarAxis,i=o.majorAngles(),s=o.box.center(),a=this._plotbandGroup=new Ke.drawing.Group({zIndex:-1}),l=0;l<r.length;l++){var c=r[l],u={fill:{color:c.color,opacity:c.opacity},stroke:{opacity:c.opacity}},p=t.getSlot(c.from,c.to,!0),h=new mr(s,s.y-p.y2,s.y-p.y1,0,360),f=void 0;f=n===qe?_r.current.createRing(h,u):Ke.drawing.Path.fromPoints(t.plotBandPoints(h,i),u).close(),a.append(f)}this.appendVisual(a)},plotBandPoints:function(t,e){for(var n=[],r=[],o=[t.center.x,t.center.y],i=new Ke.geometry.Circle(o,t.innerRadius),s=new Ke.geometry.Circle(o,t.radius),a=0;a<e.length;a++)n.push(i.pointAt(e[a]+180)),r.push(s.pointAt(e[a]+180));return n.reverse(),n.push(n[0]),r.push(r[0]),r.concat(n)},createGridLines:function(t){var e=this.options,n=this.radarMajorGridLinePositions(),r=t.majorAngles(),o=t.box.center(),i=[];if(e.majorGridLines.visible&&(i=this.renderGridLines(o,n,r,e.majorGridLines)),e.minorGridLines.visible){var s=this.radarMinorGridLinePositions();Zn(i,this.renderGridLines(o,s,r,e.minorGridLines))}return i},renderGridLines:function(t,e,n,r){var o={stroke:{width:r.width,color:r.color,dashType:r.dashType}},i=r.skip;void 0===i&&(i=0);var s=r.step;void 0===s&&(s=0);for(var a=this.gridLinesVisual(),l=i;l<e.length;l+=s){var c=t.y-e[l];if(c>0){var u=new Ke.geometry.Circle([t.x,t.y],c);if(r.type===qe)a.append(new Ke.drawing.Circle(u,o));else{for(var p=new Ke.drawing.Path(o),h=0;h<n.length;h++)p.lineTo(u.pointAt(n[h]+180));p.close(),a.append(p)}}}return a.children},getValue:function(t){var e=this.lineBox(),n=this.plotArea.polarAxis,r=n.majorAngles(),o=n.box.center(),i=t.distanceTo(o),s=i;if(this.options.majorGridLines.type!==qe&&r.length>1){var a=t.x-o.x,l=t.y-o.y,c=(er(Math.atan2(l,a))+540)%360;r.sort(function(t,e){return Tt(t,c)-Tt(e,c)});var u=Tt(r[0],r[1])/2,p=Tt(c,r[0]),h=90-u,f=180-p-h;s=i*(Math.sin(cr(f))/Math.sin(cr(h)))}return this.axisType().prototype.getValue.call(this,new yr(e.x1,e.y2-s))}},So=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.radarMajorGridLinePositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.radarMinorGridLinePositions=function(){var t=this.options,e=0;return t.majorGridLines.visible&&(e=t.majorUnit),this.getTickPositions(t.minorUnit,e)},e.prototype.axisType=function(){return t},e}(yo);f(So.prototype,ko);var Oo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.radarMajorGridLinePositions=function(){var t=[];return this.traverseMajorTicksPositions(function(e){t.push(e)},this.options.majorGridLines),t},e.prototype.radarMinorGridLinePositions=function(){var t=[];return this.traverseMinorTicksPositions(function(e){t.push(e)},this.options.minorGridLines),t},e.prototype.axisType=function(){return t},e}(bo);f(Oo.prototype,ko);var Co=.333,Mo=.01,To=function(t){function e(e){t.call(this),this.closed=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.process=function(t){var e=this,n=t.slice(0),r=[],o=this.closed,i=n.length;if(i>2&&(this.removeDuplicates(0,n),i=n.length),i<2||2===i&&n[0].equals(n[1]))return r;var s=n[0],a=n[1],l=n[2];for(r.push(new Ke.geometry.Segment(s));s.equals(n[i-1]);)o=!0,n.pop(),i--;if(2===i){var c=this.tangent(s,a,Mn,Tn);return sr(r).controlOut(this.firstControlPoint(c,s,a,Mn,Tn)),r.push(new Ke.geometry.Segment(a,this.secondControlPoint(c,s,a,Mn,Tn))),r}var u,p;if(o){s=n[i-1],a=n[0],l=n[1];var h=this.controlPoints(s,a,l);u=h[1],p=h[0]}else{var f=this.tangent(s,a,Mn,Tn);u=this.firstControlPoint(f,s,a,Mn,Tn)}for(var d=u,v=0;v<=i-3;v++)if(e.removeDuplicates(v,n),i=n.length,v+3<=i){s=n[v],a=n[v+1],l=n[v+2];var y=e.controlPoints(s,a,l);sr(r).controlOut(d),d=y[1];var g=y[0];r.push(new Ke.geometry.Segment(a,g))}if(o){s=n[i-2],a=n[i-1],l=n[0];var m=this.controlPoints(s,a,l);sr(r).controlOut(d),r.push(new Ke.geometry.Segment(a,m[0])),sr(r).controlOut(m[1]),r.push(new Ke.geometry.Segment(l,p))}else{var b=this.tangent(a,l,Mn,Tn);sr(r).controlOut(d),r.push(new Ke.geometry.Segment(l,this.secondControlPoint(b,a,l,Mn,Tn)))}return r},e.prototype.removeDuplicates=function(t,e){for(;e[t+1]&&(e[t].equals(e[t+1])||e[t+1].equals(e[t+2]));)e.splice(t+1,1)},e.prototype.invertAxis=function t(e,n,r){var t=!1;if(e.x===n.x)t=!0;else if(n.x===r.x)(n.y<r.y&&e.y<=n.y||r.y<n.y&&n.y<=e.y)&&(t=!0);else{var o=this.lineFunction(e,n),i=this.calculateFunction(o,r.x);e.y<=n.y&&r.y<=i||n.y<=e.y&&r.y>=i||(t=!0)}return t},e.prototype.isLine=function(t,e,n){var r=this.lineFunction(t,e),o=this.calculateFunction(r,n.x);return t.x===e.x&&e.x===n.x||ur(o,1)===ur(n.y,1)},e.prototype.lineFunction=function(t,e){var n=(e.y-t.y)/(e.x-t.x),r=t.y-n*t.x;return[r,n]},e.prototype.controlPoints=function(t,e,n){var r,o=Mn,i=Tn,s=!1,a=!1;if(this.isLine(t,e,n))r=this.tangent(t,e,Mn,Tn);else{var l={x:this.isMonotonicByField(t,e,n,Mn),y:this.isMonotonicByField(t,e,n,Tn)};if(l.x&&l.y)r=this.tangent(t,n,Mn,Tn),s=!0;else if(this.invertAxis(t,e,n)&&(o=Tn,i=Mn),l[o])r=0;else{var c;c=n[i]<t[i]&&t[i]<=e[i]||t[i]<n[i]&&e[i]<=t[i]?Et((n[i]-t[i])*(e[o]-t[o])):-Et((n[o]-t[o])*(e[i]-t[i])),r=Mo*c,a=!0}}var u=this.secondControlPoint(r,t,e,o,i);if(a){var p=o;o=i,i=p}var h=this.firstControlPoint(r,e,n,o,i);return s&&(this.restrictControlPoint(t,e,u,r),this.restrictControlPoint(e,n,h,r)),[u,h]},e.prototype.restrictControlPoint=function(t,e,n,r){t.y<e.y?e.y<n.y?(n.x=t.x+(e.y-t.y)/r,n.y=e.y):n.y<t.y&&(n.x=e.x-(e.y-t.y)/r,n.y=t.y):n.y<e.y?(n.x=t.x-(t.y-e.y)/r,n.y=e.y):t.y<n.y&&(n.x=e.x+(t.y-e.y)/r,n.y=t.y)},e.prototype.tangent=function t(e,n,r,o){var t,i=n[r]-e[r],s=n[o]-e[o];return t=0===i?0:s/i},e.prototype.isMonotonicByField=function(t,e,n,r){return n[r]>e[r]&&e[r]>t[r]||n[r]<e[r]&&e[r]<t[r]},e.prototype.firstControlPoint=function(t,e,n,r,o){var i=e[r],s=n[r],a=(s-i)*Co;return this.point(i+a,e[o]+a*t,r,o)},e.prototype.secondControlPoint=function(t,e,n,r,o){var i=e[r],s=n[r],a=(s-i)*Co;return this.point(s-a,n[o]-a*t,r,o)},e.prototype.point=function(t,e,n,r){var o=new Ke.geometry.Point;return o[n]=t,o[r]=e,o},e.prototype.calculateFunction=function(t,e){for(var n=t.length,r=0,o=0;o<n;o++)r+=Math.pow(e,o)*t[o];return r},e}(Ke.Class),Eo=function(t){function e(e){t.call(this),this._axis=e,this.options=e.options}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.value=function t(e){var n=this._axis,t=n.getCategory?n.getCategory(e):n.getValue(e);return t},e.prototype.slot=function(t,e,n){return void 0===n&&(n=!0),this._axis.slot(t,e,n)},e.prototype.range=function(){return this._axis.range()},e.prototype.valueRange=function(){return this._axis.valueRange()},e}(Ke.Class),Po=function(t){this.visual=t.visual,this.chartsVisual=t.chartContainer.visual,this._pane=t};Po.prototype.findAxisByName=function(t){return Pt(t,this._pane.axes)};var Ao=function(t){function e(e){t.call(this),this._plotArea=e,this.visual=e.visual,this.backgroundVisual=e._bgVisual}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ke.Class),jo={min:function(t){for(var e=t.length,n=pn,r=0;r<e;r++){var o=t[r];l(o)&&(n=Math.min(n,o))}return n===pn?t[0]:n},max:function(t){for(var e=t.length,n=hn,r=0;r<e;r++){var o=t[r];l(o)&&(n=Math.max(n,o))}return n===hn?t[0]:n},sum:function(t){for(var e=t.length,n=0,r=0;r<e;r++){var o=t[r];l(o)&&(n+=o)}return n},sumOrNull:function(t){var e=null;return At(t)&&(e=jo.sum(t)),e},count:function(t){for(var e=t.length,n=0,r=0;r<e;r++){var o=t[r];null!==o&&tr(o)&&n++}return n},avg:function(t){var e=At(t),n=t[0];return e>0&&(n=jo.sum(t)/e),n},first:function(t){for(var e=t.length,n=0;n<e;n++){var r=t[n];if(null!==r&&tr(r))return r}return t[0]}},Do=function(t){function e(){t.call(this),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e,n){var r=this;void 0===e&&(e=[Sn]),void 0===n&&(n={});for(var o=0;o<t.length;o++){var i=t[o];r._valueFields[i]=e,r._otherFields[i]=n,r._nullValue[i]=r._makeValue(e,null),r._undefinedValue[i]=r._makeValue(e,void 0)}},e.prototype.canonicalFields=function(t){return this.valueFields(t).concat(this.otherFields(t))},e.prototype.valueFields=function(t){return this._valueFields[t.type]||[Sn]},e.prototype.otherFields=function(t){return this._otherFields[t.type]||[Sn]},e.prototype.bindPoint=function(t,e,n){var r,o,i=t.data,s=tr(n)?n:i[e],a={valueFields:{value:s}},l=this.valueFields(t),c=this._otherFields[t.type];if(null===s)o=this._nullValue[t.type];else if(tr(s)){if(Array.isArray(s)){var u=s.slice(l.length);o=this._bindFromArray(s,l),r=this._bindFromArray(u,c)}else if("object"==typeof s){var p=this.sourceFields(t,l),h=this.sourceFields(t,c);o=this._bindFromObject(s,l,p),r=this._bindFromObject(s,c,h)}}else o=this._undefinedValue[t.type];return tr(o)&&(1===l.length?a.valueFields.value=o[l[0]]:a.valueFields=o),a.fields=r||{},a},e.prototype._makeValue=function(t,e){for(var n={},r=t.length,o=0;o<r;o++){var i=t[o];n[i]=e}return n},e.prototype._bindFromArray=function(t,e){var n={};if(e)for(var r=Math.min(e.length,t.length),o=0;o<r;o++)n[e[o]]=t[o];return n},e.prototype._bindFromObject=function(t,e,n){void 0===n&&(n=e);var r={};if(e)for(var o=e.length,i=0;i<o;i++){var s=e[i],a=n[i];null!==a&&(r[s]=jt(a,t))}return r},e.prototype.sourceFields=function t(e,n){var t=[];if(n)for(var r=n.length,o=0;o<r;o++){var i=n[o],s=i===Sn?"field":i+"Field";t.push(null!==e[s]?e[s]||i:null)}return t},e}(Ke.Class);Do.current=new Do;var Ro="stderr",Io="stddev",zo=/percent(?:\w*)\((\d+)\)/,Fo=new RegExp("^"+Io+"(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),Lo=function(t){function e(e,n,r){t.call(this),this.initGlobalRanges(e,n,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initGlobalRanges=function(t,e,n){var r=e.data,o=Fo.exec(t);if(o){this.valueGetter=this.createValueGetter(e,n);var i=this.getAverage(r),s=this.getStandardDeviation(r,i,!1),a=o[1]?parseFloat(o[1]):1,l={low:i.value-s*a,high:i.value+s*a};this.globalRange=function(){return l}}else if(t.indexOf&&t.indexOf(Ro)>=0){this.valueGetter=this.createValueGetter(e,n);var c=this.getStandardError(r,this.getAverage(r));this.globalRange=function(t){return{low:t-c,high:t+c}}}},e.prototype.createValueGetter=function(t,e){var n,o=t.data,i=Do.current,s=i.valueFields(t),a=tr(o[0])?o[0]:{};if(r(a)){var c=e?s.indexOf(e):0;n=w("["+c+"]")}else if(l(a))n=w();else if(typeof a===gn){var u=i.sourceFields(t,s);n=w(u[s.indexOf(e)])}return n},e.prototype.getErrorRange=function(t,e){var n,o,i;if(!tr(e))return null;if(this.globalRange)return this.globalRange(t);if(r(e))n=t-e[0],o=t+e[1];else if(l(i=parseFloat(e)))n=t-i,
o=t+i;else{if(!(i=zo.exec(e)))throw new Error("Invalid ErrorBar value: "+e);var s=t*(parseFloat(i[1])/100);n=t-Math.abs(s),o=t+Math.abs(s)}return{low:n,high:o}},e.prototype.getStandardError=function(t,e){return this.getStandardDeviation(t,e,!0)/Math.sqrt(e.count)},e.prototype.getStandardDeviation=function(t,e,n){for(var r=this,o=t.length,i=n?e.count-1:e.count,s=0,a=0;a<o;a++){var c=r.valueGetter(t[a]);l(c)&&(s+=Math.pow(c-e.value,2))}return Math.sqrt(s/i)},e.prototype.getAverage=function(t){for(var e=this,n=t.length,r=0,o=0,i=0;i<n;i++){var s=e.valueGetter(t[i]);l(s)&&(r+=s,o++)}return{value:r/o,count:o}},e}(Ke.Class),No=Ke.support.browser||{},Bo=600,Vo="fadeIn",Ho=.8,Uo=5,Ko=No.msie?.001:0,qo="errorLow",Wo="errorHigh",Go="xErrorLow",$o="xErrorHigh",Yo="yErrorLow",Xo="yErrorHigh",Jo=8,Zo="zero",Qo="interpolate",ti="gap",ei="above",ni="below",ri="smooth",oi="step",ii="area",si="bar",ai="boxPlot",li="bubble",ci="bullet",ui="candlestick",pi="column",hi="donut",fi="funnel",di="horizontalWaterfall",vi="line",yi="ohlc",gi="pie",mi="polarArea",bi="polarLine",wi="polarScatter",_i="radarArea",xi="radarColumn",ki="radarLine",Si="rangeArea",Oi="rangeBar",Ci="rangeColumn",Mi="scatter",Ti="scatterLine",Ei="verticalArea",Pi="verticalBoxPlot",Ai="verticalBullet",ji="verticalLine",Di="verticalRangeArea",Ri="waterfall",Ii=[si,pi,yi,ui,ai,Pi,ci,Ci,Oi,Ri,di],zi="legendItemClick",Fi="legendItemHover",Li="legendItemLeave",Ni="seriesClick",Bi="seriesHover",Vi="seriesOver",Hi="seriesLeave",Ui="plotAreaClick",Ki="plotAreaHover",qi="plotAreaLeave",Wi="drag",Gi="dragEnd",$i="dragStart",Yi="zoomStart",Xi="zoom",Ji="zoomEnd",Zi="selectStart",Qi="select",ts="selectEnd",es="render",ns="showTooltip",rs="hideTooltip",os="paneRender",is="log",ss="category",as="insideEnd",ls="insideBase",cs="outsideEnd",us="DOMMouseScroll mousewheel",ps=150,hs=4,fs=function(t){function e(e,n,r,o,i,s){t.call(this,s),this.low=e,this.high=n,this.isVertical=r,this.chart=o,this.series=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e,n=this.options.endCaps,r=this.isVertical,o=this.getAxis(),i=o.getSlot(this.low,this.high),s=t.center(),a=this.getCapsWidth(t,r),l=r?s.x:s.y,c=l-a,u=l+a;r?(e=[new yr(s.x,i.y1),new yr(s.x,i.y2)],n&&e.push(new yr(c,i.y1),new yr(u,i.y1),new yr(c,i.y2),new yr(u,i.y2)),this.box=new gr(c,i.y1,u,i.y2)):(e=[new yr(i.x1,s.y),new yr(i.x2,s.y)],n&&e.push(new yr(i.x1,c),new yr(i.x1,u),new yr(i.x2,c),new yr(i.x2,u)),this.box=new gr(i.x1,c,i.x2,u)),this.linePoints=e},e.prototype.getCapsWidth=function(t,e){var n=e?t.width():t.height(),r=Math.min(Math.floor(n/2),hs)||hs;return r},e.prototype.createVisual=function(){var t=this,e=this.options,n=e.visual;n?this.visual=n({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:e.endCaps,color:e.color,line:e.line},createVisual:function(){t.createDefaultVisual();var e=t.visual;return delete t.visual,e}}):this.createDefaultVisual()},e.prototype.createDefaultVisual=function(){var e=this,n=this,r=n.options,o=n.linePoints,i={stroke:{color:r.color,width:r.line.width,dashType:r.line.dashType}};t.prototype.createVisual.call(this);for(var a=0;a<o.length;a+=2){var l=new Ke.drawing.Path(i).moveTo(o[a].x,o[a].y).lineTo(o[a+1].x,o[a+1].y);s(l),e.visual.append(l)}},e}(xr);M(fs,{animation:{type:Vo,delay:Bo},endCaps:!0,line:{width:2},zIndex:1});var ds=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAxis=function(){var t=this.chart.seriesValueAxis(this.series);return t},e}(fs),vs=5,ys=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this.categoryAxis=e.seriesCategoryAxis(n.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.pointOptions=function(t,e){var n=this.seriesOptions[e];if(!n){var r=this.pointType().prototype.defaults;this.seriesOptions[e]=n=f({},r,{vertical:!this.options.invertAxes},t)}return n},e.prototype.plotValue=function(t){if(!t)return 0;if(this.options.isStacked100&&l(t.value)){for(var e=t.categoryIx,n=this.categoryPoints[e],r=[],o=0,i=0;i<n.length;i++){var s=n[i];if(s){var a=t.series.stack,c=s.series.stack;if(a&&c&&a.group!==c.group)continue;l(s.value)&&(o+=Math.abs(s.value),r.push(Math.abs(s.value)))}}if(o>0)return t.value/o}return t.value},e.prototype.plotRange=function(t,e){var n=this;void 0===e&&(e=0);var r=this.categoryPoints[t.categoryIx];if(this.options.isStacked){for(var o=this.plotValue(t),i=o>=0,s=e,a=!1,l=0;l<r.length;l++){var c=r[l];if(t===c)break;var p=t.series.stack,h=c.series.stack;if(p&&h){if(typeof p===_n&&p!==h)continue;if(p.group&&p.group!==h.group)continue}var f=n.plotValue(c);(f>=0&&i||f<0&&!i)&&(s+=f,o+=f,a=!0,n.options.isStacked100&&(o=Math.min(o,1)))}return a&&(s-=e),[s,o]}var d=t.series,v=this.seriesValueAxis(d),y=this.categoryAxisCrossingValue(v);return[y,u(t.value)?t.value:y]},e.prototype.stackLimits=function(t,e){for(var n=this,r=pn,o=hn,i=0;i<this.categoryPoints.length;i++){var s=n.categoryPoints[i];if(s)for(var a=0;a<s.length;a++){var l=s[a];if(l&&(l.series.stack===e||l.series.axis===t)){var c=n.plotRange(l,0)[1];tr(c)&&isFinite(c)&&(o=Math.max(o,c),r=Math.min(r,c))}}}return{min:r,max:o}},e.prototype.updateStackRange=function(){var t=this,e=this.options,n=e.isStacked,r=e.series,o={};if(n)for(var i=0;i<r.length;i++){var s=r[i],a=s.axis,l=a+s.stack,c=o[l];if(!c){c=t.stackLimits(a,s.stack);var u=t.errorTotals;u&&(u.negative.length&&(c.min=Math.min(c.min,T(u.negative).min)),u.positive.length&&(c.max=Math.max(c.max,T(u.positive).max))),c.min!==pn||c.max!==hn?o[l]=c:c=null}c&&(t.valueAxisRanges[a]=c)}},e.prototype.addErrorBar=function(t,e,n){var r,o=t.value,i=t.series,s=t.seriesIx,a=t.options.errorBars,c=e.fields[qo],u=e.fields[Wo];l(c)&&l(u)?r={low:c,high:u}:a&&tr(a.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[s]=this.seriesErrorRanges[s]||new Lo(a.value,i,Sn),r=this.seriesErrorRanges[s].getErrorRange(o,a.value)),r&&(t.low=r.low,t.high=r.high,this.addPointErrorBar(t,n))},e.prototype.addPointErrorBar=function(t,e){var n=!this.options.invertAxes,r=t.options.errorBars,o=t.series,i=t.low,s=t.high;if(this.options.isStacked){var a=this.stackedErrorRange(t,e);i=a.low,s=a.high}else{var l={categoryIx:e,series:o};this.updateRange({value:i},l),this.updateRange({value:s},l)}var c=new ds(i,s,n,this,o,r);t.errorBars=[c],t.append(c)},e.prototype.stackedErrorRange=function(t,e){var n=this.plotRange(t,0)[1]-t.value,r=t.low+n,o=t.high+n;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},r<0&&(this.errorTotals.negative[e]=Math.min(this.errorTotals.negative[e]||0,r)),o>0&&(this.errorTotals.positive[e]=Math.max(this.errorTotals.positive[e]||0,o)),{low:r,high:o}},e.prototype.addValue=function(t,e){var n=e.categoryIx,r=e.series,o=e.seriesIx,i=this.categoryPoints[n];i||(this.categoryPoints[n]=i=[]);var s=this.seriesPoints[o];s||(this.seriesPoints[o]=s=[]);var a=this.createPoint(t,e);a&&(Object.assign(a,e),a.owner=this,a.noteText=t.fields.noteText,tr(a.dataItem)||(a.dataItem=r.data[n]),this.addErrorBar(a,t,n)),this.points.push(a),s.push(a),i.push(a),this.updateRange(t.valueFields,e)},e.prototype.evalPointOptions=function(t,e,n,r,o,i){var s={defaults:o._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},a=this._evalSeries[i];tr(a)||(this._evalSeries[i]=a=Dt(t,{},s,!0));var l=t;return a&&(l=f({},l),Dt(l,{value:e,category:n,index:r,series:o,dataItem:o.data[r]},s)),l},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=t.value,o=this.valueAxisRanges[n];isFinite(r)&&null!==r&&(o=this.valueAxisRanges[n]=o||{min:pn,max:hn},o.min=Math.min(o.min,r),o.max=Math.max(o.max,r))},e.prototype.seriesValueAxis=function(t){var e=this.plotArea,n=t.axis,r=n?e.namedValueAxes[n]:e.valueAxis;if(!r)throw new Error("Unable to locate value axis with name "+n);return r},e.prototype.reflow=function(t){var e=this,n=this.categorySlots=[],r=this.points,o=this.categoryAxis,i=0;this.traverseDataPoints(function(t,s){var a=s.categoryIx,l=s.series,c=e.seriesValueAxis(l),u=r[i++],p=n[a];if(p||(n[a]=p=e.categorySlot(o,a,c)),u){var h=e.plotRange(u,c.startValue()),f=e.valueSlot(c,h);if(f){var d=e.pointSlot(p,f);u.aboveAxis=e.aboveAxis(u,c),u.stackValue=h[1],e.options.isStacked100&&(u.percentage=e.plotValue(u)),e.reflowPoint(u,d)}else u.visible=!1}}),this.reflowCategories(n),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=t},e.prototype.valueSlot=function(t,e){return t.getSlot(e[0],e[1],!this.options.clip)},e.prototype.limitPoints=function(){for(var t=this,e=this.categoryPoints,n=e[0].concat(sr(e)),r=0;r<n.length;r++)n[r]&&t.limitPoint(n[r])},e.prototype.limitPoint=function(t){var e=this.categoryAxis.limitSlot(t.box);e.equals(t.box)||t.reflow(e)},e.prototype.aboveAxis=function(t,e){var n=this.categoryAxisCrossingValue(e),r=t.value;return e.options.reverse?r<n:r>=n},e.prototype.categoryAxisCrossingValue=function(t){var e=this.categoryAxis,n=t.options,r=[].concat(n.axisCrossingValues||n.axisCrossingValue);return r[e.axisIndex||0]||0},e.prototype.reflowPoint=function(t,e){t.reflow(e)},e.prototype.reflowCategories=function(){},e.prototype.pointSlot=function(t,e){var n=this.options,r=n.invertAxes,o=r?e:t,i=r?t:e;return new gr(o.x1,i.y1,o.x2,i.y2)},e.prototype.categorySlot=function(t,e){return t.getSlot(e)},e.prototype.traverseDataPoints=function(t){for(var e=this,n=this.options.series,r=Rt(n),o=n.length,i=0;i<o;i++)e._outOfRangeCallback(n[i],"_outOfRangeMinPoint",i,t);for(var s=0;s<r;s++)for(var a=0;a<o;a++){var l=n[a],c=e.categoryAxis.categoryAt(s),u=e._bindPoint(l,a,s);t(u,{category:c,categoryIx:s,categoriesCount:r,series:l,seriesIx:a})}for(var p=0;p<o;p++)e._outOfRangeCallback(n[p],"_outOfRangeMaxPoint",p,t)},e.prototype._outOfRangeCallback=function(t,e,n,r){var o=t[e];if(o){var i=o.categoryIx,s=this._bindPoint(t,n,i,o.item);r(s,{category:o.category,categoryIx:i,series:t,seriesIx:n,dataItem:o.item})}},e.prototype._bindPoint=function(t,e,n,r){this._bindCache||(this._bindCache=[]);var o=this._bindCache[e];o||(o=this._bindCache[e]=[]);var i=o[n];return i||(i=o[n]=Do.current.bindPoint(t,n,r)),i},e.prototype.formatPointValue=function(t,e){return null===t.value?"":this.chartService.format.auto(e,t.value)},e.prototype.pointValue=function(t){return t.valueFields.value},e}(xr);M(ys,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});var gs={click:function(t,e){return t.trigger(Ni,this.eventArgs(e))},hover:function(t,e){return t.trigger(Bi,this.eventArgs(e))},over:function(t,e){return t.trigger(Vi,this.eventArgs(e))},out:function(t,e){return t.trigger(Hi,this.eventArgs(e))},eventArgs:function(t){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:or(t),originalEvent:t,point:this}}},ms={createNote:function(){var t=this.options.notes,e=this.noteText||t.label.text;t.visible!==!1&&tr(e)&&null!==e&&(this.note=new Lr({value:this.value,text:e,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}},bs=function(t){function e(e,n){t.call(this),this.value=e,this.options=n,this.aboveAxis=hr(this.options.aboveAxis,!0),this.tooltipTracking=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options,e=t.markers,n=t.labels;if(!this._rendered){if(this._rendered=!0,e.visible&&e.size&&(this.marker=this.createMarker(),this.append(this.marker)),n.visible){var r=b(n),o=this.pointData(),i=this.value;r?i=r(o):n.format&&(i=this.formatValue(n.format)),this.label=new Dr(i,f({align:Ye,vAlign:Ye,margin:{left:5,right:5},zIndex:hr(n.zIndex,this.series.zIndex)},n),o),this.append(this.label)}this.createNote(),this.errorBar&&this.append(this.errorBar)}},e.prototype.markerBorder=function(){var t=this.options.markers,e=t.background,n=f({color:this.color},t.border);return tr(n.color)||(n.color=new Ke.Color(e).brightness(Ho).toHex()),n},e.prototype.createVisual=function(){},e.prototype.createMarker=function(){var t=this.options.markers,e=new Sr({type:t.type,width:t.size,height:t.size,rotation:t.rotation,background:t.background,border:this.markerBorder(),opacity:t.opacity,zIndex:hr(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});return e},e.prototype.markerBox=function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},e.prototype.reflow=function(t){var e=this,n=this,r=n.options,o=n.aboveAxis,i=r.vertical;this.render(),this.box=t;var s=t.clone();if(i?o?s.y1-=s.height():s.y2+=s.height():o?s.x1+=s.width():s.x2-=s.width(),this._childBox=s,this.marker&&this.marker.reflow(s),this.reflowLabel(s),this.errorBars)for(var a=0;a<this.errorBars.length;a++)e.errorBars[a].reflow(s);if(this.note){var l=this.markerBox();if(!r.markers.visible||!r.markers.size){var c=l.center();l=new gr(c.x,c.y,c.x,c.y)}this.note.reflow(l)}},e.prototype.reflowLabel=function(t){var e=this,n=e.options,r=e.label,o=n.labels.position;r&&(o=o===ei?xn:o,o=o===ni?$e:o,r.reflow(t),r.box.alignTo(this.markerBox(),o),r.reflow(r.box))},e.prototype.createHighlight=function(){var t=this.options.highlight.markers,e=this.markerBorder().color,n=this.options.markers,r=n.size+(n.border.width||0)+(t.border.width||0),o=new Sr({type:n.type,width:r,height:r,rotation:n.rotation,background:t.color||e,border:{color:t.border.color,width:t.border.width,opacity:hr(t.border.opacity,1)},opacity:hr(t.opacity,1)});return o.reflow(this._childBox),o.getElement()},e.prototype.highlightVisual=function(){return(this.marker||{}).visual},e.prototype.highlightVisualArgs=function(){var t,e,n=this.marker;if(n)e=n.paddingBox.toRect(),t=n.visual;else{var r=this.options.markers.size,o=r/2,i=this.box.center();e=new Ke.geometry.Rect([i.x-o,i.y-o],[r,r])}return{options:this.options,rect:e,visual:t}},e.prototype.tooltipAnchor=function(){var t=this.markerBox(),e=this.owner.pane.clipBox(),n=!e||e.overlaps(t);if(n){var r,o,i=t.x2+Uo,s=un;return this.aboveAxis?(r=t.y1,o=$e):(r=t.y2,o=xn),{point:new yr(i,r),align:{horizontal:s,vertical:o}}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){var e=this.markerBox();return e.overlaps(t)},e.prototype.unclipElements=function(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}},e}(xr);bs.prototype.defaults={vertical:!0,markers:{visible:!0,background:On,size:Jo,type:Xe,border:{width:2},opacity:1},labels:{visible:!1,position:ei,margin:m(3),padding:m(4),animation:{type:Vo,delay:Bo}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:ln},errorBars:{line:{width:1}}},f(bs.prototype,gs),f(bs.prototype,ms);var ws=function(t){function e(e,n,r){t.call(this),this.linePoints=e,this.series=n,this.seriesIx=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.points=function(){return this.toGeometryPoints(this.linePoints)},e.prototype.toGeometryPoints=function(t){for(var e=[],n=0,r=t.length;n<r;n++)t[n]&&t[n].visible!==!1&&e.push(t[n]._childBox.toRect().center());return e},e.prototype.createVisual=function(){var t=this,e=this.series.visual;e?(this.visual=e({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:function(){return t.segmentVisual(),t.visual}}),this.visual&&!tr(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()},e.prototype.segmentVisual=function(){var t=this,e=t.options,n=t.series,r=n.color,o=n._defaults;p(r)&&o&&(r=o.color);var i=Ke.drawing.Path.fromPoints(this.points(),{stroke:{color:r,width:n.width,opacity:n.opacity,dashType:n.dashType},zIndex:n.zIndex});e.closed&&i.close(),this.visual=i},e.prototype.aliasFor=function(t,e){return this.parent.getNearestPoint(e.x,e.y,this.seriesIx)},e}(xr);M(ws,{closed:!1});var _s={calculateStepPoints:function(t){for(var e=this.parent.plotArea.seriesCategoryAxis(this.series),n=e.options,r=n.justified,o=n.vertical,i=n.reverse,s=o?Mn:Tn,a=o?Tn:Mn,l=i?2:1,c=l,u=It(t[0],s,l,a,c),p=[u],h=1;h<t.length;h++){var f=It(t[h],s,l,a,c);if(u[s]!==f[s]){var d=new Ke.geometry.Point;d[s]=u[s],d[a]=f[a],p.push(d,f)}u=f}return r?u!==sr(p)&&p.push(u):p.push(It(sr(t),s,l,a,i?1:2)),p}},xs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.points=function(){return this.calculateStepPoints(this.linePoints)},e}(ws);f(xs.prototype,_s);var ks=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.segmentVisual=function(){var t=this.series,e=t._defaults,n=t.color;p(n)&&e&&(n=e.color);var r=new To(this.options.closed),o=r.process(this.points()),i=new Ke.drawing.Path({stroke:{color:n,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});i.segments.push.apply(i.segments,o),this.visual=i},e}(ws),Ss={renderSegments:function(){var t,e=this,n=this,r=n.options,o=n.seriesPoints,i=r.series,s=o.length;this._segments=[];for(var a=0;a<s;a++){for(var l=i[a],c=e.sortPoints(o[a]),u=c.length,p=[],h=0;h<u;h++){var f=c[h];f?p.push(f):e.seriesMissingValues(l)!==Qo&&(p.length>1&&(t=e.createSegment(p,l,a,t),e._addSegment(t)),p=[])}p.length>1&&(t=e.createSegment(p,l,a,t),e._addSegment(t))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(t){this._segments.push(t),t.parent=this},sortPoints:function(t){return t},seriesMissingValues:function(t){var e=t.missingValues,n=!e&&this.options.isStacked;return n?Zo:e||Qo},getNearestPoint:function(t,e,n){for(var r,o=new yr(t,e),i=this.seriesPoints[n],s=pn,a=0;a<i.length;a++){var l=i[a];if(l&&tr(l.value)&&null!==l.value&&l.visible!==!1){var c=l.box,u=c.center().distanceTo(o);u<s&&(r=l,s=u)}}return r}},Os=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this._setEnd(this.options.box.x1)},e.prototype.step=function(t){var e=this.options.box;this._setEnd(S(e.x1,e.x2,t))},e.prototype._setEnd=function(t){var e=this.element,n=e.segments,r=n[1].anchor(),o=n[2].anchor();e.suspend(),r.setX(t),e.resume(),o.setX(t)},e}(Ke.drawing.Animation);M(Os,{duration:Bo}),Ke.drawing.AnimationFactory.current.register("clip",Os);var Cs={createAnimation:function(){var t=this.getRoot();if(t&&(t.options||{}).transitions!==!1){var e=t.size(),n=Ke.drawing.Path.fromRect(e.toRect());this.visual.clip(n),this.animation=new Os(n,{box:e}),zt(this.options.series)&&this._setChildrenAnimation(n)}},_setChildrenAnimation:function(t){for(var e=this.animationPoints(),n=0;n<e.length;n++){var r=e[n];r&&r.visual&&tr(r.visual.options.zIndex)&&r.visual.clip(t)}}},Ms=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.updateStackRange(),this.renderSegments()},e.prototype.pointType=function(){return bs},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,s=this.seriesMissingValues(o),a=t.valueFields.value;if(!tr(a)||null===a){if(s!==Zo)return null;a=0}var l=this.pointOptions(o,i);l=this.evalPointOptions(l,a,r,n,o,i);var c=t.fields.color||o.color;p(o.color)&&(c=l.color);var u=new bs(a,l);return u.color=c,this.append(u),u},e.prototype.plotRange=function(t){var e=this,n=this.plotValue(t);if(this.options.isStacked)for(var r=t.categoryIx,o=this.categoryPoints[r],i=0;i<o.length;i++){var s=o[i];if(t===s)break;n+=e.plotValue(s),e.options.isStacked100&&(n=Math.min(n,1))}return[n,n]},e.prototype.createSegment=function(t,e,n){var r,o=e.style;return new(r=o===oi?xs:o===ri?ks:ws)(t,e,n)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++)e.push((t[n]||{}).marker);return e.concat(this._segments)},e}(ys);f(Ms.prototype,Ss,Cs);var Ts=function(t){function e(e,n,r,o,i){t.call(this,e,n,r),this.prevSegment=o,this.stackPoints=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createVisual=function(){var t=this.series,e=t._defaults,n=t.line||{},r=t.color;p(r)&&e&&(r=e.color),this.visual=new Ke.drawing.Group({zIndex:t.zIndex}),this.createFill({fill:{color:r,opacity:t.opacity},stroke:null}),n.width>0&&n.visible!==!1&&this.createStroke({stroke:f({color:r,opacity:t.opacity,lineCap:"butt"},n)})},e.prototype.strokeSegments=function(){var t=this._strokeSegments;return t||(t=this._strokeSegments=this.createStrokeSegments()),t},e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.points())},e.prototype.stackSegments=function(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)},e.prototype.createStackSegments=function(t){return this.segmentsFromPoints(this.toGeometryPoints(t)).reverse()},e.prototype.segmentsFromPoints=function(t){return t.map(function(t){return new Ke.geometry.Segment(t)})},e.prototype.createStroke=function(t){var e=new Ke.drawing.Path(t);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)},e.prototype.hasStackSegment=function(){return this.prevSegment||this.stackPoints&&this.stackPoints.length},e.prototype.createFill=function(t){var e=this.strokeSegments(),n=e.slice(0),r=this.hasStackSegment();if(r){var o=this.stackSegments();Zn(n,o)}var i=new Ke.drawing.Path(t);i.segments.push.apply(i.segments,n),!r&&e.length>1&&this.fillToAxes(i),this.visual.append(i)},e.prototype.fillToAxes=function(t){var e=this.parent,n=e.options.invertAxes,r=e.seriesValueAxis(this.series),o=e.categoryAxisCrossingValue(r),i=r.getSlot(o,o,!0),s=this.strokeSegments(),a=s[0].anchor(),l=sr(s).anchor(),c=n?i.x1:i.y1;n?t.lineTo(c,l.y).lineTo(c,a.y):t.lineTo(l.x,c).lineTo(a.x,c)},e}(ws),Es=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))},e.prototype.createStackSegments=function(t){return this.segmentsFromPoints(this.calculateStepPoints(t)).reverse()},e}(Ts);f(Es.prototype,_s);var Ps=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){var t=new To(this.options.closed),e=this.points();return t.process(e)},e.prototype.createStackSegments=function(){for(var t=this.strokeSegments(),e=[],n=t.length-1;n>=0;n--){var r=t[n];e.push(new Ke.geometry.Segment(r.anchor(),r.controlOut(),r.controlIn()))}return e},e}(Ts),As=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,n,r){var o,i,s=this.options.isStacked,a=(e.line||{}).style;if(s&&n>0&&r){var l=this.seriesMissingValues(e);"gap"!==l?(i=r.linePoints,o=r):i=this._gapStackPoints(t,n,a)}var c;return new(c=a===oi?Es:a===ri?Ps:Ts)(t,e,n,o,i)},e.prototype.reflow=function(e){var n=this;t.prototype.reflow.call(this,e);var r=this._stackPoints;if(r)for(var o=0;o<r.length;o++){var i=r[o],s=n.categoryAxis.getSlot(i.categoryIx);i.reflow(s)}},e.prototype._gapStackPoints=function(t,e,n){var r=this,o=this.seriesPoints,i=t[0].categoryIx,s=t.length;i<0&&(i=0,s--);var a=i+s,l=this.seriesOptions[0]._outOfRangeMinPoint?1:0,c=[];this._stackPoints=this._stackPoints||[];for(var u=i;u<a;u++){var p=u+l,h=e,f=void 0;do h--,f=o[h][p];while(h>0&&!f);if(f)n!==oi&&u>i&&!o[h][p-1]&&c.push(r._previousSegmentPoint(u,p,p-1,h)),c.push(f),n!==oi&&u+1<a&&!o[h][p+1]&&c.push(r._previousSegmentPoint(u,p,p+1,h));else{var d=r._createGapStackPoint(u);r._stackPoints.push(d),c.push(d)}}return c},e.prototype._previousSegmentPoint=function(t,e,n,r){for(var o,i=this.seriesPoints,s=r;s>0&&!o;)s--,o=i[s][n];return o?o=i[s][e]:(o=this._createGapStackPoint(t),this._stackPoints.push(o)),o},e.prototype._createGapStackPoint=function(t){var e=this.pointOptions({},0),n=new bs(0,e);return n.categoryIx=t,n.series={},n},e.prototype.seriesMissingValues=function(t){return t.missingValues||Zo},e}(Ms),js=function(t){function e(){t.call(this),this.axisRanges={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t){var e=this.axisRanges;for(var n in t){var r=t[n],o=e[n];e[n]=o=o||{min:pn,max:hn},o.min=Math.min(o.min,r.min),o.max=Math.max(o.max,r.max)}},e.prototype.reset=function(t){this.axisRanges[t]=void 0},e.prototype.query=function(t){return this.axisRanges[t]},e}(Ke.Class),Ds=function(t){function e(e,n,r){t.call(this,n),this.textBox=new Dr(e,this.options,r),this.append(this.textBox)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createVisual=function(){this.textBox.options.noclip=this.options.noclip},e.prototype.reflow=function(t){var e=this.options,n=e.vertical,r=e.aboveAxis,o=this.children[0],i=o.options,s=o.box,a=o.options.padding,l=t;i.align=n?Ye:un,i.vAlign=n?xn:Ye,e.position===as?n?(i.vAlign=xn,!r&&s.height()<t.height()&&(i.vAlign=$e)):i.align=r?bn:un:e.position===Ye?(i.vAlign=Ye,i.align=Ye):e.position===ls?n?i.vAlign=r?$e:xn:i.align=r?un:bn:e.position===cs&&(n?l=r?new gr(t.x1,t.y1-s.height(),t.x2,t.y1):new gr(t.x1,t.y2,t.x2,t.y2+s.height()):(i.align=Ye,l=r?new gr(t.x2,t.y1,t.x2+s.width(),t.y2):new gr(t.x1-s.width(),t.y1,t.x1,t.y2))),e.rotation||(n?a.left=a.right=(l.width()-o.contentBox.width())/2:a.top=a.bottom=(l.height()-o.contentBox.height())/2),o.reflow(l)},e.prototype.alignToClipBox=function(t){var e=this.options.vertical,n=e?Tn:Mn,r=n+"1",o=n+"2",i=this.children[0],s=this.parent.box;if(s[r]<t[r]||t[o]<s[o]){var a=i.paddingBox.clone();a[r]=Math.max(s[r],t[r]),a[o]=Math.min(s[o],t[o]),this.reflow(a)}},e}(xr);M(Ds,{position:cs,margin:m(3),padding:m(4),color:Ge,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:Vo,delay:Bo},zIndex:2});var Rs=6,Is=function(t){function e(e,n){t.call(this),this.options=n,this.color=n.color||On,this.aboveAxis=hr(this.options.aboveAxis,!0),this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},e.prototype.createLabel=function(){var t=this.options,e=t.labels;if(e.visible){var n,r=this.pointData(),o=b(e);n=o?o(r):this.formatValue(e.format),this.label=new Ds(n,f({vertical:t.vertical},e),r),this.append(this.label)}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.reflow=function(t){var e=this;this.render();var n=this.label;if(this.box=t,n&&(n.options.aboveAxis=this.aboveAxis,n.reflow(t)),this.note&&this.note.reflow(t),this.errorBars)for(var r=0;r<this.errorBars.length;r++)e.errorBars[r].reflow(t)},e.prototype.createVisual=function(){var e=this,n=this,r=n.box,o=n.options,i=o.visual;if(this.visible!==!1)if(t.prototype.createVisual.call(this),i){var s=this.rectVisual=i({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:r.toRect(),createVisual:function(){var t=new Ke.drawing.Group;return e.createRect(t),t},options:o});s&&this.visual.append(s)}else r.width()>0&&r.height()>0&&this.createRect(this.visual)},e.prototype.createRect=function(t){var e=this.options,n=e.border,r=tr(n.opacity)?n.opacity:e.opacity,o=this.box.toRect();o.size.width=Math.round(o.size.width);var i=this.rectVisual=Ke.drawing.Path.fromRect(o,{fill:{color:this.color,opacity:e.opacity},stroke:{color:this.getBorderColor(),width:n.width,opacity:r,dashType:n.dashType}}),a=this.box.width(),l=this.box.height(),c=e.vertical?a:l;if(c>Rs&&(s(i),(a<1||l<1)&&(i.options.stroke.lineJoin="round")),t.append(i),Ft(e)){var u=this.createGradientOverlay(i,{baseColor:this.color},f({end:e.vertical?void 0:[0,1]},e.overlay));t.append(u)}},e.prototype.createHighlight=function(t){var e=Ke.drawing.Path.fromRect(this.box.toRect(),t);return s(e)},e.prototype.highlightVisual=function(){return this.rectVisual},e.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},e.prototype.getBorderColor=function(){var t=this.color,e=this.options.border,n=e._brightness||Ho,r=e.color;return tr(r)||(r=new Ke.Color(t).brightness(n).toHex()),r},e.prototype.tooltipAnchor=function(){var t,e,n=this,r=n.options,o=n.box,i=n.aboveAxis,s=this.owner.pane.clipBox()||o,a=un,l=xn;if(r.vertical)t=Math.min(o.x2,s.x2)+Uo,i?e=Math.max(o.y1,s.y1):(e=Math.min(o.y2,s.y2),l=$e);else{var c=Math.max(o.x1,s.x1),u=Math.min(o.x2,s.x2);r.isStacked?(l=$e,i?(a=bn,t=u):t=c,e=Math.max(o.y1,s.y1)-Uo):(i?t=u+Uo:(t=c-Uo,a=bn),e=Math.max(o.y1,s.y1))}return{point:new yr(t,e),align:{horizontal:a,vertical:l}}},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}},e}(xr);f(Is.prototype,gs),f(Is.prototype,ms),Is.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}};var zs=function(t){function e(e){t.call(this,e),this.forEach=e.rtl?Nt:Lt}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,n=e.vertical,r=e.gap,o=e.spacing,i=this.children,s=i.length,a=n?Tn:Mn,l=s+r+o*(s-1),c=(n?t.height():t.width())/l,u=t[a+1]+c*(r/2);this.forEach(i,function(e,n){var r=(e.box||t).clone();r[a+1]=u,r[a+2]=u+c,e.reflow(r),n<s-1&&(u+=c*o),u+=c})},e}(xr);M(zs,{vertical:!1,gap:0,spacing:0});var Fs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){for(var e=this,n=this.options.vertical?Mn:Tn,r=this.children,o=r.length,i=this.box=new gr,s=0;s<o;s++){var a=r[s];if(a.visible!==!1){var l=a.box.clone();l.snapTo(t,n),0===s&&(i=e.box=l.clone()),a.reflow(l),i.wrap(l)}}},e}(xr);M(Fs,{vertical:!0});var Ls=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.updateStackRange()},e.prototype.pointType=function(){return Is},e.prototype.clusterType=function(){return zs},e.prototype.stackType=function(){return Fs},e.prototype.stackLimits=function(e,n){var r=t.prototype.stackLimits.call(this,e,n);return r},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,s=this,a=s.options,l=s.children,c=a.isStacked,u=this.pointValue(t),h=this.pointOptions(o,i),f=h.labels;
c&&f.position===cs&&(f.position=as),h.isStacked=c;var d=t.fields.color||o.color;u<0&&h.negativeColor&&(d=h.negativeColor),h=this.evalPointOptions(h,u,r,n,o,i),p(o.color)&&(d=h.color);var v=this.pointType(),y=new v(u,h);y.color=d;var g=l[n];if(!g){var m=this.clusterType();g=new m({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(g)}if(c){var b=this.getStackWrap(o,g);b.append(y)}else g.append(y);return y},e.prototype.getStackWrap=function(t,e){var n,r=t.stack,o=r?r.group||r:r,i=e.children;if(typeof o===_n){for(var s=0;s<i.length;s++)if(i[s]._stackGroup===o){n=i[s];break}}else n=i[0];if(!n){var a=this.stackType();n=new a({vertical:!this.options.invertAxes}),n._stackGroup=o,e.append(n)}return n},e.prototype.categorySlot=function t(e,n,r){var o=this.options,t=e.getSlot(n),i=r.startValue();if(o.isStacked){var s=r.getSlot(i,i,!0),a=o.invertAxes?Mn:Tn;t[a+1]=t[a+2]=s[a+1]}return t},e.prototype.reflowCategories=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++)e[r].reflow(t[r])},e.prototype.createAnimation=function(){this._setAnimationOptions(),t.prototype.createAnimation.call(this),zt(this.options.series)&&this._setChildrenAnimation()},e.prototype._setChildrenAnimation=function(){for(var t=this,e=this.points,n=0;n<e.length;n++){var r=e[n],o=r.visual;o&&tr(o.options.zIndex)&&(r.options.animation=t.options.animation,r.createAnimation())}},e.prototype._setAnimationOptions=function(){var t,e=this.options,n=e.animation||{};if(e.isStacked){var r=this.seriesValueAxis(e.series[0]);t=r.getSlot(r.startValue())}else t=this.categoryAxis.getSlot(0);n.origin=new Ke.geometry.Point(t.x1,t.y1),n.vertical=!e.invertAxes},e}(ys);M(Ls,{animation:{type:si}});var Ns=function(t){function e(e,n){t.call(this,n),this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this,n=e.options,r=e.value,o=e.owner,i=o.seriesValueAxis(n),s=i.getSlot(r.open,r.close),a=i.getSlot(r.low,r.high);s.x1=a.x1=t.x1,s.x2=a.x2=t.x2,this.realBody=s;var l=a.center().x,c=[];c.push([[l,a.y1],[l,s.y1]]),c.push([[l,s.y2],[l,a.y2]]),this.lines=c,this.box=a.clone().wrap(s),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()},e.prototype.reflowNote=function(){this.note&&this.note.reflow(this.box)},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()},e.prototype.mainVisual=function(t){var e=new Ke.drawing.Group;return this.createBody(e,t),this.createLines(e,t),e},e.prototype.createBody=function(t,e){var n=Ke.drawing.Path.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&n.options.set("stroke",{color:this.getBorderColor(),width:e.border.width,dashType:e.border.dashType,opacity:hr(e.border.opacity,e.opacity)}),s(n),t.append(n),Ft(e)&&t.append(this.createGradientOverlay(n,{baseColor:this.color},f({end:e.vertical?void 0:[0,1]},e.overlay)))},e.prototype.createLines=function(t,e){this.drawLines(t,e,this.lines,e.line)},e.prototype.drawLines=function(t,e,n,r){if(n)for(var o={stroke:{color:r.color||this.color,opacity:hr(r.opacity,e.opacity),width:r.width,dashType:r.dashType,lineCap:"butt"}},i=0;i<n.length;i++){var a=Ke.drawing.Path.fromPoints(n[i],o);s(a),t.append(a)}},e.prototype.getBorderColor=function(){var t=this.options.border,e=t.color;return tr(e)||(e=new Ke.Color(this.color).brightness(t._brightness).toHex()),e},e.prototype.createOverlay=function(){var t=Ke.drawing.Path.fromRect(this.box.toRect(),{fill:{color:On,opacity:0},stroke:null});this.visual.append(t)},e.prototype.createHighlight=function(){var t=this.options.highlight,e=this.color;this.color=t.color||this.color;var n=this.mainVisual(f({},this.options,{line:{color:this.getBorderColor()}},t));return this.color=e,n},e.prototype.highlightVisual=function(){return this._mainVisual},e.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},e.prototype.tooltipAnchor=function(){var t=this.box,e=this.owner.pane.clipBox()||t;return{point:new yr(t.x2+Uo,Math.max(t.y1,e.y1)+Uo),align:{horizontal:un,vertical:xn}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e}(xr);M(Ns,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}}),f(Ns.prototype,gs),f(Ns.prototype,ms);var Bs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowCategories=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++)e[r].reflow(t[r])},e.prototype.addValue=function(t,e){var n,r=e.categoryIx,o=e.category,i=e.series,s=e.seriesIx,a=this,l=a.children,c=a.options,u=t.valueFields,p=this.splitValue(u),h=Bt(p),f=i.data[r],d=this.categoryPoints[r];d||(this.categoryPoints[r]=d=[]),h&&(n=this.createPoint(t,e));var v=l[r];v||(v=new zs({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing,rtl:!c.invertAxes&&(this.chartService||{}).rtl}),this.append(v)),n&&(this.updateRange(u,e),v.append(n),n.categoryIx=r,n.category=o,n.series=i,n.seriesIx=s,n.owner=this,n.dataItem=f,n.noteText=t.fields.noteText),this.points.push(n),d.push(n)},e.prototype.pointType=function(){return Ns},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,s=this.pointType(),a=t.valueFields,l=f({},o),c=t.fields.color||o.color;l=this.evalPointOptions(l,a,r,n,o,i),o.type===ui&&a.open>a.close&&(c=t.fields.downColor||o.downColor||o.color),p(o.color)&&(c=l.color),l.vertical=!this.options.invertAxes;var u=new s(a,l);return u.color=c,u},e.prototype.splitValue=function(t){return[t.low,t.open,t.close,t.high]},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=this.splitValue(t),o=this.valueAxisRanges[n];o=this.valueAxisRanges[n]=o||{min:pn,max:hn},o=this.valueAxisRanges[n]={min:Math.min.apply(Math,r.concat([o.min])),max:Math.max.apply(Math,r.concat([o.max]))}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.open,n.high,n.low,n.close,t.category)},e.prototype.animationPoints=function(){return this.points},e}(ys);f(Bs.prototype,Cs);var Vs=function(t){function e(e,n){t.call(this,e,n),this.createNote()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e,n,r=this,o=r.options,i=r.value,s=r.owner,a=s.seriesValueAxis(o);this.boxSlot=n=a.getSlot(i.q1,i.q3),this.realBody=n,this.reflowBoxSlot(t),this.whiskerSlot=e=a.getSlot(i.lower,i.upper),this.reflowWhiskerSlot(t);var l=a.getSlot(i.median);if(i.mean){var c=a.getSlot(i.mean);this.meanPoints=this.calcMeanPoints(t,c)}this.whiskerPoints=this.calcWhiskerPoints(n,e),this.medianPoints=this.calcMedianPoints(t,l),this.box=e.clone().wrap(n),this.reflowNote()},e.prototype.reflowBoxSlot=function(t){this.boxSlot.x1=t.x1,this.boxSlot.x2=t.x2},e.prototype.reflowWhiskerSlot=function(t){this.whiskerSlot.x1=t.x1,this.whiskerSlot.x2=t.x2},e.prototype.calcMeanPoints=function(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]},e.prototype.calcWhiskerPoints=function(t,e){var n=e.center().x;return[[[n-5,e.y1],[n+5,e.y1],[n,e.y1],[n,t.y1]],[[n-5,e.y2],[n+5,e.y2],[n,e.y2],[n,t.y2]]]},e.prototype.calcMedianPoints=function(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]},e.prototype.renderOutliers=function(t){for(var e=this,n=this.value,r=n.outliers||[],o=3*Math.abs(n.q3-n.q1),i=[],s=t.markers||{},a=0;a<r.length;a++){var l=r[a];s=l<n.q3+o&&l>n.q1-o?t.outliers:t.extremes;var c=f({},s.border);tr(c.color)||(tr(e.color)?c.color=e.color:c.color=new Ke.Color(s.background).brightness(Ho).toHex());var u=new Sr({type:s.type,width:s.size,height:s.size,rotation:s.rotation,background:s.background,border:c,opacity:s.opacity});u.value=l,i.push(u)}return this.reflowOutliers(i),i},e.prototype.reflowOutliers=function(t){for(var e=this,n=this.owner.seriesValueAxis(this.options),r=this.box.center(),o=0;o<t.length;o++){var i=t[o].value,s=n.getSlot(i);e.options.vertical?s.move(r.x):s.move(void 0,r.y),e.box=e.box.wrap(s),t[o].reflow(s)}},e.prototype.mainVisual=function(e){for(var n=t.prototype.mainVisual.call(this,e),r=this.renderOutliers(e),o=0;o<r.length;o++){var i=r[o].getElement();i&&n.append(i)}return n},e.prototype.createLines=function(t,e){this.drawLines(t,e,this.whiskerPoints,e.whiskers),this.drawLines(t,e,this.medianPoints,e.median),this.drawLines(t,e,this.meanPoints,e.mean)},e.prototype.getBorderColor=function(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:t.prototype.getBorderColor.call(this)},e}(Ns);M(Vs,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:Jo,type:Ze,background:On,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:Jo,type:Xe,background:On,border:{width:2,opacity:1},opacity:0}}),f(Vs.prototype,gs);var Hs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowBoxSlot=function(t){this.boxSlot.y1=t.y1,this.boxSlot.y2=t.y2},e.prototype.reflowWhiskerSlot=function(t){this.whiskerSlot.y1=t.y1,this.whiskerSlot.y2=t.y2},e.prototype.calcMeanPoints=function(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]},e.prototype.calcWhiskerPoints=function(t,e){var n=e.center().y;return[[[e.x1,n-5],[e.x1,n+5],[e.x1,n],[t.x1,n]],[[e.x2,n-5],[e.x2,n+5],[e.x2,n],[t.x2,n]]]},e.prototype.calcMedianPoints=function(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]},e}(Vs),Us=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addValue=function(t,e){var n,r=e.categoryIx,o=e.category,i=e.series,s=e.seriesIx,a=this,l=a.children,c=a.options,u=t.valueFields,p=this.splitValue(u),h=Bt(p),f=i.data[r],d=this.categoryPoints[r];d||(this.categoryPoints[r]=d=[]),h&&(n=this.createPoint(t,e));var v=l[r];v||(v=new zs({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing,rtl:!c.invertAxes&&(this.chartService||{}).rtl}),this.append(v)),n&&(this.updateRange(u,e),v.append(n),n.categoryIx=r,n.category=o,n.series=i,n.seriesIx=s,n.owner=this,n.dataItem=f),this.points.push(n),d.push(n)},e.prototype.pointType=function(){return this.options.invertAxes?Hs:Vs},e.prototype.splitValue=function(t){return[t.lower,t.q1,t.median,t.q3,t.upper]},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=this.valueAxisRanges[n],o=this.splitValue(t).concat(this.filterOutliers(t.outliers));tr(t.mean)&&(o=o.concat(t.mean)),r=this.valueAxisRanges[n]=r||{min:pn,max:hn},r=this.valueAxisRanges[n]={min:Math.min.apply(Math,o.concat([r.min])),max:Math.max.apply(Math,o.concat([r.max]))}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,t.category)},e.prototype.filterOutliers=function(t){for(var e=(t||[]).length,n=[],r=0;r<e;r++){var o=t[r];tr(o)&&null!==o&&n.push(o)}return n},e}(Bs),Ks=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAxis=function(){var t=this.chart.seriesAxes(this.series),e=this.isVertical?t.y:t.x;return e},e}(fs),qs=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initFields=function(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]},e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.addErrorBar=function(t,e,n){var r=t.value[e],o=e+"Value",i=e+"ErrorLow",s=e+"ErrorHigh",a=n.seriesIx,c=n.series,u=t.options.errorBars,p=n[i],h=n[s];if(l(r)){var f;l(p)&&l(h)&&(f={low:p,high:h}),u&&tr(u[o])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[e][a]=this.seriesErrorRanges[e][a]||new Lo(u[o],c,e),f=this.seriesErrorRanges[e][a].getErrorRange(r,u[o])),f&&this.addPointErrorBar(f,t,e)}},e.prototype.addPointErrorBar=function(t,e,n){var r=t.low,o=t.high,i=e.series,s=e.options.errorBars,a=n===Tn,l={};e[n+"Low"]=r,e[n+"High"]=o,e.errorBars=e.errorBars||[];var c=new Ks(r,o,a,this,i,s);e.errorBars.push(c),e.append(c),l[n]=r,this.updateRange(l,i),l[n]=o,this.updateRange(l,i)},e.prototype.addValue=function(t,e){var n=t.x,r=t.y,o=e.seriesIx,i=this.options.series[o],s=this.seriesMissingValues(i),a=this.seriesPoints[o],l=t;Vt(n)&&Vt(r)||(l=this.createMissingValue(l,s));var c;l&&(c=this.createPoint(l,e),c&&(Object.assign(c,e),this.addErrorBar(c,Mn,e),this.addErrorBar(c,Tn,e)),this.updateRange(l,e.series)),this.points.push(c),a.push(c)},e.prototype.seriesMissingValues=function(t){return t.missingValues},e.prototype.createMissingValue=function(){},e.prototype.updateRange=function(t,e){var n=this.chartService.intl,r=e.xAxis,o=e.yAxis,i=t.x,s=t.y,a=this.xAxisRanges[r],l=this.yAxisRanges[o];Vt(i)&&(a=this.xAxisRanges[r]=a||{min:pn,max:hn},c(i)&&(i=rt(n,i)),a.min=Math.min(a.min,i),a.max=Math.max(a.max,i)),Vt(s)&&(l=this.yAxisRanges[o]=l||{min:pn,max:hn},c(s)&&(s=rt(n,s)),l.min=Math.min(l.min,s),l.max=Math.max(l.max,s))},e.prototype.evalPointOptions=function(t,e,n){var r=n.series,o=n.seriesIx,i={defaults:r._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},s=this._evalSeries[o];tr(s)||(this._evalSeries[o]=s=Dt(t,{},i,!0));var a=t;return s&&(a=f({},t),Dt(a,{value:e,series:r,dataItem:n.dataItem},i)),a},e.prototype.pointType=function(){return bs},e.prototype.pointOptions=function(t,e){var n=this.seriesOptions[e];if(!n){var r=this.pointType().prototype.defaults;this.seriesOptions[e]=n=f({},r,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return n},e.prototype.createPoint=function(t,e){var n=e.series,r=this.pointOptions(n,e.seriesIx),o=e.color||n.color;r=this.evalPointOptions(r,t,e),p(n.color)&&(o=r.color);var i=new bs(t,r);return i.color=o,this.append(i),i},e.prototype.seriesAxes=function(t){var e=t.xAxis,n=t.yAxis,r=this.plotArea,o=e?r.namedXAxes[e]:r.axisX,i=n?r.namedYAxes[n]:r.axisY;if(!o)throw new Error("Unable to locate X axis with name "+e);if(!i)throw new Error("Unable to locate Y axis with name "+n);return{x:o,y:i}},e.prototype.reflow=function(t){var e=this,n=this.points,r=!this.options.clip,o=0;this.traverseDataPoints(function(t,i){var s=n[o++],a=e.seriesAxes(i.series),l=a.x.getSlot(t.x,t.x,r),c=a.y.getSlot(t.y,t.y,r);if(s)if(l&&c){var u=e.pointSlot(l,c);s.reflow(u)}else s.visible=!1}),this.box=t},e.prototype.pointSlot=function(t,e){return new gr(t.x1,e.y1,t.x2,e.y2)},e.prototype.traverseDataPoints=function(t){for(var e=this,n=this,r=n.options.series,o=n.seriesPoints,i=0;i<r.length;i++){var s=r[i],a=o[i];a||(o[i]=[]);for(var l=0;l<s.data.length;l++){var c=e._bindPoint(s,i,l),u=c.valueFields,p=c.fields;t(u,f({pointIx:l,series:s,seriesIx:i,dataItem:s.data[l],owner:e},p))}}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.x,n.y)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++)e.push((t[n]||{}).marker);return e},e}(xr);M(qs,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),f(qs.prototype,Cs,{_bindPoint:ys.prototype._bindPoint});var Ws=function(t){function e(e,n){t.call(this,e,n),this.category=e.category}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createHighlight=function(){var t=this.options.highlight,e=t.border,n=this.options.markers,r=this.box.center(),o=(n.size+n.border.width+e.width)/2,i=new Ke.drawing.Group,s=new Ke.drawing.Circle(new Ke.geometry.Circle([r.x,r.y+o/5+e.width/2],o+e.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:n.background,stops:[{offset:0,color:n.background,opacity:.3},{offset:1,color:n.background,opacity:0}]})}),a=new Ke.drawing.Circle(new Ke.geometry.Circle([r.x,r.y],o),{stroke:{color:e.color||new Ke.Color(n.background).brightness(Ho).toHex(),width:e.width,opacity:e.opacity},fill:{color:n.background,opacity:t.opacity}});return i.append(s,a),i},e}(bs);Ws.prototype.defaults=f({},Ws.prototype.defaults,{labels:{position:Ye},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),Ws.prototype.defaults.highlight.zIndex=void 0;var Gs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initFields=function(){this._maxSize=hn,t.prototype._initFields.call(this)},e.prototype.addValue=function(e,n){null!==e.size&&(e.size>0||e.size<0&&n.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(e.size)),t.prototype.addValue.call(this,e,n)):(this.points.push(null),this.seriesPoints[n.seriesIx].push(null))},e.prototype.reflow=function(e){this.updateBubblesSize(e),t.prototype.reflow.call(this,e)},e.prototype.pointType=function(){return Ws},e.prototype.createPoint=function(t,e){var n=e.series,r=n.data.length,o=e.pointIx*(Bo/r),i={delay:o,duration:Bo-o,type:li},s=e.color||n.color;t.size<0&&n.negativeValues.visible&&(s=hr(n.negativeValues.color,s));var a=f({labels:{animation:{delay:o,duration:Bo-o}}},this.pointOptions(n,e.seriesIx),{markers:{type:Xe,border:n.border,opacity:n.opacity,animation:i}});a=this.evalPointOptions(a,t,e),p(n.color)&&(s=a.color),a.markers.background=s;var l=new Ws(t,a);return l.color=s,this.append(l),l},e.prototype.updateBubblesSize=function(t){for(var e=this,n=this,r=n.options.series,o=Math.min(t.width(),t.height()),i=0;i<r.length;i++)for(var s=r[i],a=e.seriesPoints[i],l=s.minSize||Math.max(.02*o,10),c=s.maxSize||.2*o,u=l/2,p=c/2,h=Math.PI*u*u,d=Math.PI*p*p,v=d-h,y=v/e._maxSize,g=0;g<a.length;g++){var m=a[g];if(m){var b=Math.abs(m.value.size)*y,w=Math.sqrt((h+b)/Math.PI),_=hr(m.options.zIndex,0),x=_+(1-w/p);f(m.options,{zIndex:x,markers:{size:2*w,zIndex:x},labels:{zIndex:x+1}})}}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.x,n.y,n.size,t.category)},e.prototype.createAnimation=function(){},e.prototype.createVisual=function(){},e}(qs);M(Gs,{tooltip:{format:"{3}"},labels:{format:"{3}"}});var $s=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Sr);f($s.prototype,gs);var Ys=function(t){function e(e,n){t.call(this,n),this.aboveAxis=this.options.aboveAxis,this.color=n.color||On,this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options;this._rendered||(this._rendered=!0,tr(this.value.target)&&(this.target=new $s({type:t.target.shape,background:t.target.color||this.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:xn,align:bn}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createNote())},e.prototype.reflow=function(t){this.render();var e=this,n=e.options,r=e.target,o=e.owner,i=n.invertAxes,s=o.seriesValueAxis(this.options),a=o.categorySlot(o.categoryAxis,n.categoryIx,s),l=s.getSlot(this.value.target),c=i?l:a,u=i?a:l;if(r){var p=new gr(c.x1,u.y1,c.x2,u.y2);r.options.height=i?p.height():n.target.line.width,r.options.width=i?n.target.line.width:p.width(),r.reflow(p)}this.note&&this.note.reflow(t),this.box=t},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.options,n=Ke.drawing.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&n.options.set("stroke",{color:e.border.color||this.color,width:e.border.width,dashType:e.border.dashType,opacity:hr(e.border.opacity,e.opacity)}),this.bodyVisual=n,s(n),this.visual.append(n)},e.prototype.createAnimation=function(){this.bodyVisual&&(this.animation=Ke.drawing.Animation.create(this.bodyVisual,this.options.animation))},e.prototype.createHighlight=function(t){return Ke.drawing.Path.fromRect(this.box.toRect(),t)},e.prototype.highlightVisual=function(){return this.bodyVisual},e.prototype.highlightVisualArgs=function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e}(xr);Ys.prototype.tooltipAnchor=Is.prototype.tooltipAnchor,M(Ys,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<br />Target: {1}"}}),f(Ys.prototype,gs),f(Ys.prototype,ms);var Xs=function(t){function e(e,n){Ht(n),t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowCategories=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++)e[r].reflow(t[r])},e.prototype.plotRange=function(t){var e=t.series,n=this.seriesValueAxis(e),r=this.categoryAxisCrossingValue(n);return[r,t.value.current||r]},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,s=this,a=s.options,l=s.children,c=t.valueFields,u=f({vertical:!a.invertAxes,overlay:o.overlay,categoryIx:n,invertAxes:a.invertAxes},o),h=t.fields.color||o.color;u=this.evalPointOptions(u,c,r,n,o,i),p(o.color)&&(h=u.color);var d=new Ys(c,u);d.color=h;var v=l[n];return v||(v=new zs({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(v)),v.append(d),d},e.prototype.updateRange=function(t,e){var n=t.current,r=t.target,o=e.series.axis,i=this.valueAxisRanges[o];tr(n)&&!isNaN(n)&&tr(r&&!isNaN(r))&&(i=this.valueAxisRanges[o]=i||{min:pn,max:hn},i.min=Math.min(i.min,n,r),i.max=Math.max(i.max,n,r))},e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value.current,t.value.target)},e.prototype.pointValue=function(t){return t.valueFields.current},e.prototype.aboveAxis=function(t){var e=t.value.current;return e>0},e.prototype.createAnimation=function(){var t=this,e=this.points;this._setAnimationOptions();for(var n=0;n<e.length;n++){var r=e[n];r.options.animation=t.options.animation,r.createAnimation()}},e}(ys);Xs.prototype._setAnimationOptions=Ls.prototype._setAnimationOptions,M(Xs,{animation:{type:si}});var Js=function(t){function e(e,n){t.call(this),this.chartService=e,this.options=f({},this.options,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStyle=function(t,e){var n=t.background,r=t.border.color;if(e){var o=e.color||e.options.color;n=hr(n,o),r=hr(r,o)}var i=m(t.padding||{},"auto");return{backgroundColor:n,borderColor:r,font:t.font,color:t.color,opacity:t.opacity,borderWidth:v(t.border.width),paddingTop:v(i.top),paddingBottom:v(i.bottom),paddingLeft:v(i.left),paddingRight:v(i.right)}},e.prototype.show=function(t,e,n){t.format=e.format;var r=this.getStyle(e,n);t.style=r,!tr(e.color)&&new Ke.Color(r.backgroundColor).percBrightness()>180&&(t.className="k-chart-tooltip-inverse"),this.chartService.notify(ns,t),this.visible=!0},e.prototype.hide=function(){this.chartService&&this.chartService.notify(rs),this.visible=!1},e.prototype.destroy=function(){delete this.chartService},e}(Ke.Class);M(Js,{border:{width:1},opacity:1});var Zs=function(t){function e(e,n,r){t.call(this,e,r),this.crosshair=n,this.formatService=e.format,this.initAxisName()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initAxisName=function(){var t,e=this.crosshair.axis,n=e.plotArea;t=n.categoryAxis?e.getCategory?"categoryAxis":"valueAxis":e.options.vertical?"yAxis":"xAxis",this.axisName=t},e.prototype.showAt=function(t){var e=this,n=e.crosshair.axis,r=e.options,o=n[r.stickyMode?"getCategory":"getValue"](t),i=o;r.format?i=this.formatService.auto(r.format,o):n.options.type===Qe&&(i=this.formatService.auto(n.options.labels.dateFormats[n.options.baseUnit],o)),this.show({point:t,anchor:this.getAnchor(),crosshair:this.crosshair,value:i,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)},e.prototype.hide=function(){this.chartService.notify(rs,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})},e.prototype.getAnchor=function(){var t,e,n,r=this,o=r.crosshair,i=r.options,s=i.position,a=i.padding,l=!o.axis.options.vertical,c=o.line.bbox();return l?(t=Ye,s===$e?(e=xn,n=c.bottomLeft().translate(0,a)):(e=$e,n=c.topLeft().translate(0,-a))):(e=Ye,s===un?(t=bn,n=c.topLeft().translate(-a,0)):(t=un,n=c.topRight().translate(a,0))),{point:n,align:{horizontal:t,vertical:e}}},e}(Js);M(Zs,{padding:10});var Qs=function(t){function e(e,n,r){t.call(this,r),this.axis=n,this.stickyMode=n instanceof oo;var o=this.options.tooltip;o.visible&&(this.tooltip=new Zs(e,this,f({},o,{stickyMode:this.stickyMode})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.showAt=function(t){this.point=t,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(t)},e.prototype.hide=function(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()},e.prototype.moveLine=function(){var t,e=this,n=e.axis,r=e.point,o=n.options.vertical,i=this.getBox(),s=o?Tn:Mn,a=new Ke.geometry.Point(i.x1,i.y1);if(t=o?new Ke.geometry.Point(i.x2,i.y1):new Ke.geometry.Point(i.x1,i.y2),r)if(this.stickyMode){var l=n.getSlot(n.pointCategoryIndex(r));a[s]=t[s]=l.center()[s]}else a[s]=t[s]=r[s];this.box=i,this.line.moveTo(a).lineTo(t)},e.prototype.getBox=function(){for(var t,e=this.axis,n=e.pane.axes,r=n.length,o=e.options.vertical,i=e.lineBox().clone(),s=o?Mn:Tn,a=0;a<r;a++){var l=n[a];l.options.vertical!==o&&(t?t.wrap(l.lineBox()):t=l.lineBox().clone())}return i[s+1]=t[s+1],i[s+2]=t[s+2],i},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.options;this.line=new Ke.drawing.Path({stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),t.prototype.destroy.call(this)},e}(xr);M(Qs,{color:Ge,width:2,zIndex:-1,tooltip:{visible:!1}});var ta=function(t){function e(e,n){t.call(this,e),this.pane=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.shouldClip=function(){for(var t=this.children,e=t.length,n=0;n<e;n++)if(t[n].options.clip===!0)return!0;return!1},e.prototype._clipBox=function(){return this.pane.chartsBox()},e.prototype.createVisual=function(){if(this.visual=new Ke.drawing.Group({zIndex:0}),this.shouldClip()){var t=this.clipBox=this._clipBox(),e=t.toRect(),n=Ke.drawing.Path.fromRect(e);s(n),this.visual.clip(n),this.unclipLabels()}},e.prototype.stackRoot=function(){return this},e.prototype.unclipLabels=function(){for(var t=this,e=t.children,n=t.clipBox,r=0;r<e.length;r++)for(var o=e[r].points||{},i=o.length,s=0;s<i;s++){var a=o[s];if(a&&a.visible!==!1&&a.overlapsBox&&a.overlapsBox(n))if(a.unclipElements)a.unclipElements();else{var l=a.label,c=a.note;l&&l.options.visible&&(l.alignToClipBox&&l.alignToClipBox(n),l.options.noclip=!0),c&&c.options.visible&&(c.options.noclip=!0)}}},e.prototype.destroy=function(){t.prototype.destroy.call(this),delete this.parent},e}(xr);ta.prototype.isStackRoot=!0;var ea=function(t){function e(e){t.call(this,e),this.id=Ut(),this.createTitle(),this.content=new xr,this.chartContainer=new ta({},this),this.append(this.content),this.axes=[],this.charts=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createTitle=function(){var t=this.options.title;d(t)&&(t=f({},t,{align:t.position,position:xn})),this.title=Rr.buildTitle(t,this,e.prototype.options.title)},e.prototype.appendAxis=function(t){this.content.append(t),this.axes.push(t),t.pane=this},e.prototype.appendAxisAt=function(t,e){this.content.append(t),this.axes.splice(e,0,t),t.pane=this},e.prototype.appendChart=function(t){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(t),this.chartContainer.append(t),t.pane=this},e.prototype.empty=function(){var t=this,e=this.parent;if(e){for(var n=0;n<this.axes.length;n++)e.removeAxis(t.axes[n]);for(var r=0;r<this.charts.length;r++)e.removeChart(t.charts[r])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]},e.prototype.reflow=function(e){var n;sr(this.children)===this.content&&(n=this.children.pop()),t.prototype.reflow.call(this,e),n&&this.children.push(n),this.title&&(this.contentBox.y1+=this.title.box.height())},e.prototype.visualStyle=function(){var e=t.prototype.visualStyle.call(this);return e.zIndex=-10,e},e.prototype.renderComplete=function(){this.options.visible&&this.createGridLines()},e.prototype.stackRoot=function(){return this},e.prototype.clipRoot=function(){return this},e.prototype.createGridLines=function(){for(var t=this.axes,e=t.concat(this.parent.axes),n=[],r=[],o=0;o<t.length;o++)for(var i=t[o],s=i.options.vertical,a=s?n:r,l=0;l<e.length;l++)if(0===a.length){var c=e[l];s!==c.options.vertical&&Zn(a,i.createGridLines(c))}},e.prototype.refresh=function(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()},e.prototype.chartsBox=function t(){for(var e=this.axes,n=e.length,t=new gr,r=0;r<n;r++){var o=e[r],i=o.options.vertical?Tn:Mn,s=o.lineBox();t[i+1]=s[i+1],t[i+2]=s[i+2]}if(0===t.x2)for(var a=this.parent.axes,l=a.length,c=0;c<l;c++){var u=a[c];if(!u.options.vertical){var p=u.lineBox();t.x1=p.x1,t.x2=p.x2}}return t},e.prototype.clipBox=function(){return this.chartContainer.clipBox},e.prototype.notifyRender=function(){var t=this.getService();t&&t.notify(os,{pane:new Po(this),index:this.paneIndex,name:this.options.name})},e}(kr),na=1;ea.prototype.isStackRoot=!0,M(ea,{zIndex:-1,shrinkToFit:!0,title:{align:un},visible:!0});var ra=/area/i,oa=function(t){function e(e,n,r){t.call(this,n),this.initFields(e,n),this.series=e,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.items=[],this.axes=[],this.crosshairs=[],this.chartService=r,this.originalOptions=n,this.createPanes(),this.render(),this.createCrosshairs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){},e.prototype.initSeries=function(){for(var t=this.series,e=0;e<t.length;e++)t[e].index=e},e.prototype.createPanes=function(){function t(t,e){c(t.title)&&(t.title={text:t.title}),t.title=f({},e.title,t.title);
}for(var e=this,n={title:{color:(this.options.title||{}).color}},r=[],o=this.options.panes||[],i=Math.max(o.length,1),s=0;s<i;s++){var a=o[s]||{};t(a,n);var l=new ea(a);l.paneIndex=s,r.push(l),e.append(l)}this.panes=r},e.prototype.createCrosshairs=function(t){var e=this;void 0===t&&(t=this.panes);for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.axes.length;o++){var i=r.axes[o];if(i.options.crosshair&&i.options.crosshair.visible){var s=new Qs(e.chartService,i,i.options.crosshair);e.crosshairs.push(s),r.content.append(s)}}},e.prototype.removeCrosshairs=function(t){for(var e=this.crosshairs,n=t.axes,r=e.length-1;r>=0;r--)for(var o=0;o<n.length;o++)if(e[r].axis===n[o]){e.splice(r,1);break}},e.prototype.hideCrosshairs=function(){for(var t=this.crosshairs,e=0;e<t.length;e++)t[e].hide()},e.prototype.findPane=function(t){for(var e,n=this.panes,r=0;r<n.length;r++)if(n[r].options.name===t){e=n[r];break}return e||n[0]},e.prototype.findPointPane=function(t){for(var e,n=this.panes,r=0;r<n.length;r++)if(n[r].box.containsPoint(t)){e=n[r];break}return e},e.prototype.appendAxis=function(t){var e=this.findPane(t.options.pane);e.appendAxis(t),this.axes.push(t),t.plotArea=this},e.prototype.removeAxis=function(t){for(var e=this,n=[],r=0;r<this.axes.length;r++){var o=e.axes[r];t!==o?n.push(o):o.destroy()}this.axes=n},e.prototype.appendChart=function(t,e){this.charts.push(t),e?e.appendChart(t):this.append(t)},e.prototype.removeChart=function(t){for(var e=this,n=[],r=0;r<this.charts.length;r++){var o=e.charts[r];o!==t?n.push(o):o.destroy()}this.charts=n},e.prototype.addToLegend=function(t){for(var e=t.length,n=this.options.legend,r=n.labels||{},o=n.inactiveItems||{},i=o.labels||{},s=[],a=0;a<e;a++){var l=t[a],c=l.visible!==!1;if(l.visibleInLegend!==!1){var u=l.name,h=c?b(r):b(i)||b(r);h&&(u=h({text:Vt(u)?u:"",series:l}));var f=l._defaults,d=l.color;p(d)&&f&&(d=f.color);var v=void 0,y=void 0;c?(v={},y=d):(v={color:i.color,font:i.font},y=o.markers.color),Vt(u)&&""!==u&&s.push({text:u,labels:v,markerColor:y,series:l,active:c})}}Zn(n.items,s)},e.prototype.groupAxes=function(t){for(var e=[],n=[],r=0;r<t.length;r++)for(var o=t[r].axes,i=0;i<o.length;i++){var s=o[i];s.options.vertical?n.push(s):e.push(s)}return{x:e,y:n,any:e.concat(n)}},e.prototype.groupSeriesByPane=function(){for(var t=this,e=this.series,n={},r=0;r<e.length;r++){var o=e[r],i=t.seriesPaneName(o);n[i]?n[i].push(o):n[i]=[o]}return n},e.prototype.filterVisibleSeries=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r.visible!==!1&&e.push(r)}return e},e.prototype.reflow=function(t){var e=this.options.plotArea,n=this.panes,r=m(e.margin);this.box=t.clone().unpad(r),this.reflowPanes(),this.detachLabels(),this.reflowAxes(n),this.reflowCharts(n)},e.prototype.redraw=function(t){var e=this,n=[].concat(t);this.initSeries();var r=this.getRoot();r&&r.cleanGradients();for(var o=0;o<n.length;o++)e.removeCrosshairs(n[o]),n[o].empty();this.render(n),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(n),this.createCrosshairs(n);for(var i=0;i<n.length;i++)n[i].refresh()},e.prototype.axisCrossingValues=function(t,e){for(var n=t.options,r=[].concat(n.axisCrossingValues||n.axisCrossingValue),o=e.length-r.length,i=r[0]||0,s=0;s<o;s++)r.push(i);return r},e.prototype.alignAxisTo=function(t,e,n,r){var o=t.getSlot(n,n,!0),i=t.options.reverse?2:1,s=e.getSlot(r,r,!0),a=e.options.reverse?2:1,l=t.box.translate(s[Mn+a]-o[Mn+i],s[Tn+a]-o[Tn+i]);t.pane!==e.pane&&l.translate(0,t.pane.box.y1-e.pane.box.y1),t.reflow(l)},e.prototype.alignAxes=function(t,e){for(var n=this,r=t[0],o=e[0],i=this.axisCrossingValues(r,e),s=this.axisCrossingValues(o,t),a={},l={},c={},u={},p=0;p<e.length;p++){var h=e[p],f=h.pane,d=f.id,v=h.options.visible!==!1,y=oe(t,f)||r,g=i;y!==r&&(g=n.axisCrossingValues(y,e)),n.alignAxisTo(h,y,s[p],g[p]),h.options._overlap||(ur(h.lineBox().x1)===ur(y.lineBox().x1)&&(a[d]&&h.reflow(h.box.alignTo(a[d].box,un).translate(-h.options.margin,0)),v&&(a[d]=h)),ur(h.lineBox().x2)===ur(y.lineBox().x2)&&(h._mirrored||(h.options.labels.mirror=!h.options.labels.mirror,h._mirrored=!0),n.alignAxisTo(h,y,s[p],g[p]),l[d]&&h.reflow(h.box.alignTo(l[d].box,bn).translate(h.options.margin,0)),v&&(l[d]=h)),0!==p&&o.pane===h.pane&&(h.alignTo(o),h.reflow(h.box)))}for(var m=0;m<t.length;m++){var b=t[m],w=b.pane,_=w.id,x=b.options.visible!==!1,k=oe(e,w)||o,S=s;k!==o&&(S=n.axisCrossingValues(k,t)),n.alignAxisTo(b,k,i[m],S[m]),b.options._overlap||(ur(b.lineBox().y1)===ur(k.lineBox().y1)&&(b._mirrored||(b.options.labels.mirror=!b.options.labels.mirror,b._mirrored=!0),n.alignAxisTo(b,k,i[m],S[m]),c[_]&&b.reflow(b.box.alignTo(c[_].box,xn).translate(0,-b.options.margin)),x&&(c[_]=b)),ur(b.lineBox().y2,Je)===ur(k.lineBox().y2,Je)&&(u[_]&&b.reflow(b.box.alignTo(u[_].box,$e).translate(0,b.options.margin)),x&&(u[_]=b)),0!==m&&(b.alignTo(r),b.reflow(b.box)))}},e.prototype.shrinkAxisWidth=function(t){for(var e=this.groupAxes(t).any,n=re(e),r=0,o=0;o<t.length;o++){var i=t[o];i.axes.length>0&&(r=Math.max(r,n.width()-i.contentBox.width()))}if(0!==r)for(var s=0;s<e.length;s++){var a=e[s];a.options.vertical||a.reflow(a.box.shrink(r,0))}},e.prototype.shrinkAxisHeight=function(t){for(var e,n=0;n<t.length;n++){var r=t[n],o=r.axes,i=Math.max(0,re(o).height()-r.contentBox.height());if(0!==i){for(var s=0;s<o.length;s++){var a=o[s];a.options.vertical&&a.reflow(a.box.shrink(0,i))}e=!0}}return e},e.prototype.fitAxes=function(t){for(var e=this.groupAxes(t).any,n=0,r=0;r<t.length;r++){var o=t[r],i=o.axes,s=o.contentBox;if(i.length>0){var a=re(i),l=Math.max(s.y1-a.y1,s.y2-a.y2);n=Math.max(n,s.x1-a.x1);for(var c=0;c<i.length;c++){var u=i[c];u.reflow(u.box.translate(0,l))}}}for(var p=0;p<e.length;p++){var h=e[p];h.reflow(h.box.translate(n,0))}},e.prototype.reflowAxes=function(t){for(var e=this,n=this.groupAxes(t),r=0;r<t.length;r++)e.reflowPaneAxes(t[r]);n.x.length>0&&n.y.length>0&&(this.alignAxes(n.x,n.y),this.shrinkAxisWidth(t),this.autoRotateAxisLabels(n),this.alignAxes(n.x,n.y),this.shrinkAxisWidth(t)&&this.alignAxes(n.x,n.y),this.shrinkAxisHeight(t),this.alignAxes(n.x,n.y),this.shrinkAxisHeight(t)&&this.alignAxes(n.x,n.y),this.fitAxes(t))},e.prototype.autoRotateAxisLabels=function(t){for(var e,n=this,r=this,o=r.panes,i=ia(o),s=0;s<i.length;s++){var a=i[s];a.autoRotateLabels()&&(e=!0)}if(e){for(var l=0;l<o.length;l++)n.reflowPaneAxes(o[l]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(o))}},e.prototype.reflowPaneAxes=function(t){var e=t.axes,n=e.length;if(n>0)for(var r=0;r<n;r++)e[r].reflow(t.contentBox)},e.prototype.reflowCharts=function(t){for(var e=this.charts,n=e.length,r=this.box,o=0;o<n;o++){var i=e[o].pane;i&&!k(i,t)||e[o].reflow(r)}},e.prototype.reflowPanes=function(){for(var t=this,e=t.box,n=t.panes,r=n.length,o=e.height(),i=r,s=0,a=e.y1,l=0;l<r;l++){var c=n[l],u=c.options.height;if(c.options.width=e.width(),c.options.height){if(u.indexOf&&u.indexOf("%")){var p=parseInt(u,10)/100;c.options.height=p*e.height()}c.reflow(e.clone()),o-=c.options.height}else s++}for(var h=0;h<r;h++){var f=n[h];f.options.height||(f.options.height=o/s)}for(var d=0;d<r;d++){var v=n[d],y=e.clone().move(e.x1,a);v.reflow(y),i--,a+=v.options.height}},e.prototype.backgroundBox=function(){for(var t,e=this.axes,n=e.length,r=0;r<n;r++)for(var o=e[r],i=0;i<n;i++){var s=e[i];if(o.options.vertical!==s.options.vertical){var a=o.lineBox().clone().wrap(s.lineBox());t=t?t.wrap(a):a}}return t||this.box},e.prototype.chartsBoxes=function(){for(var t=this.panes,e=[],n=0;n<t.length;n++)e.push(t[n].chartsBox());return e},e.prototype.addBackgroundPaths=function(t){for(var e=this.chartsBoxes(),n=0;n<e.length;n++)t.paths.push(Ke.drawing.Path.fromRect(e[n].toRect()))},e.prototype.backgroundContainsPoint=function(t){for(var e=this.chartsBoxes(),n=0;n<e.length;n++)if(e[n].containsPoint(t))return!0},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.options.plotArea,n=e.opacity,r=e.background,o=e.border;void 0===o&&(o={}),ie(r)&&(r=On,n=0);var i=this._bgVisual=new Ke.drawing.MultiPath({fill:{color:r,opacity:n},stroke:{color:o.width?o.color:"",width:o.width,dashType:o.dashType},zIndex:-1});this.addBackgroundPaths(i),this.appendVisual(i)},e.prototype.pointsByCategoryIndex=function(t){var e=this.charts,n=[];if(null!==t)for(var r=0;r<e.length;r++){var o=e[r];if("_navigator"!==o.pane.options.name){var i=e[r].categoryPoints[t];if(i&&i.length)for(var s=0;s<i.length;s++){var a=i[s];a&&tr(a.value)&&null!==a.value&&n.push(a)}}}return n},e.prototype.pointsBySeriesIndex=function(t){return this.filterPoints(function(e){return e.series.index===t})},e.prototype.pointsBySeriesName=function(t){return this.filterPoints(function(e){return e.series.name===t})},e.prototype.filterPoints=function(t){for(var e=this.charts,n=[],r=0;r<e.length;r++)for(var o=e[r],i=o.points,s=0;s<i.length;s++){var a=i[s];a&&a.visible!==!1&&t(a)&&n.push(a)}return n},e.prototype.findPoint=function(t){for(var e=this.charts,n=0;n<e.length;n++)for(var r=e[n],o=r.points,i=0;i<o.length;i++){var s=o[i];if(s&&s.visible!==!1&&t(s))return s}},e.prototype.paneByPoint=function(t){for(var e=this.panes,n=0;n<e.length;n++){var r=e[n];if(r.box.containsPoint(t))return r}},e.prototype.detachLabels=function(){var t=this.groupAxes(this.panes),e=t.x,n=t.y;this.detachAxisGroupLabels(n,e),this.detachAxisGroupLabels(e,n)},e.prototype.detachAxisGroupLabels=function(t,e){for(var n=this,r=0,o=0;o<t.length;o++){var i=t[o],s=i.pane,a=oe(e,s)||e[0],l=o+r,c=n.createLabelAxis(i,l,a);if(c){r++;var u=s.axes.indexOf(i)+r;s.appendAxisAt(c,u)}}},e.prototype.createLabelAxis=function(t,e,n){var r=t.options.labels,o=r.position,i=o!==on&&o!==wn,s=r.visible;if(i||s===!1)return null;var a=this.groupAxes(this.panes),l=n.options.vertical?a.x:a.y,c=this.axisCrossingValues(n,l),u=o===on,p=n.range(),h=u?p.max:p.min,f=ar(c[e],p.min,p.max);if(f-h===0)return null;c.splice(e+1,0,h),n.options.axisCrossingValues=c;var d=t.clone();return t.clear(),d.options.name=void 0,d.options.line.visible=!1,d.options.crosshair=void 0,d.options.notes=void 0,d.options.plotBands=void 0,d},e}(xr),ia=function(t){return t.reduce(function(t,e){return t.concat(e.axes)},[])};M(oa,{series:[],plotArea:{margin:{}},background:"",border:{color:Ge,width:0},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});var sa={hover:function(t,e){this._dispatchEvent(t,e,Ki)},click:function(t,e){this._dispatchEvent(t,e,Ui)}},aa=function(t){function e(e,n,r){t.call(this);var o=n.canonicalFields(e),i=n.valueFields(e),s=n.sourceFields(e,o),a=this._seriesFields=[],l=r.query(e.type),c=e.aggregate||l;this._series=e,this._binder=n;for(var u=0;u<o.length;u++){var h=o[u],f=void 0;if(d(c))f=c[h];else{if(0!==u&&!k(h,i))break;f=c}f&&a.push({canonicalName:h,name:s[u],transform:p(f)?f:jo[f]})}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.aggregatePoints=function(t,e){var n=this,o=this,i=o._series,s=o._seriesFields,a=this._bindPoints(t||[]),c=a.dataItems[0],u={};if(c&&!l(c)&&!r(c)){var p=function(){};p.prototype=c,u=new p}for(var h=0;h<s.length;h++){var f=s[h],v=n._bindField(a.values,f.canonicalName),y=f.transform(v,i,a.dataItems,e);if(!(null===y||!d(y)||tr(y.length)||y instanceof Date)){u=y;break}tr(y)&&se(f.name,u,y)}return u},e.prototype._bindPoints=function(t){for(var e=this,n=e._binder,r=e._series,o=[],i=[],s=0;s<t.length;s++){var a=t[s];o.push(n.bindPoint(r,a)),i.push(r.data[a])}return{values:o,dataItems:i}},e.prototype._bindField=function(t,e){for(var n=[],r=t.length,o=0;o<r;o++){var i=t[o],s=i.valueFields,a=void 0;a=tr(s[e])?s[e]:i.fields[e],n.push(a)}return n},e}(Ke.Class),la=function(t){function e(){t.call(this),this._defaults={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e){for(var n=this,r=0;r<t.length;r++)n._defaults[t[r]]=e},e.prototype.query=function(t){return this._defaults[t]},e}(Ke.Class);la.current=new la;var ca=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLabel=function(){var t=this.options.labels,e=f({},t,t.from),n=f({},t,t.to);e.visible&&(this.labelFrom=this._createLabel(e),this.append(this.labelFrom)),n.visible&&(this.labelTo=this._createLabel(n),this.append(this.labelTo))},e.prototype._createLabel=function(t){var e,n=b(t),r=this.pointData();return e=n?n(r):this.formatValue(t.format),new Ds(e,f({vertical:this.options.vertical},t),r)},e.prototype.reflow=function(t){this.render();var e=this,n=e.labelFrom,r=e.labelTo,o=e.value;this.box=t,n&&(n.options.aboveAxis=o.from>o.to,n.reflow(t)),r&&(r.options.aboveAxis=o.to>o.from,r.reflow(t)),this.note&&this.note.reflow(t)},e}(Is);ca.prototype.defaults=f({},ca.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});var ua=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return ca},e.prototype.pointValue=function(t){return t.valueFields},e.prototype.formatPointValue=function(t,e){return null===t.value.from&&null===t.value.to?"":this.chartService.format.auto(e,t.value.from,t.value.to)},e.prototype.plotRange=function(t){return t?[t.value.from,t.value.to]:0},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=t.from,o=t.to,i=this.valueAxisRanges[n];null!==t&&l(r)&&l(o)&&(i=this.valueAxisRanges[n]=i||{min:pn,max:hn},i.min=Math.min(i.min,r),i.max=Math.max(i.max,r),i.min=Math.min(i.min,o),i.max=Math.max(i.max,o))},e.prototype.aboveAxis=function(t){var e=t.value;return e.from<e.to},e}(Ls);ua.prototype.plotLimits=ys.prototype.plotLimits;var pa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.aliasFor=function(){return this.parent},e}(bs),ha="auto",fa="{0}",da="{1}",va=function(t){function e(e,n){t.call(this),this.value=e,this.options=n,this.aboveAxis=hr(this.options.aboveAxis,!0),this.tooltipTracking=!0,this.initLabelsFormat()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){if(!this._rendered){this._rendered=!0;var t=this.options,e=t.markers,n=t.labels,r=this.value,o=this.fromPoint=new pa(r,f({},this.options,{labels:n.from,markers:e.from})),i=this.toPoint=new pa(r,f({},this.options,{labels:n.to,markers:e.to}));this.copyFields(o),this.copyFields(i),this.append(o),this.append(i)}},e.prototype.reflow=function(t){this.render();var e=t.from,n=t.to;this.positionLabels(e,n),this.fromPoint.reflow(e),this.toPoint.reflow(n),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())},e.prototype.createHighlight=function(){var t=new Ke.drawing.Group;return t.append(this.fromPoint.createHighlight()),t.append(this.toPoint.createHighlight()),t},e.prototype.highlightVisual=function(){return this.visual},e.prototype.highlightVisualArgs=function(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}},e.prototype.tooltipAnchor=function(){var t=this.owner.pane.clipBox(),e=!t||t.overlaps(this.box);if(e){var n,r,o,i=this.box,s=i.center(),a=un;return this.options.vertical?(n=s.x,r=i.y1-Uo,o=$e):(n=i.x2+Uo,r=s.y,o=Ye),{point:new yr(n,r),align:{horizontal:a,vertical:o}}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e.prototype.unclipElements=function(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()},e.prototype.initLabelsFormat=function(){var t=this.options.labels;t.format||(t.from&&t.from.format||(t.from=Object.assign({},t.from,{format:fa})),t.to&&t.to.format||(t.to=Object.assign({},t.to,{format:da})))},e.prototype.positionLabels=function(t,e){var n=this.options,r=n.labels,o=n.vertical;if(r.position===ha){var i,s;o?e.y1<=t.y1?(s=ei,i=ni):(s=ni,i=ei):e.x1<=t.x1?(s=un,i=bn):(s=bn,i=un),r.from&&r.from.position||(this.fromPoint.options.labels.position=i),r.to&&r.to.position||(this.toPoint.options.labels.position=s)}},e.prototype.copyFields=function(t){t.dataItem=this.dataItem,t.category=this.category,t.series=this.series,t.color=this.color,t.owner=this.owner},e}(xr);f(va.prototype,gs),f(va.prototype,ms),va.prototype.defaults={markers:{visible:!1,background:On,size:Jo,type:Xe,border:{width:2},opacity:1},labels:{visible:!1,margin:m(3),padding:m(4),animation:{type:Vo,delay:Bo},position:ha},notes:{label:{}},highlight:{markers:{border:{color:On,width:2}},zIndex:ln},tooltip:{format:"{0} - {1}"}};var ya=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),t},e.prototype.createStroke=function(t){var e=new Ke.drawing.Path(t),n=new Ke.drawing.Path(t);e.segments.push.apply(e.segments,this.strokeSegments()),n.segments.push.apply(n.segments,this.stackSegments()),this.visual.append(e),this.visual.append(n)},e.prototype.hasStackSegment=function(){return!0},e.prototype.fromPoints=function(){return this.linePoints.map(function(t){return t.fromPoint})},e.prototype.toPoints=function(){return this.linePoints.map(function(t){return t.toPoint})},e}(Ts),ga=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.createCurveSegments(this.toPoints())},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),t},e.prototype.createCurveSegments=function(t){var e=new To;return e.process(this.toGeometryPoints(t))},e}(ya),ma=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints())),t.reverse()),t},e}(ya);f(ma.prototype,_s);var ba=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.renderSegments()},e.prototype.pointType=function(){return va},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,s=t.valueFields;if(!Vt(s.from)&&!Vt(s.to)){if(this.seriesMissingValues(o)!==Zo)return null;s={from:0,to:0}}var a=this.pointOptions(o,i);a=this.evalPointOptions(a,s,r,n,o,i);var l=t.fields.color||o.color;p(o.color)&&(l=a.color);var c=new va(s,a);return c.color=l,this.append(c),c},e.prototype.createSegment=function(t,e,n){var r,o=(e.line||{}).style;return new(r="smooth"===o?ga:"step"===o?ma:ya)(t,e,n)},e.prototype.plotRange=function(t,e){return t?[t.value.from,t.value.to]:[e,e]},e.prototype.valueSlot=function(t,e){var n=t.getSlot(e[0],e[0],!this.options.clip),r=t.getSlot(e[1],e[1],!this.options.clip);if(n&&r)return{from:n,to:r}},e.prototype.pointSlot=function(t,e){var n,r,o=e.from,i=e.to;return this.options.invertAxes?(n=new gr(o.x1,t.y1,o.x2,t.y2),r=new gr(i.x1,t.y1,i.x2,t.y2)):(n=new gr(t.x1,o.y1,t.x2,o.y2),r=new gr(t.x1,i.y1,t.x2,i.y2)),{from:n,to:r}},e.prototype.addValue=function(e,n){var r=e.valueFields;l(r.from)||(r.from=r.to),l(r.to)||(r.to=r.from),t.prototype.addValue.call(this,e,n)},e.prototype.updateRange=function(t,e){if(null!==t&&l(t.from)&&l(t.to)){var n=e.series.axis,r=this.valueAxisRanges[n]=this.valueAxisRanges[n]||{min:pn,max:hn},o=t.from,i=t.to;r.min=Math.min(r.min,o,i),r.max=Math.max(r.max,o,i)}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.from,n.to)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++){var r=t[n];r&&(e.push((r.fromPoint||{}).marker),e.push((r.toPoint||{}).marker))}return e.concat(this._segments)},e}(ys);f(ba.prototype,Ss,Cs);var wa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this,n=e.options,r=e.value,o=e.owner,i=o.seriesValueAxis(n),s=[],a=[],l=[],c=i.getSlot(r.low,r.high),u=i.getSlot(r.open,r.open),p=i.getSlot(r.close,r.close);u.x1=p.x1=c.x1=t.x1,u.x2=p.x2=c.x2=t.x2;var h=c.center().x;s.push([u.x1,u.y1]),s.push([h,u.y1]),a.push([h,p.y1]),a.push([p.x2,p.y1]),l.push([h,c.y1]),l.push([h,c.y2]),this.lines=[s,a,l],this.box=c.clone().wrap(u.clone().wrap(p)),this.reflowNote()},e.prototype.createBody=function(){},e}(Ns),_a=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return wa},e}(Bs),xa=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.series=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linePoints=function(){var t=this.from,e=this,n=e.from.box,r=e.to.box,o=[];if(t.isVertical){var i=t.aboveAxis?n.y1:n.y2;o.push([n.x1,i],[r.x2,i])}else{var s=t.aboveAxis?n.x2:n.x1;o.push([s,n.y1],[s,r.y2])}return o},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.series.line||{},n=Ke.drawing.Path.fromPoints(this.linePoints(),{stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}});s(n),this.visual.append(n)},e}(xr);M(xa,{animation:{type:Vo,delay:Bo}});var ka=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.createSegments()},e.prototype.traverseDataPoints=function(t){for(var e=this,n=this.options.series,r=Rt(n),o=!this.options.invertAxes,i=0;i<n.length;i++)for(var s=n[i],a=0,c=0,u=0;u<r;u++){var p=Do.current.bindPoint(s,u),h=p.valueFields.value,f=p.fields.summary,d=a,v=void 0;f?"total"===f.toLowerCase()?(p.valueFields.value=a,d=0,v=a):(p.valueFields.value=c,v=d-c,c=0):l(h)&&(c+=h,a+=h,v=a),t(p,{category:e.categoryAxis.categoryAt(u),categoryIx:u,series:s,seriesIx:i,total:a,runningTotal:c,from:d,to:v,isVertical:o})}},e.prototype.updateRange=function(e,n){t.prototype.updateRange.call(this,{value:n.to},n)},e.prototype.aboveAxis=function(t){return t.value>=0},e.prototype.plotRange=function(t){return[t.from,t.to]},e.prototype.createSegments=function(){for(var t=this,e=this.options.series,n=this.seriesPoints,r=this.segments=[],o=0;o<e.length;o++){var i=e[o],s=n[o];if(s)for(var a=void 0,l=0;l<s.length;l++){var c=s[l];if(c&&a){var u=new xa(a,c,i);r.push(u),t.append(u)}a=c}}},e}(Ls),Sa=[ii,Ei,Si,Di],Oa=[vi,ji].concat(Sa),Ca=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(t){var e=this;if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new js,t.length>0){this.invertAxes=k(t[0].type,[si,ci,ji,Ei,Di,Oi,di,Pi]);for(var n=0;n<t.length;n++){var r=t[n].stack;if(r&&"100%"===r.type){e.stack100=!0;break}}}},e.prototype.render=function(t){void 0===t&&(t=this.panes),this.createCategoryAxes(t),this.aggregateCategories(t),this.createCategoryAxesLabels(t),this.createCharts(t),this.createValueAxes(t)},e.prototype.removeAxis=function(e){var n=e.options.name;t.prototype.removeAxis.call(this,e),e instanceof oo?delete this.namedCategoryAxes[n]:(this.valueAxisRangeTracker.reset(n),delete this.namedValueAxes[n]),e===this.categoryAxis&&delete this.categoryAxis,e===this.valueAxis&&delete this.valueAxis},e.prototype.createCharts=function(t){for(var e=this,n=this.groupSeriesByPane(),r=0;r<t.length;r++){var o=t[r],i=n[o.options.name||"default"]||[];e.addToLegend(i);var s=e.filterVisibleSeries(i);if(s)for(var a=e.groupSeriesByCategoryAxis(s),l=0;l<a.length;l++)e.createChartGroup(a[l],o)}},e.prototype.createChartGroup=function(t,e){this.createAreaChart($t(t,[ii,Ei]),e),this.createRangeAreaChart($t(t,[Si,Di]),e),this.createBarChart($t(t,[pi,si]),e),this.createRangeBarChart($t(t,[Ci,Oi]),e),this.createBulletChart($t(t,[ci,Ai]),e),this.createCandlestickChart($t(t,ui),e),this.createBoxPlotChart($t(t,[ai,Pi]),e),this.createOHLCChart($t(t,yi),e),this.createWaterfallChart($t(t,[Ri,di]),e),this.createLineChart($t(t,[vi,ji]),e)},e.prototype.aggregateCategories=function(t){var e=this,n=this.srcSeries||this.series,r=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(var o=0;o<n.length;o++){var i=n[o],s=e.seriesCategoryAxis(i),a=e.findPane(s.options.pane),l=Gt(s.options.type,Qe);i=(l||i.categoryField)&&k(a,t)?e.aggregateSeries(i,s):e.filterSeries(i,s),r.push(i)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=n,this.series=r},e.prototype.filterSeries=function(t,e){var n=(t.data||{}).length;if(e._seriesMax=Math.max(e._seriesMax||0,n),!l(e.options.min)&&!l(e.options.max))return t;var r=e.currentRangeIndices(),o=k(t.type,Oa),i=f({},t);return i.data=(i.data||[]).slice(r.min,r.max+1),o&&ee(i,r,n,function(n){return{item:t.data[n],category:e.categoryAt(n,!0),categoryIx:n-r.min}},function(e){return tr(t.data[e])}),i},e.prototype.clearSeriesPointsCache=function(){this._seriesPointsCache={}},e.prototype.seriesSourcePoints=function(t,e){var n=this,r=t.index+";"+e.categoriesHash();if(this._seriesPointsCache[r])return this._currentPointsCache[r]=this._seriesPointsCache[r],this._seriesPointsCache[r];var o=e.options,i=o.srcCategories,s=Gt(o.type,Qe),a=t.data,l=s?Yt:jt,c=[];s||e.mapCategories();for(var u=0;u<a.length;u++){var p=void 0;if(p=t.categoryField?l(t.categoryField,a[u],n.chartService.intl):i[u],tr(p)&&null!==p){var h=e.totalIndex(p);c[h]=c[h]||{items:[],category:p},c[h].items.push(u)}}return this._currentPointsCache[r]=c,c},e.prototype.aggregateSeries=function(t,e){var n=t.data;if(!n.length)return t;for(var r=this.seriesSourcePoints(t,e),o=f({},t),i=new aa(f({},t),Do.current,la.current),s=o.data=[],a=e.options.dataItems||[],l=e.currentRangeIndices(),c=function(t){var n=t-l.min,o=r[t];if(o||(o=r[t]={}),o.categoryIx=n,!o.item){var s=e.categoryAt(t,!0);o.category=s,o.item=i.aggregatePoints(o.items,s)}return o},u=l.min;u<=l.max;u++){var p=c(u);s[p.categoryIx]=p.item,p.items&&p.items.length&&(a[p.categoryIx]=p.item)}return k(o.type,Oa)&&ee(o,l,e.totalCount(),c,function(t){return r[t]}),e.options.dataItems=a,o},e.prototype.appendChart=function(e,n){var r=e.options.series,o=this.seriesCategoryAxis(r[0]),i=o.options.categories,s=Math.max(0,Rt(r)-i.length);if(s>0)for(i=o.options.categories=o.options.categories.slice(0);s--;)i.push("");this.valueAxisRangeTracker.update(e.valueAxisRanges),t.prototype.appendChart.call(this,e,n)},e.prototype.seriesPaneName=function(t){var e=this.options,n=t.axis,r=[].concat(e.valueAxis),o=_(r,function(t){return t.name===n})[0],i=e.panes||[{}],s=(i[0]||{}).name||"default",a=(o||{}).pane||s;return a},e.prototype.seriesCategoryAxis=function(t){var e=t.categoryAxis,n=e?this.namedCategoryAxes[e]:this.categoryAxis;if(!n)throw new Error("Unable to locate category axis with name "+e);return n},e.prototype.stackableChartOptions=function(t,e){var n=t.stack,r=n&&"100%"===n.type,o=e.options.clip;return{isStacked:n,isStacked100:r,clip:o}},e.prototype.groupSeriesByCategoryAxis=function(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r].categoryAxis||"$$default$$";n.hasOwnProperty(o)||(n[o]=!0,e.push(o))}for(var i=[],s=0;s<e.length;s++){var a=e[s],l=le(t,a,s);0!==l.length&&i.push(l)}return i},e.prototype.createBarChart=function(t,e){if(0!==t.length){var n=t[0],r=new Ls(this,Object.assign({series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing},this.stackableChartOptions(n,e)));this.appendChart(r,e)}},e.prototype.createRangeBarChart=function(t,e){if(0!==t.length){var n=t[0],r=new ua(this,{series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(r,e)}},e.prototype.createBulletChart=function(t,e){if(0!==t.length){var n=t[0],r=new Xs(this,{series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createLineChart=function(t,e){if(0!==t.length){var n=t[0],r=new Ms(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(n,e)));this.appendChart(r,e)}},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var n=t[0],r=new As(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(n,e)));this.appendChart(r,e)}},e.prototype.createRangeAreaChart=function(t,e){if(0!==t.length){var n=new ba(this,{invertAxes:this.invertAxes,series:t,clip:e.options.clip});this.appendChart(n,e)}},e.prototype.createOHLCChart=function(t,e){if(0!==t.length){var n=t[0],r=new _a(this,{invertAxes:this.invertAxes,gap:n.gap,series:t,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createCandlestickChart=function(t,e){if(0!==t.length){var n=t[0],r=new Bs(this,{invertAxes:this.invertAxes,gap:n.gap,series:t,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createBoxPlotChart=function(t,e){if(0!==t.length){var n=t[0],r=new Us(this,{invertAxes:this.invertAxes,gap:n.gap,series:t,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createWaterfallChart=function(t,e){if(0!==t.length){var n=t[0],r=new ka(this,{series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(r,e)}},e.prototype.axisRequiresRounding=function(t,e){for(var n=this,r=$t(this.series,Ii),o=0;o<this.series.length;o++){var i=n.series[o];if(k(i.type,Sa)){var s=i.line;s&&s.style===oi&&r.push(i)}}for(var a=0;a<r.length;a++){var l=r[a].categoryAxis||"";if(l===t||!l&&0===e)return!0}},e.prototype.aggregatedAxis=function(t,e){for(var n=this.series,r=0;r<n.length;r++){var o=n[r].categoryAxis||"";if((o===t||!o&&0===e)&&n[r].categoryField)return!0}},e.prototype.createCategoryAxesLabels=function(){for(var t=this.axes,e=0;e<t.length;e++)t[e]instanceof oo&&t[e].createLabels()},e.prototype.createCategoryAxes=function(t){for(var e=this,n=this.invertAxes,r=[].concat(this.options.categoryAxis),o=[],i=0;i<r.length;i++){var s=r[i],a=e.findPane(s.pane);if(k(a,t)){var l=s.name,c=s.categories;void 0===c&&(c=[]),s=f({vertical:n,reverse:!n&&e.chartService.rtl,axisCrossingValue:n?pn:0},s),tr(s.justified)||(s.justified=e.isJustified()),e.axisRequiresRounding(l,i)&&(s.justified=!1);var u=void 0;if(u=Xt(s,c[0])?new fo(s,e.chartService):new oo(s,e.chartService),r[i].categories=u.options.srcCategories,l){if(e.namedCategoryAxes[l])throw new Error("Category axis with name "+l+" is already defined");e.namedCategoryAxes[l]=u}u.axisIndex=i,o.push(u),e.appendAxis(u)}}var p=this.categoryAxis||o[0];this.categoryAxis=p,n?this.axisY=p:this.axisX=p},e.prototype.isJustified=function(){for(var t=this.series,e=0;e<t.length;e++){var n=t[e];if(!k(n.type,Sa))return!1}return!0},e.prototype.createValueAxes=function(t){var e=this,n=this.valueAxisRangeTracker,r=n.query(),o=[].concat(this.options.valueAxis),i=this.invertAxes,s={vertical:!i,reverse:i&&this.chartService.rtl},a=[];this.stack100&&(s.roundToMajorUnit=!1,s.labels={format:"P0"});for(var l=0;l<o.length;l++){var c=o[l],u=e.findPane(c.pane);if(k(u,t)){var p=c.name,h=Gt(c.type,is)?{min:.1,max:1}:{min:0,max:1},d=n.query(p)||r||h;0===l&&d&&r&&(d.min=Math.min(d.min,r.min),
d.max=Math.max(d.max,r.max));var v=void 0;v=Gt(c.type,is)?bo:yo;var y=new v(d.min,d.max,f({},s,c),e.chartService);if(p){if(e.namedValueAxes[p])throw new Error("Value axis with name "+p+" is already defined");e.namedValueAxes[p]=y}y.axisIndex=l,a.push(y),e.appendAxis(y)}}var g=this.valueAxis||a[0];this.valueAxis=g,i?this.axisX=g:this.axisY=g},e.prototype._dispatchEvent=function(t,e,n){var r=t._eventCoordinates(e),o=new yr(r.x,r.y),i=this.pointPane(o),s=[],a=[];if(i){for(var l=i.axes,c=0;c<l.length;c++){var u=l[c];u.getValue?Kt(a,u.getValue(o)):Kt(s,u.getCategory(o))}0===s.length&&Kt(s,this.categoryAxis.getCategory(o)),s.length>0&&a.length>0&&t.trigger(n,{element:or(e),originalEvent:e,category:Jt(s),value:Jt(a)})}},e.prototype.pointPane=function(t){for(var e=this.panes,n=0;n<e.length;n++){var r=e[n];if(r.contentBox.containsPoint(t))return r}},e.prototype.updateAxisOptions=function(t,e){ae(this.options,t,e),ae(this.originalOptions,t,e)},e}(oa);M(Ca,{categoryAxis:{},valueAxis:{}}),f(Ca.prototype,sa);var Ma=function(t){function e(){t.call(this),this._points=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this._points=[]},e.prototype.show=function(t){var e=this,n=[].concat(t);this.hide();for(var r=0;r<n.length;r++){var o=n[r];o&&o.toggleHighlight&&o.hasHighlight()&&(e.togglePointHighlight(o,!0),e._points.push(o))}},e.prototype.togglePointHighlight=function(t,e){var n=(t.options.highlight||{}).toggle;if(n){var r={category:t.category,series:t.series,dataItem:t.dataItem,value:t.value,stackValue:t.stackValue,preventDefault:ce,visual:t.highlightVisual(),show:e};n(r),r._defaultPrevented||t.toggleHighlight(e)}else t.toggleHighlight(e)},e.prototype.hide=function(){for(var t=this,e=this._points;e.length;)t.togglePointHighlight(e.pop(),!1)},e.prototype.isHighlighted=function(t){for(var e=this._points,n=0;n<e.length;n++){var r=e[n];if(t===r)return!0}return!1},e}(Ke.Class),Ta=function(t){function e(e,n){t.call(this),this.plotArea=e,this.options=f({},this.options,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.start=function(t){return this._active=ue(t,this.options.key),this._active},e.prototype.move=function(t){if(this._active){var e=this.axisRanges=this._panAxes(t,Mn).concat(this._panAxes(t,Tn));if(e.length)return this.axisRanges=e,pe(e)}},e.prototype.end=function(){var t=this._active;return this._active=!1,t},e.prototype.pan=function(){var t=this,e=t.plotArea,n=t.axisRanges;if(n.length){for(var r=0;r<n.length;r++){var o=n[r];e.updateAxisOptions(o.axis,o.range)}e.redraw(e.panes)}},e.prototype.destroy=function(){delete this.plotArea},e.prototype._panAxes=function(t,e){var n=this.plotArea,r=-t[e].delta,o=(this.options.lock||"").toLowerCase(),i=[];if(0!==r&&(o||"").toLowerCase()!==e)for(var s=n.axes,a=0;a<s.length;a++){var l=s[a];if(e===Mn&&!l.options.vertical||e===Tn&&l.options.vertical){var c=l.pan(r);c&&(c.limitRange=!0,i.push({axis:l,range:c}))}}return i},e}(Ke.Class);Ta.prototype.options={key:"none",lock:"none"};var Ea=function(t){function e(e,n){t.call(this),this.chart=e,this.options=f({},this.options,n),this.createElement()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createElement=function(){var t=this._marquee=document.createElement("div");t.className="k-marquee";var e=document.createElement("div");e.className="k-marquee-color",t.appendChild(e)},e.prototype.removeElement=function(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)},e.prototype.setStyles=function(t){g(this._marquee,t)},e.prototype.start=function(t){if(ue(t,this.options.key)){var e=this.chart,n=e._eventCoordinates(t),r=this._zoomPane=e._plotArea.paneByPoint(n),o=r?r.chartsBox().clone():null;if(r&&o){var i=this._elementOffset();return o.translate(i.left,i.top),this._zoomPaneClipBox=o,document.body.appendChild(this._marquee),this.setStyles({left:t.pageX+1,top:t.pageY+1,width:0,height:0}),!0}}return!1},e.prototype._elementOffset=function(){var t=this.chart.element,e=g(t,["paddingLeft","paddingTop"]),n=e.paddingLeft,r=e.paddingTop,o=nr(t);return{left:n+o.left,top:r+o.top}},e.prototype.move=function(t){var e=this._zoomPane;e&&this.setStyles(this._selectionPosition(t))},e.prototype.end=function t(e){var n=this._zoomPane;if(n){var r=this._elementOffset(),o=this._selectionPosition(e);o.left-=r.left,o.top-=r.top;var i={x:o.left,y:o.top},t={x:o.left+o.width,y:o.top+o.height};return this._updateAxisRanges(i,t),this.removeElement(),delete this._zoomPane,pe(this.axisRanges)}},e.prototype.zoom=function(){var t=this.axisRanges;if(t&&t.length){for(var e=this.chart._plotArea,n=0;n<t.length;n++){var r=t[n];e.updateAxisOptions(r.axis,r.range)}e.redraw(e.panes)}},e.prototype.destroy=function(){this.removeElement(),delete this._marquee,delete this.chart},e.prototype._updateAxisRanges=function(t,e){for(var n=(this.options.lock||"").toLowerCase(),r=[],o=this._zoomPane.axes,i=0;i<o.length;i++){var s=o[i],a=s.options.vertical;if((n!==Mn||a)&&(n!==Tn||!a)&&tr(s.axisIndex)){var l=s.pointsRange(t,e);l&&r.push({axis:s,range:l})}}this.axisRanges=r},e.prototype._selectionPosition=function(t){var e=this._zoomPaneClipBox,n={x:t.x.startLocation,y:t.y.startLocation},r=t.x.location,o=t.y.location,i=(this.options.lock||"").toLowerCase(),s=Math.min(n.x,r),a=Math.min(n.y,o),l=Math.abs(n.x-r),c=Math.abs(n.y-o);return i===Mn&&(s=e.x1,l=e.width()),i===Tn&&(a=e.y1,c=e.height()),r>e.x2&&(l=e.x2-n.x),r<e.x1&&(l=n.x-e.x1),o>e.y2&&(c=e.y2-n.y),o<e.y1&&(c=n.y-e.y1),{left:Math.max(s,e.x1),top:Math.max(a,e.y1),width:l,height:c}},e}(Ke.Class);Ea.prototype.options={key:"shift",lock:"none"};var Pa=function(t){function e(e,n){t.call(this),this.chart=e,this.options=f({},this.options,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.updateRanges=function(t){for(var e=(this.options.lock||"").toLowerCase(),n=[],r=this.chart._plotArea.axes,o=0;o<r.length;o++){var i=r[o],s=i.options.vertical;if((e!==Mn||s)&&(e!==Tn||!s)&&i.zoomRange){var a=i.zoomRange(-t);a&&n.push({axis:i,range:a})}}return this.axisRanges=n,pe(n)},e.prototype.zoom=function(){var t=this.axisRanges,e=this.chart._plotArea;if(t&&t.length&&e.updateAxisOptions){for(var n=0;n<t.length;n++){var r=t[n];e.updateAxisOptions(r.axis,r.range)}e.redraw(e.panes)}},e.prototype.destroy=function(){delete this.chart},e}(Ke.Class),Aa=function(t){function e(e,n){t.call(this,e),this.chartService=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this,e=t.children,n=t.options,r=n.vertical;this.visual=new Ke.drawing.Layout(null,{spacing:r?0:n.spacing,lineSpacing:r?n.spacing:0,orientation:r?"vertical":"horizontal",reverse:n.rtl,alignItems:r?"start":"center"});for(var o=0;o<e.length;o++){var i=e[o];i.reflow(new gr),i.renderVisual()}},e.prototype.reflow=function(t){this.visual.rect(t.toRect()),this.visual.reflow();var e=this.visual.clippedBBox();e?this.box=L(e):this.box=new gr},e.prototype.renderVisual=function(){this.addVisual()},e.prototype.createVisual=function(){},e}(xr),ja=function(t){function e(e){t.call(this,e),this.createContainer(),e.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createContainer=function(){this.container=new Er({vertical:!1,wrap:!1,align:Ye,spacing:this.options.spacing}),this.append(this.container)},e.prototype.createMarker=function(){this.container.append(new Sr(this.markerOptions()))},e.prototype.markerOptions=function(){var t=this.options,e=t.markerColor;return f({},t.markers,{background:e,border:{color:e}})},e.prototype.createLabel=function(){var t=this.options,e=f({},t.labels);this.container.append(new Dr(t.text,e))},e.prototype.renderComplete=function(){t.prototype.renderComplete.call(this);var e=this.options.cursor||{},n=this._itemOverlay=Ke.drawing.Path.fromRect(this.container.box.toRect(),{fill:{color:On,opacity:0},stroke:null,cursor:e.style||e});this.appendVisual(n)},e.prototype.click=function(t,e){var n=this.eventArgs(e);!t.trigger(zi,n)&&e&&"contextmenu"===e.type&&e.preventDefault()},e.prototype.over=function(t,e){var n=this.eventArgs(e);return t.trigger(Fi,n)||t._legendItemHover(n.seriesIndex,n.pointIndex),!0},e.prototype.out=function(t,e){t._unsetActivePoint(),t.trigger(Li,this.eventArgs(e))},e.prototype.eventArgs=function(t){var e=this.options;return{element:or(t),text:e.text,series:e.series,seriesIndex:e.series.index,pointIndex:e.pointIndex}},e.prototype.renderVisual=function(){var e=this,n=this.options,r=n.visual;r?(this.visual=r({active:n.active,series:n.series,sender:this.getSender(),pointIndex:n.pointIndex,options:{markers:this.markerOptions(),labels:n.labels},createVisual:function(){e.createVisual(),e.renderChildren(),e.renderComplete();var t=e.visual;return delete e.visual,t}}),this.addVisual()):t.prototype.renderVisual.call(this)},e}(kr),Da="horizontal",Ra="pointer",Ia="custom",za=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,e),this.chartService=n,k(this.options.position,[xn,bn,$e,un,Ia])||(this.options.position=bn),this.createContainers(),this.createLegendTitle(e.title),this.createItems()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createContainers=function(){var t=this.options,e=t.position,n=t.align,r=e,o=Ye;e===Ia?r=un:k(e,[xn,$e])?(r="start"===n?un:"end"===n?bn:Ye,o=e):n&&("start"===n?o=xn:"end"===n&&(o=$e)),this.container=new kr({margin:t.margin,padding:t.padding,background:t.background,border:t.border,vAlign:o,align:r,zIndex:t.zIndex,shrinkToFit:!0}),this.hasTitle()?this.itemsContainer=new kr({vAlign:o,align:r,zIndex:t.zIndex,shrinkToFit:!0}):this.itemsContainer=this.container,this.append(this.container)},e.prototype.createItems=function(){var t=this.getService(),e=this.options,n=this.isVertical(),r=new Aa({vertical:n,spacing:e.spacing,rtl:t.rtl},t),o=e.items;e.reverse&&(o=o.slice(0).reverse());for(var i=o.length,s=0;s<i;s++){var a=o[s];r.append(new ja(f({},{markers:e.markers,labels:e.labels,rtl:t.rtl},e.item,a)))}r.render(),this.itemsContainer.append(r)},e.prototype.isVertical=function(){var t=this.options,e=t.orientation,n=t.position,r=n===Ia&&e!==Da||(tr(e)?e!==Da:k(n,[un,bn]));return r},e.prototype.hasItems=function(){return this.container.children[0].children.length>0},e.prototype.reflow=function(t){var e=this.options,n=t.clone();return this.hasItems()?(e.position===Ia?(this.containerCustomReflow(n),this.box=n):this.containerReflow(n),void(this.hasTitle()&&this.title.reflow(new gr(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2)))):void(this.box=n)},e.prototype.containerReflow=function(t){var e=this,n=e.options,r=e.container,o=n.position,i=n.width,s=n.height,a=o===xn||o===$e?Mn:Tn,l=this.isVertical(),c=t.clone(),u=t.clone();o!==un&&o!==bn||(u.y1=c.y1=0),l&&s?(u.y2=u.y1+s,u.align(c,Tn,r.options.vAlign)):!l&&i&&(u.x2=u.x1+i,u.align(c,Mn,r.options.align)),r.reflow(u),u=r.box;var p=u.clone();(n.offsetX||n.offsetY)&&(u.translate(n.offsetX,n.offsetY),r.reflow(u)),p[a+1]=t[a+1],p[a+2]=t[a+2],this.box=p},e.prototype.containerCustomReflow=function(t){var e=this,n=e.options,r=e.container,o=n.offsetX,i=n.offsetY,s=n.width,a=n.height,l=this.isVertical(),c=t.clone();l&&a?c.y2=c.y1+a:!l&&s&&(c.x2=c.x1+s),r.reflow(c),c=r.box,r.reflow(new gr(o,i,o+c.width(),i+c.height()))},e.prototype.renderVisual=function(){this.hasItems()&&t.prototype.renderVisual.call(this)},e.prototype.createLegendTitle=function(t){var e=f({},{color:Ge,position:xn,align:Ye},t),n=e.text;if(t&&t.visible!==!1){if(tr(e)&&e.visible){var r=b(e);r?n=r({text:n}):e.format&&(n=this.chartService.format.auto(e.format,n))}this.title=new Dr(n,e),this.createTitleLayout(),this.appendTitleLayoutContent()}},e.prototype.createTitleLayout=function(){this.layout=new Er({vertical:!0,wrap:!1}),this.container.append(this.layout)},e.prototype.hasTitle=function(){return Boolean(this.options.title&&this.options.title.visible!==!1)},e.prototype.appendTitleLayoutContent=function(){var t=this.options;t.title.position===$e?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))},e}(xr);M(za,{position:bn,items:[],offsetX:0,offsetY:0,margin:m(5),padding:m(5),border:{color:Ge,width:0},item:{cursor:Ra,spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:un,vAlign:Ye}});var Fa=function(t){function e(){t.call(this),this._registry=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e){this._registry.push({type:t,seriesTypes:e})},e.prototype.create=function(t,e,n){for(var r,o=this._registry,i=o[0],s=0;s<o.length;s++){var a=o[s];if(r=$t(t,a.seriesTypes),r.length>0){i=a;break}}return new i.type(r,e,n)},e}(Ke.Class);Fa.current=new Fa;var La=3,Na=.1,Ba=function(t){function e(e,n,r,o){t.call(this);var i=e.element;this.options=f({},this.options,r),this.chart=e,this.observer=o,this.chartElement=i,this.categoryAxis=n,this._dateAxis=this.categoryAxis instanceof fo,this.initOptions(),this.visible=this.options.visible&&i.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onPane=function(t){return this.categoryAxis.pane===t},e.prototype.createElements=function(){var t=this.options,e=this.wrapper=he("k-selector");g(e,{top:t.offset.top,left:t.offset.left,width:t.width,height:t.height,direction:"ltr"});var n=this.selection=he("k-selection");this.leftMask=he("k-mask"),this.rightMask=he("k-mask"),e.appendChild(this.leftMask),e.appendChild(this.rightMask),e.appendChild(n),n.appendChild(he("k-selection-bg"));var r=this.leftHandle=he("k-handle k-left-handle"),o=this.rightHandle=he("k-handle k-right-handle");r.appendChild(he()),o.appendChild(he()),n.appendChild(r),n.appendChild(o),this.chartElement.appendChild(e);var i=g(n,["borderLeftWidth","borderRightWidth","height"]),s=g(r,"height").height,a=g(o,"height").height;t.selection={border:{left:i.borderLeftWidth,right:i.borderRightWidth}},g(r,{top:(i.height-s)/2}),g(o,{top:(i.height-a)/2}),e.style.cssText=e.style.cssText},e.prototype.bindEvents=function(){if(this.options.mousewheel!==!1){this._mousewheelHandler=this._mousewheel.bind(this);var t;Qn(this.wrapper,(t={},t[us]=this._mousewheelHandler,t))}this._domEvents=Un.create(this.wrapper,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})},e.prototype.initOptions=function(){var t=this,e=t.options,n=t.categoryAxis,r=n.pane.chartsBox(),o=this.chart.chartService.intl;this._dateAxis&&f(e,{min:rt(o,e.min),max:rt(o,e.max),from:rt(o,e.from),to:rt(o,e.to)});var i=g(this.chartElement,["paddingLeft","paddingTop"]),s=i.paddingLeft,a=i.paddingTop;this.options=f({},{width:r.width(),height:r.height()+Na,padding:{left:s,top:a},offset:{left:r.x1+s,top:r.y1+a},from:e.min,to:e.max},e)},e.prototype.destroy=function(){if(this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper){if(this._mousewheelHandler){var t;pr(this.wrapper,(t={},t[us]=this._mousewheelHandler,t)),this._mousewheelHandler=null}this.chartElement.removeChild(this.wrapper),this.wrapper=null}},e.prototype._rangeEventArgs=function(t){return{axis:this.categoryAxis.options,from:this._value(t.from),to:this._value(t.to)}},e.prototype._start=function(t){var e=this.options,n=or(t);if(!this._state&&n){this.chart._unsetActivePoint(),this._state={moveTarget:fe(n)||n,startLocation:t.x?t.x.location:0,range:{from:this._index(e.from),to:this._index(e.to)}};var r=this._rangeEventArgs({from:this._index(e.from),to:this._index(e.to)});this.trigger(Zi,r)&&(this._state=null)}},e.prototype._press=function(t){var e;e=this._state?this._state.moveTarget:fe(or(t)),e&&o(e,"k-handle-active")},e.prototype._move=function(t){if(this._state){var e=this,n=e._state,r=e.options,o=e.categoryAxis,i=n.range,s=n.moveTarget,a=o.options.reverse,l=this._index(r.from),c=this._index(r.to),u=this._index(r.min),p=this._index(r.max),h=n.startLocation-t.x.location,f={from:i.from,to:i.to},d=i.to-i.from,v=g(this.wrapper,"width").width/(o.categoriesCount()-1),y=Math.round(h/v)*(a?-1:1);if(s){var m=x(s,"k-left-handle"),b=x(s,"k-right-handle");x(s,"k-selection k-selection-bg")?(i.from=Math.min(Math.max(u,l-y),p-d),i.to=Math.min(i.from+d,p)):m&&!a||b&&a?(i.from=Math.min(Math.max(u,l-y),p-1),i.to=Math.max(i.from+1,i.to)):(m&&a||b&&!a)&&(i.to=Math.min(Math.max(u+1,c-y),p),i.from=Math.min(i.to-1,i.from)),i.from===f.from&&i.to===f.to||(this.move(i.from,i.to),this.trigger(Qi,this._rangeEventArgs(i)))}}},e.prototype._end=function(){if(this._state){var t=this._state.moveTarget;t&&i(t,"k-handle-active");var e=this._state.range;this.set(e.from,e.to),this.trigger(ts,this._rangeEventArgs(e)),delete this._state}},e.prototype._tap=function(t){var e=this,n=e.options,r=e.categoryAxis,o=this.chart._eventCoordinates(t),i=r.pointCategoryIndex(new yr(o.x,r.box.y1)),s=this._index(n.from),a=this._index(n.to),l=this._index(n.min),c=this._index(n.max),u=a-s,p=s+u/2,h={},f=3===t.event.which,d=Math.round(p-i);this._state||f||(this.chart._unsetActivePoint(),r.options.justified||d--,h.from=Math.min(Math.max(l,s-d),c-u),h.to=Math.min(h.from+u,c),this._start(t),this._state&&(this._state.range=h,this.trigger(Qi,this._rangeEventArgs(h)),this._end()))},e.prototype._mousewheel=function(t){var e=this,n=C(t);if(this._start({target:this.selection}),this._state){var r=this._state.range;t.preventDefault(),t.stopPropagation(),Math.abs(n)>1&&(n*=La),this.options.mousewheel.reverse&&(n*=-1),this.expand(n)&&this.trigger(Qi,{axis:this.categoryAxis.options,delta:n,originalEvent:t,from:this._value(r.from),to:this._value(r.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(function(){e._end()},ps)}},e.prototype._gesturestart=function(t){var e=this.options;this._state={range:{from:this._index(e.from),to:this._index(e.to)}};var n=this._rangeEventArgs(this._state.range);this.trigger(Zi,n)?this._state=null:t.preventDefault()},e.prototype._gestureend=function(){this._state&&(this.trigger(ts,this._rangeEventArgs(this._state.range)),delete this._state)},e.prototype._gesturechange=function(t){var e=this,n=e.chart,r=e._state,o=e.options,i=e.categoryAxis,s=r.range,a=n._toModelCoordinates(t.touches[0].x.location).x,l=n._toModelCoordinates(t.touches[1].x.location).x,c=Math.min(a,l),u=Math.max(a,l);t.preventDefault(),s.from=i.pointCategoryIndex(new yr(c))||o.min,s.to=i.pointCategoryIndex(new yr(u))||o.max,this.move(s.from,s.to),this.trigger(Qi,this._rangeEventArgs(s))},e.prototype._index=function(t){var e=t;return t instanceof Date&&(e=this.categoryAxis.categoryIndex(t)),e},e.prototype._value=function(t){var e=t;return this._dateAxis&&(e=this.categoryAxis.categoryAt(t),e>this.options.max&&(e=this.options.max)),e},e.prototype._slot=function(t){var e=this.categoryAxis,n=this._index(t);return e.getSlot(n,n,!0)},e.prototype.move=function(t,e){var n=this.options,r=this.categoryAxis.options.reverse,o=n.offset,i=n.padding,s=n.selection.border,a=r?e:t,l=r?t:e,c="x"+(r?2:1),u=this._slot(a),p=ur(u[c]-o.left+i.left);g(this.leftMask,{width:p}),g(this.selection,{left:p}),u=this._slot(l);var h=ur(n.width-(u[c]-o.left+i.left));g(this.rightMask,{width:h});var f=n.width-h;f!==n.width&&(f+=s.right),g(this.rightMask,{left:f}),g(this.selection,{width:Math.max(n.width-(p+h)-s.right,0)})},e.prototype.set=function(t,e){var n=this.options,r=this._index(n.min),o=this._index(n.max),i=ar(this._index(t),r,o),s=ar(this._index(e),i+1,o);n.visible&&this.move(i,s),n.from=this._value(i),n.to=this._value(s)},e.prototype.expand=function(t){var e=this.options,n=this._index(e.min),r=this._index(e.max),o=e.mousewheel.zoom,i=this._index(e.from),s=this._index(e.to),a={from:i,to:s},l=f({},a);if(this._state&&(a=this._state.range),o!==bn&&(a.from=ar(ar(i-t,0,s-1),n,r)),o!==un&&(a.to=ar(ar(s+t,a.from+1,r),n,r)),a.from!==l.from||a.to!==l.to)return this.set(a.from,a.to),!0},e.prototype.trigger=function(t,e){return(this.observer||this.chart).trigger(t,e)},e}(Ke.Class);M(Ba,{visible:!0,mousewheel:{zoom:"both"},min:hn,max:pn});var Va=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.show=function(e){if(e&&e.tooltipAnchor&&(!this._current||this._current!==e)){var n=f({},this.options,e.options.tooltip),r=e.tooltipAnchor();r?(this._current=e,t.prototype.show.call(this,{point:e,anchor:r},n,e)):this.hide()}},e.prototype.hide=function(){delete this._current,t.prototype.hide.call(this)},e}(Js),Ha=function(t){function e(e,n){t.call(this,e.chartService,n),this.plotArea=e,this.formatService=e.chartService.format}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.showAt=function(t,e){var n=_(t,function(t){var e=t.series.tooltip,n=e&&e.visible===!1;return!n});if(n.length>0){var r=n[0],o=this.plotArea.categoryAxis.getSlot(r.categoryIx),i=e?this._slotAnchor(e,o):this._defaultAnchor(r,o);this.show({anchor:i,shared:!0,points:t,category:r.category,categoryText:this.formatService.auto(this.options.categoryFormat,r.category),series:this.plotArea.series},this.options)}},e.prototype._slotAnchor=function(t,e){var n=this.plotArea.categoryAxis,r={horizontal:"left",vertical:"center"};return n.options.vertical||(t.x=e.center().x),{point:t,align:r}},e.prototype._defaultAnchor=function(t,e){var n,r=t.owner.pane.chartsBox(),o=this.plotArea.categoryAxis.options.vertical,i=r.center(),s=e.center(),a={horizontal:"center",vertical:"center"};return n=o?new yr(i.x,s.y):new yr(s.x,i.y),{point:n,align:a}},e}(Js);M(Ha,{categoryFormat:"{0:d}"});var Ua=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this,e=t.element,n=t.options,r=e.bbox();if(r){this.origin=n.origin;var o=n.vertical?Tn:Mn,i=this.fromScale=new Ke.geometry.Point(1,1);i[o]=Ko,e.transform(Ke.geometry.transform().scale(i.x,i.y))}else this.abort()},e.prototype.step=function(t){var e=S(this.fromScale.x,1,t),n=S(this.fromScale.y,1,t);this.element.transform(Ke.geometry.transform().scale(e,n,this.origin))},e.prototype.abort=function(){t.prototype.abort.call(this),this.element.transform(null)},e}(Ke.drawing.Animation);M(Ua,{duration:Bo}),Ke.drawing.AnimationFactory.current.register(si,Ua);var Ka=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.center=this.element.bbox().center();this.element.transform(Ke.geometry.transform().scale(Ko,Ko,t))},e.prototype.step=function(t){this.element.transform(Ke.geometry.transform().scale(t,t,this.center))},e}(Ke.drawing.Animation);M(Ka,{easing:"easeOutElastic"}),Ke.drawing.AnimationFactory.current.register(li,Ka);var qa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this.fadeTo=this.element.opacity(),this.element.opacity(0)},e.prototype.step=function(t){this.element.opacity(t*this.fadeTo)},e}(Ke.drawing.Animation);M(qa,{duration:200,easing:"linear"}),Ke.drawing.AnimationFactory.current.register(Vo,qa);var Wa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this.element.transform(Ke.geometry.transform().scale(Ko,Ko,this.options.center))},e.prototype.step=function(t){this.element.transform(Ke.geometry.transform().scale(t,t,this.options.center))},e}(Ke.drawing.Animation);M(Wa,{easing:"easeOutElastic",duration:Bo}),Ke.drawing.AnimationFactory.current.register(gi,Wa);var Ga=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.renderSegments()},e.prototype.createSegment=function(t,e,n){var r,o=e.style;return new(r=o===ri?ks:ws)(t,e,n)},e.prototype.animationPoints=function(){var e=t.prototype.animationPoints.call(this);return e.concat(this._segments)},e.prototype.createMissingValue=function(t,e){if(e===Zo){var n={x:t.x,y:t.y};return Vt(n.x)||(n.x=0),Vt(n.y)||(n.y=0),n}},e}(qs);f(Ga.prototype,Ss);var $a=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new js,this.yAxisRangeTracker=new js},e.prototype.render=function(t){var e=this;void 0===t&&(t=this.panes);for(var n=this.groupSeriesByPane(),r=0;r<t.length;r++){var o=t[r],i=n[o.options.name||"default"]||[];e.addToLegend(i);var s=e.filterVisibleSeries(i);s&&(e.createScatterChart($t(s,Mi),o),e.createScatterLineChart($t(s,Ti),o),e.createBubbleChart($t(s,li),o))}this.createAxes(t)},e.prototype.appendChart=function(e,n){this.xAxisRangeTracker.update(e.xAxisRanges),this.yAxisRangeTracker.update(e.yAxisRanges),t.prototype.appendChart.call(this,e,n)},e.prototype.removeAxis=function(e){var n=e.options.name;t.prototype.removeAxis.call(this,e),e.options.vertical?(this.yAxisRangeTracker.reset(n),delete this.namedYAxes[n]):(this.xAxisRangeTracker.reset(n),delete this.namedXAxes[n]),e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY},e.prototype.seriesPaneName=function(t){var e=this.options,n=t.xAxis,r=[].concat(e.xAxis),o=_(r,function(t){return t.name===n})[0],i=t.yAxis,s=[].concat(e.yAxis),a=_(s,function(t){return t.name===i})[0],l=e.panes||[{}],c=l[0].name||"default",u=(o||{}).pane||(a||{}).pane||c;return u},e.prototype.createScatterChart=function(t,e){t.length>0&&this.appendChart(new qs(this,{series:t,clip:e.options.clip}),e)},e.prototype.createScatterLineChart=function(t,e){t.length>0&&this.appendChart(new Ga(this,{series:t,clip:e.options.clip}),e)},e.prototype.createBubbleChart=function(t,e){t.length>0&&this.appendChart(new Gs(this,{series:t,clip:e.options.clip}),e)},e.prototype.createXYAxis=function(t,e,n){for(var r=t.name,o=e?this.namedYAxes:this.namedXAxes,i=e?this.yAxisRangeTracker:this.xAxisRangeTracker,s=f({reverse:!e&&this.chartService.rtl},t,{vertical:e}),a=Gt(s.type,is),l=i.query(),c=a?{min:.1,max:1}:{min:0,max:1},u=i.query(r)||l||c,p=[s.min,s.max],h=this.series,d=0;d<h.length;d++){var v=h[d],y=v[e?"yAxis":"xAxis"];if(y===s.name||0===n&&!y){var g=Do.current.bindPoint(v,0).valueFields;p.push(g[e?"y":"x"]);break}}0===n&&l&&(u.min=Math.min(u.min,l.min),u.max=Math.max(u.max,l.max));for(var m,b=0;b<p.length;b++)if(p[b]instanceof Date){m=!0;break}var w;w=Gt(s.type,Qe)||!s.type&&m?go:a?bo:yo;var _=new w(u.min,u.max,s,this.chartService);if(_.axisIndex=n,r){if(o[r])throw new Error((e?"Y":"X")+" axis with name "+r+" is already defined");o[r]=_}return this.appendAxis(_),_},e.prototype.createAxes=function(t){for(var e=this,n=this.options,r=[].concat(n.xAxis),o=[],i=[].concat(n.yAxis),s=[],a=0;a<r.length;a++){var l=e.findPane(r[a].pane);k(l,t)&&o.push(e.createXYAxis(r[a],!1,a))}for(var c=0;c<i.length;c++){var u=e.findPane(i[c].pane);k(u,t)&&s.push(e.createXYAxis(i[c],!0,c))}this.axisX=this.axisX||o[0],this.axisY=this.axisY||s[0]},e.prototype._dispatchEvent=function(t,e,n){for(var r=t._eventCoordinates(e),o=new yr(r.x,r.y),i=this.axes,s=i.length,a=[],l=[],c=0;c<s;c++){var u=i[c],p=u.options.vertical?l:a,h=u.getValue(o);null!==h&&p.push(h)}a.length>0&&l.length>0&&t.trigger(n,{element:or(e),originalEvent:e,x:Jt(a),y:Jt(l)})},e.prototype.updateAxisOptions=function(t,e){var n=t.options.vertical,r=this.groupAxes(this.panes),o=(n?r.y:r.x).indexOf(t);de(this.options,o,n,e),de(this.originalOptions,o,n,e)},e}(oa);M($a,{xAxis:{},yAxis:{}}),f($a.prototype,sa);var Ya=function(t){function e(e,n,r){t.call(this,r),this.value=e,this.sector=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options.labels,e=this.owner.chartService,n=this.value;if(!this._rendered&&this.visible!==!1){this._rendered=!0;var r=b(t),o=this.pointData();if(r?n=r(o):t.format&&(n=e.format.auto(t.format,n)),t.visible&&(n||0===n)){if(t.position===Ye||t.position===as){if(!t.color){var i=new Ke.Color(this.options.color).percBrightness();i>180?t.color=Ge:t.color=On}t.background||(t.background=this.options.color)}else{var s=e.theme.seriesDefaults.labels;t.color=t.color||s.color,t.background=t.background||s.background}this.label=new Dr(n,f({},t,{align:Ye,vAlign:"",animation:{type:Vo,delay:this.animationDelay}}),o),this.append(this.label)}}},e.prototype.reflow=function(t){this.render(),this.box=t,this.reflowLabel()},e.prototype.reflowLabel=function(){var t=this,e=t.options.labels,n=t.label,r=this.sector.clone(),o=e.distance,i=r.middle();if(n){var s,a=n.box.height(),l=n.box.width();if(e.position===Ye)r.radius=Math.abs((r.radius-a)/2)+a,s=r.point(i),n.reflow(new gr(s.x,s.y-a/2,s.x,s.y));else if(e.position===as)r.radius=r.radius-a/2,s=r.point(i),n.reflow(new gr(s.x,s.y-a/2,s.x,s.y));else{var c;s=r.clone().expand(o).point(i),s.x>=r.center.x?(c=s.x+l,n.orientation=bn):(c=s.x-l,n.orientation=un),n.reflow(new gr(c,s.y-a,s.x,s.y))}}},e.prototype.createVisual=function(){var e=this,n=this,r=n.sector,o=n.options;if(t.prototype.createVisual.call(this),this.value)if(o.visual){var i=(r.startAngle+180)%360,s=o.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new Ke.geometry.Point(r.center.x,r.center.y),radius:r.radius,innerRadius:r.innerRadius,startAngle:i,endAngle:i+r.angle,options:o,sender:this.getSender(),createVisual:function(){var t=new Ke.drawing.Group;return e.createSegmentVisual(t),t}});s&&this.visual.append(s)}else this.createSegmentVisual(this.visual)},e.prototype.createSegmentVisual=function(t){var e=this,n=e.sector,r=e.options,o=r.border||{},i=o.width>0?{stroke:{color:o.color,width:o.width,opacity:o.opacity,dashType:o.dashType}}:{},s=r.color,a={color:s,opacity:r.opacity},l=this.createSegment(n,f({fill:a,stroke:{opacity:r.opacity},zIndex:r.zIndex},i));t.append(l),Ft(r)&&t.append(this.createGradientOverlay(l,{baseColor:s,fallbackFill:a},f({center:[n.center.x,n.center.y],innerRadius:n.innerRadius,radius:n.radius,userSpace:!0},r.overlay)))},e.prototype.createSegment=function(t,e){return e.singleSegment?new Ke.drawing.Circle(new Ke.geometry.Circle(new Ke.geometry.Point(t.center.x,t.center.y),t.radius),e):_r.current.createRing(t,e)},e.prototype.createAnimation=function(){var e=this,n=e.options,r=e.sector.center;f(n,{animation:{center:[r.x,r.y],delay:this.animationDelay}}),t.prototype.createAnimation.call(this)},e.prototype.createHighlight=function(t){var e=this.options.highlight||{},n=e.border||{};return this.createSegment(this.sector,f({},t,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:n.opacity,width:n.width,color:n.color}}))},e.prototype.highlightVisual=function(){return this.visual.children[0]},e.prototype.highlightVisualArgs=function(){var t=this.sector;return{options:this.options,radius:t.radius,innerRadius:t.innerRadius,center:new Ke.geometry.Point(t.center.x,t.center.y),startAngle:t.startAngle,endAngle:t.angle+t.startAngle,visual:this.visual}},e.prototype.tooltipAnchor=function(){
var t=this.sector.clone().expand(Uo),e=t.middle(),n=t.point(e);return{point:n,align:ve(e+180)}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}},e}(xr),Xa=ur(cr(30),nn),Ja=ur(cr(60),nn);M(Ya,{color:On,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:tn,margin:m(.5),align:Xe,zIndex:1,position:cs},animation:{type:gi},highlight:{visible:!0,border:{width:1}},visible:!0}),f(Ya.prototype,gs);var Za={createLegendItem:function(t,e,n){var r=this.options.legend||{},o=r.labels||{},i=r.inactiveItems||{},s=i.labels||{};if(n&&n.visibleInLegend!==!1){var a=n.visible!==!1,l=a?b(o):b(s)||b(o),c=n.category;l&&(c=l({text:c,series:n.series,dataItem:n.dataItem,percentage:n.percentage,value:t}));var u,p;a?(u={},p=e.color):(u={color:s.color,font:s.font},p=(i.markers||{}).color),Vt(c)&&""!==c&&this.legendItems.push({active:a,pointIndex:n.index,text:c,series:n.series,markerColor:p,labels:u})}}},Qa=70,tl=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this.points=[],this.legendItems=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.traverseDataPoints=function(t){var e=this,n=this,r=n.options,o=n.plotArea.options.seriesColors;void 0===o&&(o=[]);for(var i=o.length,s=r.series,a=s.length,l=0;l<a;l++){var c=s[l],u=c.data,h=Wt(c),f=h.total,d=h.points,v=h.count,y=360/f,g=void 0;isFinite(y)||(g=360/v);var m=void 0;m=tr(c.startAngle)?c.startAngle:r.startAngle,l!==a-1&&c.labels.position===cs&&(c.labels.position=Ye);for(var b=0;b<d.length;b++){var w=d[b];if(w){var _=w.fields,x=w.value,k=w.visible,S=0!==x?g||x*y:0,O=1!==u.length&&Boolean(_.explode);p(c.color)||(c.color=_.color||o[b%i]),t(w.valueFields.value,new mr(null,0,0,m,S),{owner:e,category:tr(_.category)?_.category:"",index:b,series:c,seriesIx:l,dataItem:u[b],percentage:0!==f?x/f:0,explode:O,visibleInLegend:_.visibleInLegend,visible:k,zIndex:a-l,animationDelay:e.animationDelay(b,l,a)}),k!==!1&&(m+=S)}}}},e.prototype.evalSegmentOptions=function(t,e,n){var r=n.series;Dt(t,{value:e,series:r,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:r._defaults,excluded:["data","content","template","visual","toggle"]})},e.prototype.addValue=function(t,e,n){var r=f({},n.series,{index:n.index});if(this.evalSegmentOptions(r,t,n),this.createLegendItem(t,r,n),n.visible!==!1){var o=new Ya(t,e,r);Object.assign(o,n),this.append(o),this.points.push(o)}},e.prototype.reflow=function(t){var e=this,n=e.options,r=e.points,o=e.seriesConfigs;void 0===o&&(o=[]);var i=r.length,s=t.clone(),a=5,l=Math.min(s.width(),s.height()),c=l/2,u=l-.85*l,p=new gr(s.x1,s.y1,s.x1+l,s.y1+l),h=p.center(),f=s.center(),d=n.series.length,v=[],y=[],g=hr(n.padding,u);this.targetBox=t,g=g>c-a?c-a:g,p.translate(f.x-h.x,f.y-h.y);for(var m=c-g,b=new yr(m+p.x1+g,m+p.y1+g),w=0;w<i;w++){var _=r[w],x=_.sector,k=_.seriesIx;if(x.radius=m,x.center=b,o.length){var S=o[k];x.innerRadius=S.innerRadius,x.radius=S.radius}k===d-1&&_.explode&&(x.center=x.clone().setRadius(.15*x.radius).point(x.middle())),_.reflow(p);var O=_.label;O&&O.options.position===cs&&k===d-1&&(O.orientation===bn?y.push(O):v.push(O))}v.length>0&&(v.sort(this.labelComparator(!0)),this.leftLabelsReflow(v)),y.length>0&&(y.sort(this.labelComparator(!1)),this.rightLabelsReflow(y)),this.box=p},e.prototype.leftLabelsReflow=function(t){var e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)},e.prototype.rightLabelsReflow=function(t){var e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)},e.prototype.distanceBetweenLabels=function(t){var e=sr(this.points),n=e.sector,r=t.length-1,o=n.radius+e.options.labels.distance,i=[],s=t[0].box,a=ur(s.y1-(n.center.y-o-s.height()-s.height()/2));i.push(a);for(var l=0;l<r;l++){var c=t[l+1].box;s=t[l].box,a=ur(c.y1-s.y2),i.push(a)}return a=ur(n.center.y+o-t[r].box.y2-t[r].box.height()/2),i.push(a),i},e.prototype.distributeLabels=function(t,e){for(var n,r,o,i=this,s=t.length,a=0;a<s;a++)for(o=-t[a],n=r=a;o>0&&(n>=0||r<s);)o=i._takeDistance(t,a,--n,o),o=i._takeDistance(t,a,++r,o);this.reflowLabels(t,e)},e.prototype._takeDistance=function(t,e,n,r){var o=r;if(t[n]>0){var i=Math.min(t[n],o);o-=i,t[n]-=i,t[e]+=i}return o},e.prototype.reflowLabels=function(t,e){var n,r=this,o=sr(this.points),i=o.sector,s=o.options.labels,a=e.length,l=s.distance,c=i.center.y-(i.radius+l)-e[0].box.height();t[0]+=2;for(var u=0;u<a;u++){var p=e[u],h=p.box;c+=t[u],n=r.hAlignLabel(h.x2,i.clone().expand(l),c,c+h.height(),p.orientation===bn),p.orientation===bn?(s.align!==Xe&&(n=i.radius+i.center.x+l),p.reflow(new gr(n+h.width(),c,n,c))):(s.align!==Xe&&(n=i.center.x-i.radius-l),p.reflow(new gr(n-h.width(),c,n,c))),c+=h.height()}},e.prototype.createVisual=function(){var e=this,n=this,r=n.options.connectors,o=n.points,i=o.length,s=4;t.prototype.createVisual.call(this),this._connectorLines=[];for(var a=0;a<i;a++){var l=o[a],c=l.sector,u=l.label,p=c.middle(),h=(l.options.connectors||{}).color||r.color;if(u){var f=new Ke.drawing.Path({stroke:{color:h,width:r.width},animation:{type:Vo,delay:l.animationDelay}});if(u.options.position===cs){var d=u.box,v=c.center,y=c.point(p),g=new yr(d.x1,d.center().y),m=void 0,b=void 0,w=void 0;y=c.clone().expand(r.padding).point(p),f.moveTo(y.x,y.y),u.orientation===bn?(b=new yr(d.x1-r.padding,d.center().y),w=ye(v,y,g,b),g=new yr(b.x-s,b.y),w=w||g,w.x=Math.min(w.x,g.x),e.pointInCircle(w,c.center,c.radius+s)||w.x<c.center.x?(m=c.center.x+c.radius+s,l.options.labels.align!==pi?m<g.x?f.lineTo(m,y.y):f.lineTo(y.x+2*s,y.y):f.lineTo(m,y.y),f.lineTo(g.x,b.y)):(w.y=b.y,f.lineTo(w.x,w.y))):(b=new yr(d.x2+r.padding,d.center().y),w=ye(v,y,g,b),g=new yr(b.x+s,b.y),w=w||g,w.x=Math.max(w.x,g.x),e.pointInCircle(w,c.center,c.radius+s)||w.x>c.center.x?(m=c.center.x-c.radius-s,l.options.labels.align!==pi?m>g.x?f.lineTo(m,y.y):f.lineTo(y.x-2*s,y.y):f.lineTo(m,y.y),f.lineTo(g.x,b.y)):(w.y=b.y,f.lineTo(w.x,w.y))),f.lineTo(b.x,b.y),e._connectorLines.push(f),e.visual.append(f)}}}},e.prototype.renderVisual=function(){if(t.prototype.renderVisual.call(this),E(this.options.series,function(t){return t.autoFit})){var e=this.targetBox,n=this.box.center(),r=this.visual.bbox();if(!r)return;var o=r.bottomRight(),i=Math.min((n.y-e.y1)/(n.y-r.origin.y),(e.y2-n.y)/(o.y-n.y),(n.x-e.x1)/(n.x-r.origin.x),(e.x2-n.x)/(o.x-n.x));i<1&&this.visual.transform(Ke.geometry.transform().scale(i,i,[n.x,n.y]))}},e.prototype.labelComparator=function(t){var e=t?-1:1;return function(t,n){var r=(t.parent.sector.middle()+270)%360,o=(n.parent.sector.middle()+270)%360;return(r-o)*e}},e.prototype.hAlignLabel=function(t,e,n,r,o){var i=e.radius,s=e.center,a=s.x,l=s.y,c=Math.min(Math.abs(l-n),Math.abs(l-r));return c>i?t:a+Math.sqrt(i*i-c*c)*(o?1:-1)},e.prototype.pointInCircle=function(t,e,n){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(n,2)},e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value)},e.prototype.animationDelay=function(t){return t*Qa},e.prototype.stackRoot=function(){return this},e}(xr);M(tl,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),f(tl.prototype,Za),tl.prototype.isStackRoot=!0;var el=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createPieChart(this.series)},e.prototype.createPieChart=function(t){var e=t[0],n=new tl(this,{series:t,padding:e.padding,startAngle:e.startAngle,connectors:e.connectors,legend:this.options.legend});this.appendChart(n)},e.prototype.appendChart=function(e,n){t.prototype.appendChart.call(this,e,n),Zn(this.options.legend.items,e.legendItems)},e}(oa),nl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowLabel=function(){var e=this,n=e.options.labels,r=e.label,o=this.sector.clone(),i=o.middle();if(r){var s=r.box.height();if(n.position===Ye){o.radius-=(o.radius-o.innerRadius)/2;var a=o.point(i);r.reflow(new gr(a.x,a.y-s/2,a.x,a.y))}else t.prototype.reflowLabel.call(this)}},e.prototype.createSegment=function(t,e){return _r.current.createRing(t,e)},e}(Ya);M(nl,{overlay:{gradient:"roundedGlass"},labels:{position:Ye},animation:{type:gi}}),f(nl.prototype,gs);var rl=50,ol=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addValue=function(t,e,n){var r=f({},n.series,{index:n.index});if(this.evalSegmentOptions(r,t,n),this.createLegendItem(t,r,n),t&&n.visible!==!1){var o=new nl(t,e,r);Object.assign(o,n),this.append(o),this.points.push(o)}},e.prototype.reflow=function(e){var n=this,r=this.options,o=e.clone(),i=5,s=Math.min(o.width(),o.height()),a=s/2,l=s-.85*s,c=r.series,u=c.length,p=hr(r.padding,l);p=p>a-i?a-i:p;for(var h,f=a-p,d=0,v=0;v<u;v++){var y=c[v];0===v&&tr(y.holeSize)&&(h=y.holeSize,f-=y.holeSize),tr(y.size)?f-=y.size:d++,tr(y.margin)&&v!==u-1&&(f-=y.margin)}if(!tr(h)){var g=(a-p)/(u+.75);h=.75*g,f-=h}var m,b,w=h,_=0;this.seriesConfigs=[];for(var x=0;x<u;x++){var k=c[x];m=hr(k.size,f/d),w+=_,b=w+m,n.seriesConfigs.push({innerRadius:w,radius:b}),_=k.margin||0,w=b}t.prototype.reflow.call(this,e)},e.prototype.animationDelay=function(t,e,n){return t*rl+Bo*(e+1)/(n+1)},e}(tl);M(ol,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});var il=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createDonutChart(this.series)},e.prototype.createDonutChart=function(t){var e=t[0],n=new ol(this,{series:t,padding:e.padding,connectors:e.connectors,legend:this.options.legend});this.appendChart(n)},e}(el),sl=.15,al=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this.valueAxisRangeTracker=new js},e.prototype.render=function(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()},e.prototype.alignAxes=function(){var t=this.valueAxis,e=t.range(),n=t.options.reverse?e.max:e.min,r=t.getSlot(n),o=this.polarAxis.getSlot(0).center,i=t.box.translate(o.x-r.x1,o.y-r.y1);t.reflow(i)},e.prototype.createValueAxis=function(){var t,e,n=this.valueAxisRangeTracker,r=n.query(),o=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});o.type===is?(t=Oo,e={min:.1,max:1}):(t=So,e={min:0,max:1});var i=n.query(name)||r||e;i&&r&&(i.min=Math.min(i.min,r.min),i.max=Math.max(i.max,r.max));var s=new t(i.min,i.max,o,this.chartService);this.valueAxis=s,this.appendAxis(s)},e.prototype.reflowAxes=function(){var t=this,e=t.options.plotArea,n=t.valueAxis,r=t.polarAxis,o=t.box,i=Math.min(o.width(),o.height())*sl,s=m(e.padding||{},i),a=o.clone().unpad(s),l=a.clone();l.y2=l.y1+Math.min(l.width(),l.height()),l.align(a,Tn,Ye);var c=l.clone().shrink(0,l.height()/2);r.reflow(l),n.reflow(c);var u=n.lineBox().height()-n.box.height();n.reflow(n.box.unpad({top:u})),this.axisBox=l,this.alignAxes(l)},e.prototype.backgroundBox=function(){return this.box},e.prototype.detachLabels=function(){},e}(oa),ll=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointSlot=function(t,e){var n=t.center.y-e.y1,r=yr.onCircle(t.center,t.startAngle,n);return new gr(r.x,r.y,r.x,r.y)},e}(qs);M(ll,{clip:!1});var cl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ga);cl.prototype.pointSlot=ll.prototype.pointSlot,M(cl,{clip:!1});var ul=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(t){var e=this._polarAxisCenter();t.lineTo(e.x,e.y)},e.prototype._polarAxisCenter=function(){var t=this.parent.plotArea.polarAxis,e=t.box.center();return e},e.prototype.strokeSegments=function(){var t=this._strokeSegments;if(!t){var e=this._polarAxisCenter(),n=new To(!1),r=this.points();r.push(e),t=this._strokeSegments=n.process(r),t.pop()}return t},e}(Ps),pl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(t){var e=this.parent.plotArea.polarAxis,n=e.box.center(),r=new Ke.geometry.Segment([n.x,n.y]);t.segments.unshift(r),t.segments.push(r)},e}(Ts),hl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,n){var r,o=(e.line||{}).style;return r=o===ri?new ul(t,e,n):new pl(t,e,n)},e.prototype.createMissingValue=function(t,e){var n;return Vt(t.x)&&e!==Qo&&(n={x:t.x,y:t.y},e===Zo&&(n.y=0)),n},e.prototype.seriesMissingValues=function(t){return t.missingValues||Zo},e.prototype._hasMissingValuesGap=function(){for(var t=this,e=this.options.series,n=0;n<e.length;n++)if(t.seriesMissingValues(e[n])===ti)return!0},e.prototype.sortPoints=function(t){var e=this;if(t.sort(ge),this._hasMissingValuesGap())for(var n=0;n<t.length;n++){var r=t[n];if(r){var o=r.value;Vt(o.y)||e.seriesMissingValues(r.series)!==ti||delete t[n]}}return t},e}(cl),fl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createPolarAxis=function(){var t=new xo(this.options.xAxis,this.chartService);this.polarAxis=t,this.axisX=t,this.appendAxis(t)},e.prototype.valueAxisOptions=function(t){return f(t,{majorGridLines:{type:qe},minorGridLines:{type:qe}},this.options.yAxis)},e.prototype.createValueAxis=function(){t.prototype.createValueAxis.call(this),this.axisY=this.valueAxis},e.prototype.appendChart=function(t,e){this.valueAxisRangeTracker.update(t.yAxisRanges),oa.prototype.appendChart.call(this,t,e)},e.prototype.createCharts=function(){var t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createLineChart($t(t,[bi]),e),this.createScatterChart($t(t,[wi]),e),this.createAreaChart($t(t,[mi]),e)},e.prototype.createLineChart=function(t,e){if(0!==t.length){var n=new cl(this,{series:t});this.appendChart(n,e)}},e.prototype.createScatterChart=function(t,e){if(0!==t.length){var n=new ll(this,{series:t});this.appendChart(n,e)}},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var n=new hl(this,{series:t});this.appendChart(n,e)}},e.prototype._dispatchEvent=function(t,e,n){var r=t._eventCoordinates(e),o=new yr(r.x,r.y),i=this.axisX.getValue(o),s=this.axisY.getValue(o);null!==i&&null!==s&&t.trigger(n,{element:or(e),x:i,y:s})},e.prototype.createCrosshairs=function(){},e}(al);M(fl,{xAxis:{},yAxis:{}}),f(fl.prototype,sa);var dl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointSlot=function(t,e){var n=t.center.y-e.y1,r=yr.onCircle(t.center,t.middle(),n);return new gr(r.x,r.y,r.x,r.y)},e.prototype.renderSegments=function(){if(t.prototype.renderSegments.call(this),this._segments&&this._segments.length>1)for(var e=me(this._segments),n=0;n<e.length;n++){var r=e[n];if(r&&r.length>1){var o=r[0].linePoints[0],i=sr(r),s=sr(i.linePoints),a=0===o.categoryIx,l=s.categoryIx===s.categoriesCount-1;a&&l&&sr(r).linePoints.push(o)}}},e.prototype.createSegment=function(t,e,n){var r,o=e.style;r=o===ri?ks:ws;var i=new r(t,e,n),s=this.seriesMissingValues(e);return t.length!==e.data.length&&s!==Qo||(i.options.closed=!0),i},e}(Ms);M(dl,{clip:!1,limitPoints:!1});var vl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(){},e}(Ps),yl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(){},e}(Ts),gl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,n,r){var o,i,s,a=this.options.isStacked,l=(e.line||{}).style;return a&&n>0&&r&&(i=r.linePoints.slice(0),o=r),l===ri?(s=new vl(t,e,n,o,i),s.options.closed=!0):(t.push(t[0]),s=new yl(t,e,n,o,i)),s},e.prototype.seriesMissingValues=function(t){return t.missingValues||Zo},e}(dl),ml=function(t){function e(e,n){t.call(this,e,null,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(nl);M(ml,{overlay:{gradient:"none"},labels:{distance:10}});var bl=function(t){function e(e){t.call(this,e),this.forEach=e.rtl?Nt:Lt}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this,n=e.options,r=e.children,o=n.gap,i=n.spacing,s=r.length,a=s+o+i*(s-1),l=t.angle/a,c=t.startAngle+l*(o/2);this.forEach(r,function(e){var n=t.clone();n.startAngle=c,n.angle=l,e.sector&&(n.radius=e.sector.radius),e.reflow(n),e.sector=n,c+=l+l*i})},e}(xr);M(bl,{gap:1,spacing:0});var wl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this,n=e.options.reverse,r=e.children,o=r.length,i=n?o-1:0,s=n?-1:1;this.box=new gr;for(var a=i;a>=0&&a<o;a+=s){var l=r[a].sector;l.startAngle=t.startAngle,l.angle=t.angle}},e}(xr),_l=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return ml},e.prototype.clusterType=function(){return bl},e.prototype.stackType=function(){return wl},e.prototype.categorySlot=function(t,e){return t.getSlot(e)},e.prototype.pointSlot=function(t,e){var n=t.clone(),r=t.center.y;return n.radius=r-e.y1,n.innerRadius=r-e.y2,n},e.prototype.reflowPoint=function(t,e){t.sector=e,t.reflow()},e.prototype.createAnimation=function(){this.options.animation.center=this.box.toRect().center(),t.prototype.createAnimation.call(this)},e}(Ls);_l.prototype.reflow=ys.prototype.reflow,M(_l,{clip:!1,limitPoints:!1,animation:{type:"pie"}});var xl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createPolarAxis=function(){var t=new _o(this.options.categoryAxis,this.chartService);this.polarAxis=t,this.categoryAxis=t,this.appendAxis(t),this.aggregateCategories(),this.createCategoryAxesLabels()},e.prototype.valueAxisOptions=function(t){return this._hasBarCharts&&f(t,{majorGridLines:{type:qe},minorGridLines:{type:qe}}),this._isStacked100&&f(t,{roundToMajorUnit:!1,labels:{format:"P0"}}),f(t,this.options.valueAxis)},e.prototype.aggregateCategories=function(){Ca.prototype.aggregateCategories.call(this,this.panes)},e.prototype.createCategoryAxesLabels=function(){Ca.prototype.createCategoryAxesLabels.call(this,this.panes)},e.prototype.filterSeries=function(t){return t},e.prototype.createCharts=function(){var t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createAreaChart($t(t,[_i]),e),this.createLineChart($t(t,[ki]),e),this.createBarChart($t(t,[xi]),e)},e.prototype.chartOptions=function(t){var e={series:t},n=t[0];if(n){var r=this.filterVisibleSeries(t),o=n.stack;e.isStacked=o&&r.length>1,e.isStacked100=o&&"100%"===o.type&&r.length>1,e.isStacked100&&(this._isStacked100=!0)}return e},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var n=new gl(this,this.chartOptions(t));this.appendChart(n,e)}},e.prototype.createLineChart=function(t,e){if(0!==t.length){var n=new dl(this,this.chartOptions(t));this.appendChart(n,e)}},e.prototype.createBarChart=function(t,e){if(0!==t.length){var n=t[0],r=this.chartOptions(t);r.gap=n.gap,r.spacing=n.spacing;var o=new _l(this,r);this.appendChart(o,e),this._hasBarCharts=!0}},e.prototype.seriesCategoryAxis=function(){return this.categoryAxis},e.prototype._dispatchEvent=function(t,e,n){var r=t._eventCoordinates(e),o=new yr(r.x,r.y),i=this.categoryAxis.getCategory(o),s=this.valueAxis.getValue(o);null!==i&&null!==s&&t.trigger(n,{element:or(e),category:i,value:s})},e.prototype.createCrosshairs=function(){},e}(al);f(xl.prototype,sa,{appendChart:Ca.prototype.appendChart,aggregateSeries:Ca.prototype.aggregateSeries,seriesSourcePoints:Ca.prototype.seriesSourcePoints}),M(xl,{categoryAxis:{categories:[]},valueAxis:{}});var kl=function(t){function e(e,n,r){t.call(this,n),this.value=e,this.options.index=r.index}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.points,n=this.children[0];this.box=new gr(e[0].x,e[0].y,e[1].x,e[2].y),n&&n.reflow(new gr(t.x1,e[0].y,t.x2,e[2].y))},e.prototype.createVisual=function(){var e,n=this,r=this.options;t.prototype.createVisual.call(this),e=r.visual?r.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:r,sender:this.getSender(),createVisual:function(){return n.createPath()}}):this.createPath(),e&&this.visual.append(e)},e.prototype.createPath=function(){var t=this.options,e=t.border,n=Ke.drawing.Path.fromPoints(this.points,{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.color,opacity:e.opacity,width:e.width}}).close();return n},e.prototype.createHighlight=function(t){return Ke.drawing.Path.fromPoints(this.points,t)},e.prototype.highlightVisual=function(){return this.visual.children[0]},e.prototype.highlightVisualArgs=function(){var t=Ke.drawing.Path.fromPoints(this.points).close();return{options:this.options,path:t}},e.prototype.tooltipAnchor=function(){var t=this.box;return{point:new yr(t.center().x,t.y1),align:{horizontal:"center",vertical:"top"}}},e.prototype.formatValue=function(t){var e=this;return e.owner.formatPointValue(e,t)},e}(xr);M(kl,{color:On,border:{width:1}}),f(kl.prototype,gs);var Sl=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.points=[],this.labels=[],this.legendItems=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value)},e.prototype.render=function(){var t=this,e=this,n=e.options,r=e.plotArea.options.seriesColors;void 0===r&&(r=[]);var o=n.series[0],i=o.data;if(i)for(var s=Wt(o),a=s.total,l=s.points,c=0;c<l.length;c++){var u=l[c];if(u){var h=u.fields;p(o.color)||(o.color=h.color||r[c%r.length]),h=f({index:c,owner:t,series:o,dataItem:i[c],percentage:u.value/a},h,{visible:u.visible});var d=u.valueFields.value,v=t.createSegment(d,h),y=t.createLabel(d,h);v&&y&&v.append(y)}}},e.prototype.evalSegmentOptions=function(t,e,n){var r=n.series;Dt(t,{value:e,series:r,dataItem:n.dataItem,index:n.index},{defaults:r._defaults,excluded:["data","content","template","toggle","visual"]})},e.prototype.createSegment=function(t,e){var n=f({},e.series);if(this.evalSegmentOptions(n,t,e),this.createLegendItem(t,n,e),e.visible!==!1){var r=new kl(t,n,e);return Object.assign(r,e),this.append(r),this.points.push(r),r}},e.prototype.createLabel=function(t,e){var n=e.series,r=e.dataItem,o=f({},this.options.labels,n.labels),i=t;if(o.visible){var s=b(o),a={dataItem:r,value:t,percentage:e.percentage,category:e.category,series:n};if(s?i=s(a):o.format&&(i=this.plotArea.chartService.format.auto(o.format,i)),!o.color){var l=new Ke.Color(n.color).percBrightness();l>180?o.color=Ge:o.color=On,o.background||(o.background=n.color)}this.evalSegmentOptions(o,t,e);var c=new Dr(i,f({vAlign:o.position},o),a);return this.labels.push(c),c}},e.prototype.labelPadding=function(){for(var t=this.labels,e={left:0,right:0},n=0;n<t.length;n++){var r=t[n],o=r.options.align;if(o!==Ye){var i=t[n].box.width();o===un?e.left=Math.max(e.left,i):e.right=Math.max(e.right,i)}}return e},e.prototype.dynamicSlopeReflow=function(t,e,n){for(var r=this,o=r.options,i=r.points,s=i.length,a=i[0],l=a,c=0;c<i.length;c++)i[c].percentage>l.percentage&&(l=i[c]);for(var u=a.percentage/l.percentage*e,p=(e-u)/2,h=0,f=0;f<s;f++){var d=i[f].percentage,v=i[f+1],y=v?v.percentage:d,g=i[f].points=[],m=o.dynamicHeight?n*d:n/s,b=void 0;b=d?(e-u*(y/d))/2:y?0:e/2,b=ar(b,0,e),g.push(new Ke.geometry.Point(t.x1+p,t.y1+h)),g.push(new Ke.geometry.Point(t.x1+e-p,t.y1+h)),g.push(new Ke.geometry.Point(t.x1+e-b,t.y1+m+h)),g.push(new Ke.geometry.Point(t.x1+b,t.y1+m+h)),p=b,h+=m+o.segmentSpacing,u=ar(e-2*b,0,e)}},e.prototype.constantSlopeReflow=function(t,e,n){for(var r=this,o=r.options,i=r.points,s=i.length,a=o.neckRatio<=1,l=a?o.neckRatio*e:e,c=a?0:(e-e/o.neckRatio)/2,u=a?e:e-2*c,p=(u-l)/2,h=0,f=0;f<s;f++){var d=i[f].points=[],v=i[f].percentage,y=o.dynamicHeight?p*v:p/s,g=o.dynamicHeight?n*v:n/s;d.push(new Ke.geometry.Point(t.x1+c,t.y1+h)),d.push(new Ke.geometry.Point(t.x1+e-c,t.y1+h)),d.push(new Ke.geometry.Point(t.x1+e-c-y,t.y1+g+h)),d.push(new Ke.geometry.Point(t.x1+c+y,t.y1+g+h)),c+=y,h+=g+o.segmentSpacing}},e.prototype.reflow=function(t){var e=this.points,n=e.length;if(n){var r=this.options,o=t.clone().unpad(this.labelPadding()),i=o.height()-r.segmentSpacing*(n-1),s=o.width();r.dynamicSlope?this.dynamicSlopeReflow(o,s,i):this.constantSlopeReflow(o,s,i);for(var a=0;a<n;a++)e[a].reflow(t)}},e}(xr);M(Sl,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:Ye,position:Ye,zIndex:1}}),f(Sl.prototype,Za);var Ol=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createFunnelChart(this.series)},e.prototype.createFunnelChart=function(t){var e=t[0],n=new Sl(this,{series:t,legend:this.options.legend,neckRatio:e.neckRatio,dynamicHeight:e.dynamicHeight,dynamicSlope:e.dynamicSlope,segmentSpacing:e.segmentSpacing,highlight:e.highlight});this.appendChart(n)},e.prototype.appendChart=function(e,n){t.prototype.appendChart.call(this,e,n),Zn(this.options.legend.items,e.legendItems)},e}(oa),Cl="color",Ml="first",Tl="from",El="max",Pl="min",Al="noteText",jl="summary",Dl="to";Fa.current.register(Ca,[si,pi,vi,ji,ii,Ei,ui,yi,ci,Ai,ai,Pi,Ci,Oi,Ri,di,Si,Di]),Fa.current.register($a,[Mi,Ti,li]),Fa.current.register(el,[gi]),Fa.current.register(il,[hi]),Fa.current.register(Ol,[fi]),Fa.current.register(fl,[mi,bi,wi]),Fa.current.register(xl,[_i,xi,ki]),Do.current.register([si,pi,vi,ji,ii,Ei],[Sn],[ss,Cl,Al,qo,Wo]),Do.current.register([Ci,Oi,Si,Di],[Tl,Dl],[ss,Cl,Al]),Do.current.register([Ri,di],[Sn],[ss,Cl,Al,jl]),Do.current.register([mi,bi,wi],[Mn,Tn],[Cl]),Do.current.register([_i,xi,ki],[Sn],[Cl]),Do.current.register([fi],[Sn],[ss,Cl,"visibleInLegend","visible"]),la.current.register([si,pi,vi,ji,ii,Ei,Ri,di],{value:El,color:Ml,noteText:Ml,errorLow:Pl,errorHigh:El}),la.current.register([Ci,Oi,Si,Di],{from:Pl,to:El,color:Ml,noteText:Ml}),la.current.register([_i,xi,ki],{value:El,color:Ml}),Do.current.register([Mi,Ti,li],[Mn,Tn],[Cl,Al,Go,$o,Yo,Xo]),Do.current.register([li],[Mn,Tn,"size"],[Cl,ss,Al]),Do.current.register([ui,yi],["open","high","low","close"],[ss,Cl,"downColor",Al]),la.current.register([ui,yi],{open:El,high:El,low:Pl,close:El,color:Ml,downColor:Ml,noteText:Ml}),Do.current.register([ai,Pi],["lower","q1","median","q3","upper","mean","outliers"],[ss,Cl,Al]),la.current.register([ai,Pi],{lower:El,q1:El,median:El,q3:El,upper:El,mean:El,outliers:Ml,color:Ml,noteText:Ml}),Do.current.register([ci,Ai],["current","target"],[ss,Cl,"visibleInLegend",Al]),la.current.register([ci,Ai],{current:El,target:El,color:Ml,noteText:Ml}),Do.current.register([gi,hi],[Sn],[ss,Cl,"explode","visibleInLegend","visible"]);var Rl=[ss,Sn,Mn,Tn],Il="mousemove",zl="contextmenu",Fl="mouseleave",Ll=20,Nl=function(t){function e(e,n,r,o){var i=this;void 0===o&&(o={}),t.call(this),this.observers=[],this.addObserver(o.observer),this.chartService=new Bn(this,o),this.chartService.theme=r,this._initElement(e);var s=f({},this.options,n);this._originalOptions=f({},s),this._theme=r,this._initTheme(s,r),this._initHandlers(),this._initSurface(),this.bindCategories(),fr.preloadFonts(n,function(){i.fontLoaded=!0,i._destroyed||(i.trigger("init"),i._redraw(),i._attachEvents())})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initElement=function(t){for(this._setElementClass(t),t.style.position="relative";t.firstChild;)t.removeChild(t.firstChild);this.element=t},e.prototype._setElementClass=function(t){o(t,"k-chart")},e.prototype._initTheme=function(t,e){for(var n=[],r=t.series||[],o=0;o<r.length;o++)n.push(Object.assign({},r[o]));t.series=n,be(t),this.applyDefaults(t,e),null===t.seriesColors&&delete t.seriesColors,this.options=f({},e,t),this.applySeriesColors()},e.prototype.getSize=function(){var t=this.options.chartArea||{},e=t.width?parseInt(t.width,10):Math.floor(this.element.offsetWidth),n=t.height?parseInt(t.height,10):Math.floor(this.element.offsetHeight);return{width:e,height:n}},e.prototype.resize=function(t){var e=this.getSize(),n=this._size,r=e.width>0||e.height>0;t||r&&(!n||e.width!==n.width||e.height!==n.height)?(this._size=e,this._resize(e,t),this.trigger("resize",e)):r&&this._selections&&E(this._selections,function(t){return!t.visible})&&(this._destroySelections(),this._setupSelection())},e.prototype._resize=function(){this._noTransitionsRedraw()},e.prototype.redraw=function(t){if(this.applyDefaults(this.options),this.applySeriesColors(),t){var e=this._model._plotArea,n=e.findPane(t);e.redraw(n)}else this._redraw()},e.prototype.getAxis=function(t){return Pt(t,this._plotArea.axes)},e.prototype.findAxisByName=function(t){return this.getAxis(t)},e.prototype.findPaneByName=function(t){for(var e=this._plotArea.panes,n=0;n<e.length;n++)if(e[n].options.name===t)return new Po(e[n])},e.prototype.findPaneByIndex=function(t){var e=this._plotArea.panes;if(e[t])return new Po(e[t])},e.prototype.plotArea=function(){return new Ao(this._plotArea)},e.prototype.toggleHighlight=function(t,e){var n,r=this._plotArea,o=(r.srcSeries||r.series||[])[0];if(p(e))n=r.filterPoints(e);else{var i,s;d(e)?(i=e.series,s=e.category):i=s=e,n=o.type===hi?we(r.pointsBySeriesName(i),s):o.type===gi||o.type===fi?we((r.charts[0]||{}).points,s):r.pointsBySeriesName(i)}n&&this.togglePointsHighlight(t,n)},e.prototype.togglePointsHighlight=function(t,e){for(var n=this._highlight,r=0;r<e.length;r++)n.togglePointHighlight(e[r],t)},e.prototype.showTooltip=function(t){var e,n,r=this._sharedTooltip(),o=this,i=o._tooltip,s=o._plotArea;if(p(t)?(e=s.findPoint(t),e&&r&&(n=e.categoryIx)):r&&tr(t)&&(n=s.categoryAxis.categoryIndex(t)),r){if(n>=0){var a=this._plotArea.pointsByCategoryIndex(n);i.showAt(a)}}else e&&i.show(e)},e.prototype.hideTooltip=function(){this._tooltip.hide()},e.prototype._initSurface=function(){var t=this.surface,e=this._surfaceWrap(),n=this.options.chartArea||{};n.width&&rr(e,{width:n.width}),n.height&&rr(e,{height:n.height}),t&&t.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=Ke.drawing.Surface.create(e,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))},e.prototype._surfaceWrap=function(){return this.element},e.prototype._redraw=function(){var t=this._getModel();this._size={width:t.options.width,height:t.options.height
},this._destroyView(),this._model=t,this._plotArea=t._plotArea,t.renderVisual(),this.options.transitions!==!1&&t.traverse(function(t){t.animation&&t.animation.setup()}),this._initSurface(),this.surface.draw(t.visual),this.options.transitions!==!1&&t.traverse(function(t){t.animation&&t.animation.play()}),this._tooltip=this._createTooltip(),this._highlight=new Ma,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger(es),Ee(this._plotArea.panes),this._navState||this._cancelDomEvents()},e.prototype.exportVisual=function(t){var e;if(t&&(t.width||t.height||t.options)){var n=this.options,r=f({},t.options,{chartArea:{width:t.width,height:t.height}});Te(this._originalOptions,r),this.options=f({},this._originalOptions,r),this._initTheme(this.options,this._theme),this.bindCategories();var o=this._getModel();o.renderVisual(),Ee(o._plotArea.panes),e=o.visual,this.options=n}else e=this.surface.exportVisual();return e},e.prototype._sharedTooltip=function(){return this._plotArea instanceof Ca&&this.options.tooltip&&this.options.tooltip.shared},e.prototype._createPannable=function(){var t=this.options;t.pannable!==!1&&(this._pannable=new Ta(this._plotArea,t.pannable))},e.prototype._createZoomSelection=function(){var t=this.options.zoomable,e=(t||{}).selection;t!==!1&&e!==!1&&(this._zoomSelection=new Ea(this,e))},e.prototype._createMousewheelZoom=function(){var t=this.options.zoomable,e=(t||{}).mousewheel;t!==!1&&e!==!1&&(this._mousewheelZoom=new Pa(this,e))},e.prototype._toggleDragZoomEvents=function(){var t=this.options.pannable,e=this.options.zoomable,n=(e||{}).selection,r=(e||{}).mousewheel,o=!(t||e!==!1&&n!==!1||this.requiresHandlers([$i,Wi,Gi])),i=(e===!1||r===!1)&&!this.requiresHandlers([Yi,Xi,Ji]),s=this.element;this._dragZoomEnabled&&o&&i?(s.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):this._dragZoomEnabled||o&&i||(s.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!o,!i)},e.prototype._toggleDomEvents=function(t,e){var n=this.domEvents;n&&(n.toggleDrag&&n.toggleDrag(t),n.toggleZoom&&n.toggleZoom(e))},e.prototype._createTooltip=function(){var t,e=this,n=e.options.tooltip;return t=this._sharedTooltip()?this._createSharedTooltip(n):new Va(this.chartService,n)},e.prototype._createSharedTooltip=function(t){return new Ha(this._plotArea,t)},e.prototype.applyDefaults=function(t,e){_e(t,e),xe(t,e)},e.prototype.applySeriesColors=function(){for(var t=this.options,e=t.series,n=t.seriesColors||[],r=0;r<e.length;r++){var o=e[r],i=n[r%n.length],s=o._defaults;o.color=o.color||i,s&&(s.color=s.color||i)}},e.prototype._getModel=function(){var t=this.options,e=this._createPlotArea(),n=new Tr(this._modelOptions());return n.chart=this,n._plotArea=e,Rr.buildTitle(t.title,n),t.legend&&t.legend.visible&&n.append(new za(e.options.legend,this.chartService)),n.append(e),n.reflow(),n},e.prototype._modelOptions=function(){var t=this.options,e=this.getSize();return f({transitions:t.transitions,width:e.width||rn,height:e.height||en},t.chartArea)},e.prototype._createPlotArea=function(t){var e=this.options,n=Fa.current.create(t?[]:e.series,e,this.chartService);return n},e.prototype._setupSelection=function(){for(var t=this,e=this,n=e._plotArea.axes,r=this._selections=[],o=0;o<n.length;o++){var i=n[o],s=i.options;if(i instanceof oo&&s.select&&!s.vertical){var a=i.range(),l=new Ba(t,i,f({min:a.min,max:a.max},s.select));r.push(l)}}},e.prototype._selectStart=function(t){return this.trigger(Zi,t)},e.prototype._select=function(t){return this.trigger(Qi,t)},e.prototype._selectEnd=function(t){return this.trigger(ts,t)},e.prototype._initHandlers=function(){this._clickHandler=this._click.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=Ke.throttle(this._mousemove.bind(this),Ll)},e.prototype.addObserver=function(t){t&&this.observers.push(t)},e.prototype.removeObserver=function(t){var e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)},e.prototype.requiresHandlers=function(t){for(var e=this.observers,n=0;n<e.length;n++)if(e[n].requiresHandlers(t))return!0},e.prototype.trigger=function(t,e){void 0===e&&(e={}),t===ns&&(e.anchor.point=this._toDocumentCoordinates(e.anchor.point)),e.sender=this;for(var n=this.observers,r=!1,o=0;o<n.length;o++)n[o].trigger(t,e)&&(r=!0);return r},e.prototype._attachEvents=function(){var t=this.element;this._touchAction=t.style.touchAction;var e;if(Qn(t,(e={},e[zl]=this._clickHandler,e[us]=this._mousewheelHandler,e[Fl]=this._mouseleaveHandler,e)),this._shouldAttachMouseMove()){var n;Qn(t,(n={},n[Il]=this._mousemove,n))}this.domEvents=Un.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()},e.prototype._mouseleave=function(t){this._hoveredPoint&&(this._hoveredPoint.out(this,t),this._hoveredPoint=null),this._plotArea.hovered&&(this.trigger(qi),this._plotArea.hovered=!1)},e.prototype._cancelDomEvents=function(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()},e.prototype._gesturestart=function(t){this._mousewheelZoom&&!this._stopChartHandlers(t)&&(this._gestureDistance=t.distance,this._unsetActivePoint(),this.surface.suspendTracking())},e.prototype._gestureend=function(t){this._zooming&&!this._stopChartHandlers(t)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(Ji,{}))},e.prototype._gesturechange=function(t){var e=this._mousewheelZoom;if(e&&!this._stopChartHandlers(t)){t.preventDefault();var n=this._gestureDistance,r=-t.distance/n+1;if(Math.abs(r)>=.1){r=Math.round(10*r),this._gestureDistance=t.distance;var o={delta:r,axisRanges:Se(this._plotArea.axes),originalEvent:t};if(this._zooming||!this.trigger(Yi,o)){this._zooming||(this._zooming=!0);var i=o.axisRanges=e.updateRanges(r);i&&!this.trigger(Xi,o)&&e.zoom()}}}},e.prototype._mouseout=function(t){if(t.element){var e=this._drawingChartElement(t.element,t);e&&e.leave&&e.leave(this,t.originalEvent)}},e.prototype._start=function(t){var e=this._eventCoordinates(t);!this._stopChartHandlers(t)&&this._plotArea.backgroundContainsPoint(e)&&(this.requiresHandlers([$i,Wi,Gi])&&this._startNavigation(t,e,$i),this._pannable&&this._pannable.start(t)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(t)&&this.trigger(Yi,{axisRanges:Se(this._plotArea.axes),originalEvent:t}))},e.prototype._move=function(t){var e=this,n=e._navState,r=e._pannable;if(!this._stopChartHandlers(t)){if(r){var o=r.move(t);o&&!this.trigger(Wi,{axisRanges:o,originalEvent:t})&&r.pan()}else if(n){for(var i={},s=n.axes,a=0;a<s.length;a++){var l=s[a],c=l.options.name;if(c){var u=l.options.vertical?t.y:t.x,p=u.startLocation-u.location;0!==p&&(i[l.options.name]=l.translateRange(p))}}n.axisRanges=i,this.trigger(Wi,{axisRanges:i,originalEvent:t})}this._zoomSelection&&this._zoomSelection.move(t)}},e.prototype._end=function(t){if(!this._stopChartHandlers(t)){var e=this._pannable;if(e&&e.end(t)?(this.surface.resumeTracking(),this.trigger(Gi,{axisRanges:Se(this._plotArea.axes),originalEvent:t}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(t,Gi),this._zoomSelection){var n=this._zoomSelection.end(t);n&&!this.trigger(Xi,{axisRanges:n,originalEvent:t})&&(this._zoomSelection.zoom(),this.trigger(Ji,{axisRanges:n,originalEvent:t}))}}},e.prototype._stopChartHandlers=function(t){var e=this._selections||[];if(!e.length)return!1;var n=this._eventCoordinates(t),r=this._plotArea.paneByPoint(n);if(r)for(var o=0;o<e.length;o++)if(e[o].onPane(r))return!0},e.prototype._mousewheel=function(t){var e=this,n=C(t),r=this._mousewheelZoom,o=this._eventCoordinates(t);if(!this._stopChartHandlers(t)&&this._plotArea.backgroundContainsPoint(o))if(r){var i={delta:n,axisRanges:Se(this._plotArea.axes),originalEvent:t};!this._zooming&&this.trigger(Yi,i)||(t.preventDefault(),this._zooming||(this._unsetActivePoint(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),i.axisRanges=r.updateRanges(n),i.axisRanges&&!this.trigger(Xi,i)&&r.zoom(),this._mwTimeout=setTimeout(function(){e.trigger(Ji,i),e._zooming=!1,e.surface&&e.surface.resumeTracking()},ps))}else{var s=this._navState;if(!s){var a=this._startNavigation(t,o,Yi);a||(s=this._navState)}if(s){var l=s.totalDelta||n;s.totalDelta=l+n;for(var c=this._navState.axes,u={},p=0;p<c.length;p++){var h=c[p],f=h.options.name;f&&(u[f]=h.scaleRange(-l))}this.trigger(Xi,{delta:n,axisRanges:u,originalEvent:t}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(function(){e._endNavigation(t,Ji)},ps)}}},e.prototype._startNavigation=function(t,e,n){var r=this._model._plotArea,o=r.findPointPane(e),i=r.axes.slice(0);if(o){var s=Se(i),a=this.trigger(n,{axisRanges:s,originalEvent:t});a?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._navState={axisRanges:s,pane:o,axes:i})}},e.prototype._endNavigation=function(t,e){this._navState&&(this.trigger(e,{axisRanges:this._navState.axisRanges,originalEvent:t}),this._suppressHover=!1,this._navState=null)},e.prototype._getChartElement=function(t,e){var n=this.surface.eventTarget(t);if(n)return this._drawingChartElement(n,t,e)},e.prototype._drawingChartElement=function(t,e,n){for(var r,o=t;o&&!r;)r=o.chartElement,o=o.parent;if(r)return r.aliasFor&&(r=r.aliasFor(e,this._eventCoordinates(e))),n&&(r=r.closest(n),r&&r.aliasFor&&(r=r.aliasFor())),r},e.prototype._eventCoordinates=function(t){var e=ir(t);return this._toModelCoordinates(e.x,e.y)},e.prototype._elementPadding=function(){if(!this._padding){var t=g(this.element,["paddingLeft","paddingTop"]),e=t.paddingLeft,n=t.paddingTop;this._padding={top:n,left:e}}return this._padding},e.prototype._toDocumentCoordinates=function(t){var e=this._elementPadding(),n=nr(this.element);return{left:ur(t.x+e.left+n.left),top:ur(t.y+e.top+n.top)}},e.prototype._toModelCoordinates=function(t,e){var n=this.element,r=nr(n),o=this._elementPadding(),i=j(n).invert(),s=new Ke.geometry.Point(t-r.left-o.left,e-r.top-o.top).transform(i);return new yr(s.x,s.y)},e.prototype._tap=function(t){var e=this,n=this.surface.eventTarget(t),r=this._drawingChartElement(n,t),o=this._sharedTooltip();this._startHover(n,t)||o||this._unsetActivePoint(),o&&this._trackSharedTooltip(this._eventCoordinates(t),t,!0),this._propagateClick(r,t),this.handlingTap=!0,setTimeout(function(){e.handlingTap=!1},0)},e.prototype._click=function(t){var e=this._getChartElement(t);this._propagateClick(e,t)},e.prototype._propagateClick=function(t,e){for(var n=this,r=t;r;)r.click&&r.click(n,e),r=r.parent},e.prototype._startHover=function(t,e){if(this._suppressHover)return!1;var n=this._drawingChartElement(t,e,function(t){return(t.hover||t.over)&&!(t instanceof oa)}),r=this._activePoint,o=this._hoveredPoint;if(o&&o!==n&&(o.out(this,e),this._hoveredPoint=null),n&&o!==n&&n.over&&(this._hoveredPoint=n,n.over(this,e)),n&&r!==n&&n.hover&&(this._activePoint=n,!this._sharedTooltip()&&!n.hover(this,e))){var i=f({},this.options.tooltip,n.options.tooltip);i.visible&&this._tooltip.show(n),this._highlight.show(n)}return n},e.prototype._mouseover=function(t){var e=this._startHover(t.element,t.originalEvent);if(e&&e.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()){this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this);var n;Qn(document,(n={},n[Il]=this._mouseMoveTrackHandler,n))}},e.prototype._mouseMoveTracking=function(t){var e=this,n=e.options,r=e._tooltip,o=e._highlight,i=e._activePoint,s=this._eventCoordinates(t);if(this._plotArea.box.containsPoint(s)){if(i&&i.tooltipTracking&&i.series&&i.parent.getNearestPoint){var a=i.parent.getNearestPoint(s.x,s.y,i.seriesIx);if(a&&a!==i&&(this._activePoint=a,!a.hover(this,t))){var l=f({},n.tooltip,a.options.tooltip);l.visible&&r.show(a),o.show(a)}}}else{var c;pr(document,(c={},c[Il]=this._mouseMoveTrackHandler,c)),this._unsetActivePoint(),this._mouseMoveTrackHandler=null}},e.prototype._mousemove=function(t){var e=this._eventCoordinates(t),n=this._plotArea;if(this._trackCrosshairs(e),n.hover){var r=n.backgroundContainsPoint(e);r?(n.hovered=!0,this._plotArea.hover(this,t)):n.hovered&&!r&&(this.trigger(qi),n.hovered=!1)}this._sharedTooltip()&&this._trackSharedTooltip(e,t)},e.prototype._trackCrosshairs=function(t){for(var e=this._plotArea.crosshairs,n=0;n<e.length;n++){var r=e[n];r.box.containsPoint(t)?r.showAt(t):r.hide()}},e.prototype._trackSharedTooltip=function(t,e,n){if(!this._suppressHover){var r=this,o=r.options.tooltip,i=r._plotArea,s=r._plotArea.categoryAxis,a=r._tooltip,l=r._highlight;if(i.backgroundContainsPoint(t)){var c=s.pointCategoryIndex(t);if(c!==this._tooltipCategoryIx||!this._sharedHighlight&&n){var u=i.pointsByCategoryIndex(c),p=u.map(function(t){return t.eventArgs(e)}),h=p[0]||{};h.categoryPoints=p,u.length>0&&!this.trigger(Bi,h)?(o.visible&&a.showAt(u,t),l.show(u),this._sharedHighlight=!0):a.hide(),this._tooltipCategoryIx=c}else n&&this._sharedHighlight&&(l.hide(),a.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(l.hide(),a.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}},e.prototype.hideElements=function(t){var e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint(t)},e.prototype._unsetActivePoint=function(t){var e=this,n=e._tooltip,r=e._highlight;this._activePoint=null,this._hoveredPoint=null,!n||t&&t.keepTooltipOpen||n.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,r&&r.hide()},e.prototype._deferRedraw=function(){this._redraw()},e.prototype._clearRedrawTimeout=function(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)},e.prototype.bindCategories=function(){for(var t=this,e=this.options,n=[].concat(e.categoryAxis),r=0;r<n.length;r++){var o=n[r];o.autoBind!==!1&&t.bindCategoryAxisFromSeries(o,r)}},e.prototype.bindCategoryAxisFromSeries=function(t,e){for(var n,r=this,o=this.options.series,i=o.length,s=new $n,a=[],l=!1,c=0;c<i;c++){var u=o[c],p=u.categoryAxis===t.name||!u.categoryAxis&&0===e,h=u.data,f=h.length,d=u.categoryField&&p;if(l=d||l,d&&f>0){n=Xt(t,jt(u.categoryField,h[0]));for(var v=n?Yt:jt,y=0;y<f;y++){var g=h[y],m=v(u.categoryField,g,r.chartService.intl);!n&&s.get(m)||(a.push([m,g]),n||s.set(m,!0))}}}if(a.length>0){n&&(a=Ce(a,function(t,e){return X(t[0],e[0])}));var b=Me(a);t.categories=b[0]}else l&&(t.categories=[])},e.prototype._isBindable=function(t){for(var e=Do.current.valueFields(t),n=!0,r=0;r<e.length;r++){var o=e[r];if(o===Sn?o="field":o+="Field",!tr(t[o])){n=!1;break}}return n},e.prototype._noTransitionsRedraw=function(){var t,e=this.options;e.transitions!==!1&&(e.transitions=!1,t=!0),this._redraw(),t&&(e.transitions=!0)},e.prototype._legendItemHover=function(t,e){var n,r=this,o=r._plotArea,i=r._highlight,s=(o.srcSeries||o.series)[t];n=k(s.type,[gi,hi,fi])?o.findPoint(function(n){return n.series.index===t&&n.index===e}):o.pointsBySeriesIndex(t),i.show(n)},e.prototype._shouldAttachMouseMove=function(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([Ki,qi])},e.prototype.updateMouseMoveHandler=function(){var t;if(pr(this.element,(t={},t[Il]=this._mousemove,t)),this._shouldAttachMouseMove()){var e;Qn(this.element,(e={},e[Il]=this._mousemove,e))}},e.prototype.applyOptions=function(t,e){Te(this._originalOptions,t),this._originalOptions=f(this._originalOptions,t),this.options=f({},this._originalOptions),e&&(this._theme=e,this.chartService.theme=e),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()},e.prototype.setOptions=function(t,e){this.applyOptions(t,e),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()},e.prototype.setDirection=function(t){this.chartService.rtl=Boolean(t),this.surface&&"svg"===this.surface.type&&this._destroySurface()},e.prototype.setIntlService=function(t){this.chartService.intl=t},e.prototype.noTransitionsRedraw=function(){this._noTransitionsRedraw()},e.prototype.destroy=function(){this._destroyed=!0;var t;if(pr(this.element,(t={},t[zl]=this._clickHandler,t[us]=this._mousewheelHandler,t[Il]=this._mousemove,t[Fl]=this._mouseleaveHandler,t)),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler){var e;pr(document,(e={},e[Il]=this._mouseMoveTrackHandler,e))}this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()},e.prototype._destroySurface=function(){var t=this.surface;t&&(t.unbind("mouseenter",this._surfaceMouseenterHandler),t.unbind("mouseleave",this._surfaceMouseleaveHandler),t.destroy(),this.surface=null)},e.prototype._destroySelections=function(){var t=this._selections;if(t)for(;t.length>0;)t.shift().destroy()},e.prototype._destroyView=function(){var t=this._model;t&&(t.destroy(),this._model=null),this._unsetActivePoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)},e}(Ke.Class),Bl=["data","categories"];M(Nl,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},seriesDefaults:{type:pi,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});var Vl=-2,Hl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._slotAnchor=function(t,e){var n,r=this.plotArea.categoryAxis,o=r.options.vertical,i=o?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};return n=o?new yr(this.plotArea.box.x2,e.center().y):new yr(e.center().x,Vl),{point:n,align:i}},e.prototype._defaultAnchor=function(t,e){return this._slotAnchor({},e)},e}(Ha),Ul=150,Kl=150,ql=[si,ci],Wl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._setElementClass=function(t){o(t,"k-sparkline")},e.prototype._initElement=function(e){t.prototype._initElement.call(this,e),this._initialWidth=Math.floor(rr(e).width)},e.prototype._resize=function(){var e=this.element,n=Pe(e.childNodes);this._initialWidth=Math.floor(rr(e).width),Ae(e.childNodes,n),t.prototype._resize.call(this)},e.prototype._modelOptions=function(){var t=this.options,e=this._surfaceWrap(),n=Pe(e.childNodes),r=document.createElement("span");r.innerHTML="&nbsp;",e.appendChild(r);var o=f({width:this._autoWidth,height:rr(e).height,transitions:t.transitions},t.chartArea,{inline:!0,align:!1});return rr(e,{width:o.width,height:o.height}),e.removeChild(r),Ae(e.childNodes,n),this.surface&&this.surface.resize(),o},e.prototype._surfaceWrap=function(){if(!this.stage){var t=this.stage=document.createElement("span");this.element.appendChild(t)}return this.stage},e.prototype._createPlotArea=function(e){var n=t.prototype._createPlotArea.call(this,e);return this._autoWidth=this._initialWidth||this._calculateWidth(n),n},e.prototype._calculateWidth=function(t){for(var e=this.options,n=m(e.chartArea.margin),r=t.charts,o=this._surfaceWrap(),i=0,s=0;s<r.length;s++){var a=r[s],l=(a.options.series||[])[0];if(l){if(l.type===si)return Ul;if(l.type===ci)return Kl;if(l.type===gi)return rr(o).height;var c=a.categoryAxis;if(c){var u=c.categoriesCount()*(!a.options.isStacked&&k(l.type,[pi,Ai])?a.seriesOptions.length:1);i=Math.max(i,u)}}}var p=i*e.pointWidth;return p>0&&(p+=n.left+n.right),p},e.prototype._createSharedTooltip=function(t){return new Hl(this._plotArea,t)},e.normalizeOptions=function(t){var e=je(t);return e=r(e)?{seriesDefaults:{data:e}}:f({},e),e.series||(e.series=[{data:je(e.data)}]),f(e,{seriesDefaults:{type:e.type}}),(k(e.series[0].type,ql)||k(e.seriesDefaults.type,ql))&&(e=f({},{categoryAxis:{crosshair:{visible:!1}}},e)),e},e}(Nl);M(Wl,{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});var Gl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this._initialOpacity=parseFloat(g(this.element,"opacity").opacity)},e.prototype.step=function(t){g(this.element,{opacity:String(S(this._initialOpacity,0,t))})},e.prototype.abort=function(){t.prototype.abort.call(this),g(this.element,{display:"none",opacity:String(this._initialOpacity)})},e.prototype.cancel=function(){t.prototype.abort.call(this),g(this.element,{opacity:String(this._initialOpacity)})},e}(Ke.drawing.Animation),$l=function(t){function e(e,n,r){t.call(this),this.options=f({},this.options,r),this.container=e,this.chartService=n;var o=g(e,["paddingLeft","paddingTop"]);this.chartPadding={top:o.paddingTop,left:o.paddingLeft},this.createElements(),e.appendChild(this.element)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createElements=function(){var t=this.element=De("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),e=this.tooltip=De("k-tooltip k-chart-tooltip"),n=this.scroll=De("k-scroll");e.innerHTML="&nbsp;",t.appendChild(e),t.appendChild(n)},e.prototype.show=function(t,e,n){var r=this,o=r.element,i=r.options,s=r.scroll,a=r.tooltip,l=U(Z(t)+Z(e-t)/2),c=.4*n.width(),u=n.center().x-c,p=n.center().x,h=p-u,f=i.max-i.min,d=h/f,v=l-i.min,y=this.chartService.intl.format(i.format,t,e),m=b(i);this.clearHideTimeout(),this._visible||(g(o,{visibility:"hidden",display:"block"}),this._visible=!0),m&&(y=m({from:t,to:e})),a.innerHTML=y,g(a,{left:n.center().x-a.offsetWidth/2,top:n.y1});var w=g(a,["marginTop","borderTopWidth","height"]);g(s,{width:c,left:u+v*d,top:n.y1+w.marginTop+w.borderTopWidth+w.height/2}),g(o,{visibility:"visible"})},e.prototype.clearHideTimeout=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()},e.prototype.hide=function(){var t=this;this.clearHideTimeout(),this._hideTimeout=setTimeout(function(){t._visible=!1,t._hideAnimation=new Gl(t.element),t._hideAnimation.setup(),t._hideAnimation.play()},this.options.hideDelay)},e.prototype.destroy=function(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll},e}(Ke.Class);M($l,{format:"{0:d} - {1:d}",hideDelay:500});var Yl="_navigator",Xl=Yl,Jl=Object.freeze({NAVIGATOR_AXIS:Xl,NAVIGATOR_PANE:Yl}),Zl=3,Ql=function(t){function e(e){t.call(this),this.chart=e;var n=this.options=f({},this.options,e.options.navigator),r=n.select;r&&(r.from=this.parseDate(r.from),r.to=this.parseDate(r.to)),tr(n.hint.visible)||(n.hint.visible=n.visible);var o;this.chartObserver=new Xn(this,(o={},o[Wi]="_drag",o[Gi]="_dragEnd",o[Xi]="_zoom",o[Ji]="_zoomEnd",o)),e.addObserver(this.chartObserver)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseDate=function(t){return rt(this.chart.chartService.intl,t)},e.prototype.clean=function(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)},e.prototype.destroy=function(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()},e.prototype.redraw=function(){this._redrawSelf(),this.initSelection()},e.prototype.initSelection=function(){var t=this,e=t.chart,n=t.options,r=this.mainAxis(),o=r.roundedRange(),i=o.min,s=o.max,a=n.select,l=a.from,c=a.to,u=a.mousewheel,p=Ie(r);0!==r.categoriesCount()&&(this.clean(),p.box=r.box,this.selection=new Ba(e,p,{min:i,max:s,from:l||i,to:c||s,mousewheel:hr(u,{zoom:"left"}),visible:n.visible},new Xn(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),n.hint.visible&&(this.hint=new $l(e.element,e.chartService,{min:i,max:s,template:b(n.hint),format:n.hint.format})))},e.prototype.setRange=function(){var t=this.chart._createPlotArea(!0),e=t.namedCategoryAxes[Xl],n=e.roundedRange(),r=n.min,o=n.max,i=this.options.select||{},s=i.from||r;s<r&&(s=r);var a=i.to||o;a>o&&(a=o),this.options.select=f({},i,{from:s,to:a}),this.filterAxes()},e.prototype._redrawSelf=function(t){var e=this.chart._plotArea;e&&e.redraw(sr(e.panes),t)},e.prototype.redrawSlaves=function(){var t=this.chart,e=t._plotArea,n=e.panes.slice(0,-1);e.srcSeries=t.options.series,e.options.categoryAxis=t.options.categoryAxis,e.clearSeriesPointsCache(),e.redraw(n)},e.prototype._drag=function(t){var e,n=this,r=n.chart,o=n.selection,i=r._eventCoordinates(t.originalEvent),s=this.mainAxis(),a=s.roundedRange(),l=s.pane.box.containsPoint(i),c=r._plotArea.categoryAxis,u=t.axisRanges[c.options.name],p=this.options.select;if(u&&!l&&o){e=p.from&&p.to?Z(p.to)-Z(p.from):Z(o.options.to)-Z(o.options.from);var h=U(ar(Z(u.min),a.min,Z(a.max)-e)),f=U(ar(Z(h)+e,Z(a.min)+e,a.max));this.options.select={from:h,to:f},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),o.set(h,f),this.showHint(h,f)}},e.prototype._dragEnd=function(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()},e.prototype.readSelection=function(){var t=this,e=t.selection.options,n=e.from,r=e.to,o=t.options.select;o.from=n,o.to=r},e.prototype.filterAxes=function(){var t=this,e=t.options.select;void 0===e&&(e={});for(var n=t.chart,r=n.options.categoryAxis,o=e.from,i=e.to,s=0;s<r.length;s++){var a=r[s];a.pane!==Yl&&(a.min=o,a.max=i)}},e.prototype.filter=function(){var t=this,e=t.chart,n=t.options.select;if(e.requiresHandlers(["navigatorFilter"])){var r=this.mainAxis(),o={from:n.from,to:n.to};if("category"!==r.options.type){var i=new fo(f({baseUnit:"fit"},e.options.categoryAxis[0],{categories:[n.from,n.to]}),e.chartService).options;o.from=G(i.min,-i.baseUnitStep,i.baseUnit),o.to=G(i.max,i.baseUnitStep,i.baseUnit)}this.chart.trigger("navigatorFilter",o)}},e.prototype._zoom=function(t){var e=this,n=e.chart._plotArea.categoryAxis,r=e.selection,o=e.options,i=o.select,s=o.liveDrag,a=this.mainAxis(),l=t.delta;if(r){var c=a.categoryIndex(r.options.from),u=a.categoryIndex(r.options.to);t.originalEvent.preventDefault(),Math.abs(l)>1&&(l*=Zl),u-c>1?(r.expand(l),this.readSelection()):(n.options.min=i.from,i.from=n.scaleRange(-t.delta).min),s&&(this.filterAxes(),this.redrawSlaves()),r.set(i.from,i.to),this.showHint(this.options.select.from,this.options.select.to)}},e.prototype._zoomEnd=function(t){this._dragEnd(t)},e.prototype.showHint=function(t,e){var n=this.chart._plotArea;this.hint&&this.hint.show(t,e,n.backgroundBox())},e.prototype._selectStart=function(t){return this.chart._selectStart(t)},e.prototype._select=function(t){return this.showHint(t.from,t.to),this.chart._select(t)},e.prototype._selectEnd=function(t){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(t)},e.prototype.mainAxis=function(){var t=this.chart._plotArea;if(t)return t.namedCategoryAxes[Xl]},e.prototype.select=function t(e,n){var t=this.options.select;return e&&n&&(t.from=this.parseDate(e),t.to=this.parseDate(n),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(e,n)),{from:t.from,to:t.to}},e.setup=function(t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!t.__navi){t.__navi=!0;var r=f({},n.navigator,t.navigator),o=t.panes=[].concat(t.panes),i=f({},r.pane,{name:Yl});r.visible||(i.visible=!1,i.height=.1),o.push(i),e.attachAxes(t,r),e.attachSeries(t,r,n)}},e.attachAxes=function(t,e){var n=e.series||[],r=t.categoryAxis=[].concat(t.categoryAxis),o=t.valueAxis=[].concat(t.valueAxis),i=$t(n,Ii),s=0===i.length,a=f({type:"date",pane:Yl,roundToBaseUnit:!s,justified:s,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:e.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),l=e.categoryAxis;r.push(f({},a,{maxDateGroups:200},l,{name:Xl,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),f({},a,l,{name:Xl+"_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),f({},a,l,{name:Xl+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),o.push(f({name:Xl,pane:Yl,majorGridLines:{visible:!1},visible:!1},e.valueAxis))},e.attachSeries=function(t,e,n){for(var r=t.series=t.series||[],o=[].concat(e.series||[]),i=n.seriesColors,s=e.seriesDefaults,a=0;a<o.length;a++)r.push(f({color:i[a%i.length],categoryField:e.dateField,visibleInLegend:!1,tooltip:{visible:!1}},s,o[a],{axis:Xl,categoryAxis:Xl,autoBind:e.autoBindElements}))},e}(Ke.Class),tc=28,ec=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyDefaults=function(e,n){var r=rr(this.element).width||rn,o=n,i={seriesDefaults:{categoryField:e.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(r/tc)}}};o&&(o=f({},o,i)),Ql.setup(e,o),t.prototype.applyDefaults.call(this,e,o)},e.prototype._setElementClass=function(t){o(t,"k-chart k-stockchart")},e.prototype.setOptions=function(e){this.destroyNavigator(),t.prototype.setOptions.call(this,e)},e.prototype.noTransitionsRedraw=function(){var t=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=t},e.prototype._resize=function(){this.noTransitionsRedraw()},e.prototype._redraw=function(){var t=this.navigator;!this._dirty()&&t&&t.options.partialRedraw?t.redrawSlaves():this._fullRedraw()},e.prototype._dirty=function(){var t=this.options,e=[].concat(t.series,t.navigator.series),n=_(e,function(t){return t&&t.visible}).length,r=this._seriesCount!==n;return this._seriesCount=n,r},e.prototype._fullRedraw=function(){var e=this.navigator;e||(e=this.navigator=new Ql(this),this.trigger("navigatorCreated",{navigator:e})),e.clean(),e.setRange(),t.prototype._redraw.call(this),e.initSelection()},e.prototype._trackSharedTooltip=function(e){var n=this._plotArea,r=n.paneByPoint(e);r&&r.options.name===Yl?this._unsetActivePoint():t.prototype._trackSharedTooltip.call(this,e)},e.prototype.bindCategories=function(){t.prototype.bindCategories.call(this),this.copyNavigatorCategories()},e.prototype.copyNavigatorCategories=function(){for(var t,e=[].concat(this.options.categoryAxis),n=0;n<e.length;n++){var r=e[n];r.name===Xl?t=r.categories:t&&r.pane===Yl&&(r.categories=t)}},e.prototype.destroyNavigator=function(){this.navigator&&(this.navigator.destroy(),this.navigator=null)},e.prototype.destroy=function(){this.destroyNavigator(),t.prototype.destroy.call(this)},e.prototype._stopChartHandlers=function(e){var n=this._eventCoordinates(e),r=this._plotArea.paneByPoint(n);return t.prototype._stopChartHandlers.call(this,e)||r&&r.options.name===Yl},e.prototype._toggleDragZoomEvents=function(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0);
},e}(Nl);M(ec,{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});var nc=150,rc=250,oc="arrow",ic="arrowPointer",sc="barPointer",ac=200,lc=.5,cc=200,uc=Math.PI/180,pc="inside",hc="linear",fc="outside",dc="radialPointer",vc="radialRangePointer",yc=Ke.drawing.Group,gc=Ke.drawing.Path,mc=Ke.drawing.Text,bc=5,wc=Ke.drawing.Path,_c=Ke.drawing.Surface,xc=function(t){function e(e,n,r,o){void 0===o&&(o={}),t.call(this),this.element=e,this.theme=r,this.contextService=new Bn(this,o),this._originalOptions=f({},this.options,n),this.options=f({},this._originalOptions),this._initTheme(r),this.redraw()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement},e.prototype.value=function(t){var e=this.pointers[0];return 0===arguments.length?e.value():(e.value(t),void this._setValueOptions(t))},e.prototype._draw=function(){var t=this.surface;t.clear(),t.draw(this._visuals)},e.prototype.exportVisual=function(){return this._visuals},e.prototype.allValues=function t(e){var n=this.pointers,t=[];if(0===arguments.length){for(var o=0;o<n.length;o++)t.push(n[o].value());return t}if(r(e))for(var i=0;i<e.length;i++)l(e[i])&&n[i].value(e[i]);this._setValueOptions(e)},e.prototype._setValueOptions=function(t){for(var e=[].concat(this.options.pointer),n=[].concat(t),r=0;r<n.length;r++)e[r].value=n[r]},e.prototype.resize=function(){this.noTransitionsRedraw()},e.prototype.noTransitionsRedraw=function(){var t=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(t)},e.prototype.redraw=function(){var t=this._surfaceSize(),e=new Ke.geometry.Rect([0,0],[t.width,t.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();var n=Ne(e.bbox(),this._gaugeAreaMargin);this.reflow(n)},e.prototype.setOptions=function(t,e){this._originalOptions=f(this._originalOptions,t),this.options=f({},this._originalOptions),this._initTheme(e),this.redraw()},e.prototype.setDirection=function(t){this.contextService.rtl=Boolean(t),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)},e.prototype.setIntlService=function(t){this.contextService.intl=t},e.prototype._initTheme=function(t){var e=t||this.theme||{};this.theme=e,this.options=f({},e,this.options);var n=this.options,o=n.pointer;if(r(o)){for(var i=[],s=0;s<o.length;s++)i.push(f({},e.pointer,o[s]));n.pointer=i}},e.prototype._createGaugeArea=function(){var t=this.options.gaugeArea,e=this.surface.size(),n=t.border||{},r=new Ke.geometry.Rect([0,0],[e.width,e.height]);this._gaugeAreaMargin=t.margin||bc,n.width>0&&(r=Ne(r,n.width));var o=wc.fromRect(r,{stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType,lineJoin:"round",lineCap:"round"},fill:{color:t.background}});return o},e.prototype._initSurface=function(){var t=this,e=t.options,n=t.surface,r=this._surfaceElement(),o=this._surfaceSize();rr(r,o),n&&n.options.type===e.renderAs?(this.surface.clear(),this.surface.resize()):(n&&n.destroy(),this.surface=_c.create(r,{type:e.renderAs}))},e.prototype._surfaceSize=function(){var t=this.options,e=this._getSize();return t.gaugeArea&&f(e,t.gaugeArea),e},e.prototype._surfaceElement=function(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement},e.prototype.getSize=function(){return this._getSize()},e.prototype._getSize=function(){var t=this.element,e=this._defaultSize(),n=t.offsetWidth,r=t.offsetHeight;return n||(n=e.width),r||(r=e.height),{width:n,height:r}},e.prototype._defaultSize=function(){return{width:cc,height:ac}},e.prototype._toggleTransitions=function(t){var e=this;this.options.transitions=t;for(var n=0;n<this.pointers.length;n++)e.pointers[n].options.animation.transitions=t},e}(Ke.Class);M(xc,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});var kc=Ke.drawing.Path,Sc=Ke.drawing.Group,Oc=Ke.geometry.Point,Cc=function(t){function e(e,n){var r=e||{};!tr(r.reverse)&&r.vertical===!1&&(n||{}).rtl&&(r=Object.assign({},r,{reverse:!0})),t.call(this,0,1,r,n),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=f({},this.options,t);return e=f({},e,{labels:{mirror:e.mirror}}),e.majorUnit=e.majorUnit||D(e.min,e.max),e},e.prototype.initFields=function(){},e.prototype.render=function(){var t=this.elements=new Sc,e=this.renderLabels(),n=this.renderLine(),r=this.renderTicks(),o=this.renderRanges();return t.append(n,e,r,o),t},e.prototype.renderRanges=function(){for(var t=this,e=this.options,n=e.min,r=e.max,o=e.vertical,i=e.labels.mirror,s=e.ranges||[],a=new Sc,l=s.length,c=e.rangeSize||e.minorTicks.size/2,u=0;u<l;u++){var p=Le(s[u],n,r),h=t.getSlot(p.from,p.to),f=o?t.lineBox():h,d=o?h:t.lineBox();o?f.x1-=c*(i?-1:1):d.y2+=c*(i?-1:1),a.append(kc.fromRect(new Ke.geometry.Rect([f.x1,d.y1],[f.x2-f.x1,d.y2-d.y1]),{fill:{color:p.color,opacity:p.opacity},stroke:{}}))}return a},e.prototype.renderLabels=function(){for(var t=this,e=t.labels,n=t.options,r=new Sc,o=0;o<e.length;o++)r.append(Fe(e[o],n.labels));return r},e.prototype.renderLine=function(){var t=this.options.line,e=this.lineBox(),n=new Sc;if(t.width>0&&t.visible){var r=new kc({stroke:{color:t.color,dashType:t.dashType,width:t.width}});r.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),n.append(r)}return n},e.prototype.renderTicks=function(){var t=new Sc,e=this.options,n=e.majorTicks.visible?e.majorUnit:0,r={vertical:e.vertical,mirror:e.labels.mirror,lineBox:this.lineBox()};return Ve(t,this.getMajorTickPositions(),r,e.majorTicks),Ve(t,this.getMinorTickPositions(),r,f({},{skipUnit:n/e.minorUnit},e.minorTicks)),t},e}(yo);M(Cc,{min:0,max:50,majorTicks:{size:15,align:pc,color:Ge,width:lc,visible:!0},minorTicks:{size:10,align:pc,color:Ge,width:lc,visible:!0},line:{width:lc},labels:{position:pc,padding:2},mirror:!1,_alignLines:!1});var Mc=function(t){function e(e,n){t.call(this);var r=e.options,o=r.min,i=r.max,s=this.options=f({},this.options,n);s.fill=s.color,this.scale=e,tr(s.value)?s.value=ar(s.value,o,i):s.value=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.value=function t(e){var n=this.options,t=n.value;if(0===arguments.length)return t;var r=this.scale.options,o=r.min,i=r.max;n._oldValue=tr(n._oldValue)?n.value:o,n.value=ar(e,o,i),this.elements&&this.repaint()},e}(Ke.Class);M(Mc,{color:Ge});var Tc=function(t){function e(e,n){t.call(this,e,n),this.options=f({track:{visible:tr(n.track)}},this.options)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(){var t,e,n,r=this,o=r.options,i=r.scale,s=i.options,a=s.mirror,l=s.vertical,c=i.lineBox(),u=o.track.size||o.size,p=o.size/2,h=m(o.margin),f=l?h[a?"left":"right"]:h[a?"bottom":"top"];f=a?-f:f,l?(n=new gr(c.x1+f,c.y1,c.x1+f,c.y2),a?n.x1-=u:n.x2+=u,o.shape!==sc&&(e=new gr(c.x2+f,c.y1-p,c.x2+f,c.y2+p),t=e)):(n=new gr(c.x1,c.y1-f,c.x2,c.y1-f),a?n.y2+=u:n.y1-=u,o.shape!==sc&&(e=new gr(c.x1-p,c.y1-f,c.x2+p,c.y1-f),t=e)),this.trackBox=n,this.pointerRangeBox=e,this.box=t||n.clone().pad(o.border.width)},e.prototype.getElementOptions=function(){var t=this.options;return{fill:{color:t.color,opacity:t.opacity},stroke:tr(t.border)?{color:t.border.width?t.border.color||t.color:"",width:t.border.width,dashType:t.border.dashType,opacity:t.opacity}:null}},e.prototype._margin=function(){var t=this,e=t.scale,n=t.options,r=e.options,o=r.mirror,i=r.vertical,s=m(n.margin),a=i?s[o?"left":"right"]:s[o?"bottom":"top"];return a},e}(Mc);M(Tc,{shape:sc,track:{border:{width:1}},color:Ge,border:{width:1},opacity:1,margin:m(3),animation:{type:sc},visible:!0});var Ec=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.options,e=t.margin,n=t.from,r=t.to,o=t.vertical,i=o?"x1":"y1";t.mirror===o?(n[i]-=e,r[i]-=e):(n[i]+=e,r[i]+=e);var s=this.fromScale=new Ke.geometry.Point(n.x1,n.y1),a=this.toScale=new Ke.geometry.Point(r.x1,r.y1);0!==t.duration&&(t.duration=Math.max(s.distanceTo(a)/t.duration*1e3,1))},e.prototype.step=function(t){var e=S(this.fromScale.x,this.toScale.x,t),n=S(this.fromScale.y,this.toScale.y,t);this.element.transform(Ke.geometry.transform().translate(e,n))},e}(Ke.drawing.Animation);M(Ec,{easing:hc,duration:rc}),Ke.drawing.AnimationFactory.current.register(ic,Ec);var Pc=Ke.geometry.Point,Ac=Ke.drawing.Path,jc=function(t){function e(e,n){t.call(this,e,n),tr(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointerShape=function(){var t,e=this,n=e.scale,r=e.options.size,o=r/2,i=n.options.mirror?-1:1;return t=n.options.vertical?[new Pc(0,0-o),new Pc(0-i*r,0),new Pc(0,0+o)]:[new Pc(0-o,0),new Pc(0,0+i*r),new Pc(0+o,0)]},e.prototype.repaint=function(){var t=this,e=t.scale,n=t.options,r=new Ec(this.elements,f(n.animation,{vertical:e.options.vertical,mirror:e.options.mirror,margin:this._margin(n.margin),from:e.getSlot(n._oldValue),to:e.getSlot(n.value)}));n.animation.transitions===!1&&(r.options.duration=0),r.setup(),r.play()},e.prototype.render=function(){var t=this,e=t.scale,n=t.options,r=this.getElementOptions(),o=this.pointerShape(n.value);n.animation.type=ic;var i=new Ac({stroke:r.stroke,fill:r.fill}).moveTo(o[0]).lineTo(o[1]).lineTo(o[2]).close(),s=e.getSlot(n.value);return i.transform(Ke.geometry.transform().translate(s.x1,s.y1)),this.elements=i,i},e}(Tc),Dc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.options,e=this.axis=t.vertical?Tn:Mn,n=this.to=t.newPoints[0][e],r=this.from=t.oldPoints[0][e];0!==t.duration&&(t.duration=Math.max(Math.abs(n-r)/t.speed*1e3,1)),this._set(r)},e.prototype.step=function(t){var e=S(this.from,this.to,t);this._set(e)},e.prototype._set=function(t){var e="set"+this.axis.toUpperCase(),n=this.options.newPoints;n[0][e](t),n[1][e](t)},e}(Ke.drawing.Animation);M(Dc,{easing:hc,speed:rc}),Ke.drawing.AnimationFactory.current.register(sc,Dc);var Rc=Ke.drawing.Group,Ic=Ke.drawing.Path,zc=function(t){function e(e,n){t.call(this,e,n),tr(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointerShape=function(t){var e=this,n=e.scale,r=e.options,o=n.options,i=o.mirror,s=o.vertical,a=i===s?-1:1,l=r.size*a,c=n.getSlot(n.options.min),u=n.getSlot(t),p=s?Tn:Mn,h=s?Mn:Tn,f=this._margin()*a,d=new Ke.geometry.Point;d[p]=c[p+"1"],d[h]=c[h+"1"];var v=new Ke.geometry.Point;v[p]=u[p+"1"],v[h]=u[h+"1"],s?(d.translate(f,0),v.translate(f,0)):(d.translate(0,f),v.translate(0,f));var y=v.clone(),g=d.clone();return s?(y.translate(l,0),g.translate(l,0)):(y.translate(0,l),g.translate(0,l)),[d,v,y,g]},e.prototype.repaint=function(){var t=this,e=t.scale,n=t.options,r=this.pointerShape(n.value),o=this.pointerPath,i=this.pointerShape(n._oldValue);o.moveTo(r[0]).lineTo(r[1]).lineTo(r[2]).lineTo(r[3]).close();var s=new Dc(o,f(n.animation,{reverse:e.options.reverse,vertical:e.options.vertical,oldPoints:[i[1],i[2]],newPoints:[r[1],r[2]]}));n.animation.transitions===!1&&(s.options.duration=0),s.setup(),s.play()},e.prototype.render=function(){var t=new Rc,e=this.getElementOptions();this.options.track.visible&&t.append(this.renderTrack());var n=this.pointerPath=new Ic({stroke:e.stroke,fill:e.fill});return t.append(n),this.elements=t,t},e.prototype.renderTrack=function(){var t=this.options.track,e=t.border||{},n=this.trackBox.clone().pad(e.width||0);return new Ic.fromRect(n.toRect(),{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.width?e.color||t.color:"",width:e.width,dashType:e.dashType}})},e}(Tc),Fc=60,Lc=60,Nc=Ke.drawing.Group,Bc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.pointers,n=t.origin.x,r=t.origin.y,o=new gr(n,r,n+t.width(),r+t.height());this.scale.reflow(o),this._shrinkScaleWidth(o);for(var i=0;i<e.length;i++)e[i].reflow();this.bbox=this._getBox(o),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()},e.prototype._buildVisual=function(){var t=new Nc,e=this.scale.render(),n=this.pointers;t.append(this.gaugeArea),t.append(e);for(var r=0;r<n.length;r++){var o=n[r];t.append(o.render()),o.value(o.options.value)}this._visuals=t},e.prototype._createModel=function(){var t=this,e=this.options,n=this.scale=new Cc(e.scale,this.contextService);this.pointers=[];var o=e.pointer;o=r(o)?o:[o];for(var i=0;i<o.length;i++){var s=f({},o[i],{animation:{transitions:e.transitions}}),a=s.shape===oc?jc:zc;t.pointers.push(new a(n,s))}},e.prototype._defaultSize=function(){var t=this.options.scale.vertical;return{width:t?Fc:cc,height:t?ac:Lc}},e.prototype._getBox=function(t){for(var e=this,n=e.scale,r=e.pointers,o=t.center(),i=r[0].box.clone().wrap(n.box),s=0;s<r.length;s++)i.wrap(r[s].box.clone());var a;return n.options.vertical?(a=i.width()/2,i=new gr(o.x-a,t.y1,o.x+a,t.y2)):(a=i.height()/2,i=new gr(t.x1,o.y-a,t.x2,o.y+a)),i},e.prototype._alignElements=function(){for(var t=this,e=this,n=e.scale,r=e.pointers,o=n.box,i=r[0].box.clone().wrap(n.box),s=this.bbox,a=0;a<r.length;a++)i.wrap(r[a].box.clone());var l;n.options.vertical?(l=s.center().x-i.center().x,n.reflow(new gr(o.x1+l,s.y1,o.x2+l,s.y2))):(l=s.center().y-i.center().y,n.reflow(new gr(o.x1,o.y1+l,o.x2,o.y2+l)));for(var c=0;c<r.length;c++)r[c].reflow(t.bbox)},e.prototype._shrinkScaleWidth=function(t){var e=this,n=e.scale;if(!n.options.vertical){var r=n.contentBox().width()-t.width();r>0&&(n.box.shrink(r,0),n.box.alignTo(t,"center"),n.reflow(n.box))}},e.prototype._shrinkElements=function(){for(var t=this,e=this,n=e.scale,r=e.pointers,o=n.box.clone(),i=n.options.vertical?"y":"x",s=r[0].box,a=0;a<r.length;a++)s.wrap(r[a].box.clone());o[i+1]+=Math.max(o[i+1]-s[i+1],0),o[i+2]-=Math.max(s[i+2]-o[i+2],0),n.reflow(o);for(var l=0;l<r.length;l++)r[l].reflow(t.bbox)},e}(xc);M(Bc,{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});var Vc=180,Hc=Ke.drawing.Arc,Uc=Ke.drawing.Path,Kc=Ke.drawing.Group,qc=function(t){function e(e,n){t.call(this,0,1,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=f({},this.options,t);return e.majorUnit=e.majorUnit||D(e.min,e.max),e.minorUnit=e.minorUnit||e.majorUnit/10,e},e.prototype.initFields=function(){},e.prototype.render=function(t,e){var n=this.renderArc(t,e);this.bbox=n.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()},e.prototype.reflow=function(t){var e=t.center(),n=Math.min(t.height(),t.width())/2;return tr(this.bbox)?(this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels(),void 0):this.render(e,n)},e.prototype.slotAngle=function(t){var e,n=this.options,r=n.min,o=n.max,i=n.reverse,s=n.startAngle,a=n.endAngle,l=a-s;return e=i?a-(t-r)/(o-r)*l:(t-r)/(o-r)*l+s,e+Vc},e.prototype.hasRanges=function(){var t=this.options.ranges;return t&&t.length},e.prototype.ticksSize=function(){var t=this.options,e=t.majorTicks,n=t.minorTicks,r=0;return e.visible&&(r=e.size),n.visible&&(r=Math.max(n.size,r)),r},e.prototype.renderLabels=function(){var t=this,e=this.options,n=this.arc.clone(),r=n.getRadiusX(),o=this.tickAngles(n,e.majorUnit),i=e.rangeSize=e.rangeSize||.1*r,s=new Kc,a=.05*r;tr(e.rangeDistance)?a=e.rangeDistance:e.rangeDistance=a;var l=e.labels,c=l.position===pc,u=tr(this.labelElements);c&&(r-=this.ticksSize(),this.hasRanges()&&!u&&(r-=i+a),n.setRadiusX(r).setRadiusY(r));for(var p=this.labels,h=p.length,f=m(l.padding),d=(f.left+f.right)/2,v=(f.top+f.bottom)/2,y=0;y<h;y++){var g=p[y],b=g.box.width()/2,w=g.box.height()/2,_=o[y],x=(_-Vc)*uc,k=n.pointAt(_),S=k.x+Math.cos(x)*(b+d)*(c?1:-1),O=k.y+Math.sin(x)*(w+v)*(c?1:-1);g.reflow(new gr(S-b,O-w,S+b,O+w));var C=new Ke.geometry.Point(g.box.x1,g.box.y1),M=void 0;if(u){M=t.labelElements.children[y];var T=M.bbox().origin,E=M.transform()||Ke.geometry.transform();E.translate(C.x-T.x,C.y-T.y),M.transform(E)}else M=Fe(g,e.labels),s.append(M);t.bbox=Ke.geometry.Rect.union(t.bbox,M.bbox())}return s},e.prototype.repositionRanges=function(){var t=this.ranges.children;if(t.length>0){var e=this.options,n=e.rangeDistance,r=e.rangeSize,o=this.getRangeRadius();this.options.labels.position===pc&&(o+=r+n);for(var i=o+r/2,s=0;s<t.length;s++)t[s]._geometry.setRadiusX(i).setRadiusY(i);this.bbox=Ke.geometry.Rect.union(this.bbox,this.ranges.bbox())}},e.prototype.renderRanges=function(){var t=this,e=this.rangeSegments(),n=e.length,r=new Kc;if(n){var o=this.options,i=o.rangeSize,s=o.reverse,a=o.rangeDistance,l=this.getRangeRadius();this.radius(this.radius()-i-a);for(var c=0;c<n;c++){var u=e[c],p=t.slotAngle(u[s?"to":"from"]),h=t.slotAngle(u[s?"from":"to"]);h-p!==0&&r.append(t.createRange(p,h,l,u))}}return r},e.prototype.createRange=function(t,e,n,r){var o=this.options.rangeSize,i=new Ke.geometry.Arc(this.arc.center,{radiusX:n+o/2,radiusY:n+o/2,startAngle:t,endAngle:e});return new Hc(i,{stroke:{width:o,color:r.color,opacity:r.opacity,lineCap:r.lineCap}})},e.prototype.rangeSegments=function(){var t=this.options,e=t.ranges||[],n=e.length,r=[];if(n){var o=t.min,i=t.max,s=t.rangePlaceholderColor;r.push(Ue(o,i,s));for(var a=0;a<n;a++)for(var l=Le(e[a],o,i),c=r.length,u=0;u<c;u++){var p=r[u];if(p.from<=l.from&&l.from<=p.to){r.push(Ue(l.from,l.to,l.color,l.opacity)),p.from<=l.to&&l.to<=p.to&&r.push(Ue(l.to,p.to,s,l.opacity)),p.to=l.from;break}}}return r},e.prototype.getRangeRadius=function(){var t,e=this,n=e.arc,r=e.options,o=r.rangeSize,i=r.rangeDistance,s=r.majorTicks.size;return t=r.labels.position===fc?n.getRadiusX()-s-i-o:n.getRadiusX()-o},e.prototype.renderArc=function(t,e){var n=this.options,r=this.arc=new Ke.geometry.Arc(t,{radiusX:e,radiusY:e,startAngle:n.startAngle+Vc,endAngle:n.endAngle+Vc});return r},e.prototype.renderTicks=function(){var t=this,e=t.arc,n=t.options,r=e.clone();this.majorTickAngles=this.tickAngles(e,n.majorUnit),this.majorTicks=He(r,this.majorTickAngles,n.majorUnit,n.majorTicks);var o=new Kc;o.append(this.majorTicks);var i=n.majorTicks.size,s=n.minorTicks.size;if(this._tickDifference=i-s,n.labels.position===fc){var a=r.getRadiusX();r.setRadiusX(a-i+s).setRadiusY(a-i+s)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(e,n.minorUnit)),this.minorTicks=He(r,this.minorTickAngles,n.minorUnit,n.minorTicks),o.append(this.minorTicks),o},e.prototype.normalizeTickAngles=function(t){for(var e=this.options,n=e.majorUnit/e.minorUnit,r=t.length-1;r>=0;r--)r%n===0&&t.splice(r,1);return t},e.prototype.tickAngles=function(t,e){var n=this.options,r=n.reverse,o=n.max-n.min,i=t.endAngle-t.startAngle,s=o/e,a=t.startAngle,l=i/s;r&&(a+=i,l=-l);for(var c=[],u=0;u<s;u++)c.push(ur(a,Je)),a+=l;return ur(a)<=t.endAngle&&c.push(a),c},e.prototype.radius=function(t){return t?(this.arc.setRadiusX(t).setRadiusY(t),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0),void 0):this.arc.getRadiusX()},e.prototype.repositionTicks=function(t,e,n){var r=n?this._tickDifference||0:0,o=this.arc,i=o.getRadiusX();n&&this.options.labels.position===fc&&0!==r&&(o=this.arc.clone(),o.setRadiusX(i-r).setRadiusY(i-r));for(var s=0;s<t.length;s++){var a=o.pointAt(e[s]),l=t[s].segments,c=a.x-l[0].anchor().x,u=a.y-l[0].anchor().y;t[s].transform((new Ke.geometry.transform).translate(c,u))}},e}(yo);M(qc,{min:0,max:100,majorTicks:{size:15,align:pc,color:Ge,width:lc,visible:!0},minorTicks:{size:10,align:pc,color:Ge,width:lc,visible:!0},startAngle:-30,endAngle:210,labels:{position:pc,padding:2}});var Wc=function(t){function e(e,n){t.call(this,e,n);var r=this.options;r.duration=Math.max(Math.abs(r.newAngle-r.oldAngle)/r.duration*1e3,1)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.step=function(t){var e=this.options,n=S(e.oldAngle,e.newAngle,t);this.element.transform(Ke.geometry.transform().rotate(n,e.center))},e}(Ke.drawing.Animation);M(Wc,{easing:hc,duration:nc}),Ke.drawing.AnimationFactory.current.register(dc,Wc);var Gc=.05,$c=Ke.drawing.Circle,Yc=Ke.drawing.Group,Xc=Ke.drawing.Path,Jc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setAngle=function(t){this.elements.transform(Ke.geometry.transform().rotate(t,this.center))},e.prototype.repaint=function(){var t=this,e=t.scale,n=t.options,r=e.slotAngle(n._oldValue),o=e.slotAngle(n.value);n.animation.transitions===!1?this.setAngle(o):new Wc(this.elements,f(n.animation,{oldAngle:r,newAngle:o})).play()},e.prototype.render=function(){var t=this,e=t.scale,n=t.options,r=new Yc;return n.animation!==!1&&f(n.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),r.append(this._renderNeedle(),this._renderCap()),this.elements=r,this.setAngle(uc),r},e.prototype.reflow=function(t){var e=this.center=t.center,n=ar(this.options.length||1,.1,1.5),r=this.radius=t.getRadiusX()*n,o=this.capSize=Math.round(r*this.options.cap.size);this.bbox=Ke.geometry.Rect.fromPoints(new Ke.geometry.Point(e.x-o,e.y-o),new Ke.geometry.Point(e.x+o,e.y+o))},e.prototype._renderNeedle=function(){var t=this.scale.options.minorTicks.size,e=this.center,n=this.options.color,r=new Xc({fill:{color:n},stroke:{color:n,width:lc}});return r.moveTo(e.x+this.radius-t,e.y).lineTo(e.x,e.y-this.capSize/2).lineTo(e.x,e.y+this.capSize/2).close(),r},e.prototype._renderCap=function(){var t=this.options,e=t.cap.color||t.color,n=new Ke.geometry.Circle(this.center,this.capSize),r=new $c(n,{fill:{color:e},stroke:{color:e}});return r},e}(Mc);M(Jc,{cap:{size:Gc},arrow:{width:16,height:14},animation:{type:dc,duration:nc}});var Zc=Ke.drawing.Group,Qc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this,n=this.pointers;this.scale.reflow(t),this._initialPlotArea=this.scale.bbox;for(var r=0;r<n.length;r++)n[r].reflow(e.scale.arc),e._initialPlotArea=Ke.geometry.Rect.union(e._initialPlotArea,n[r].bbox);this.fitScale(t),this.alignScale(t),this._buildVisual(this.gaugeArea,n,this.scale),this._draw()},e.prototype._buildVisual=function(t,e,n){var r=this._visuals=new Zc;r.append(t),r.append(n.ticks),r.append(n.ranges),this._buildPointers(e),r.append(n.labelElements)},e.prototype._buildPointers=function(t){for(var e=this,n=0;n<t.length;n++){var r=t[n];r.render(),e._visuals.append(r.elements),r.value(r.options.value)}},e.prototype.fitScale=function(t){for(var e,n,r,o,i,s=this,a=this.scale.arc,l=this._initialPlotArea,c=Math.abs(this.getDiff(l,t)),u=ur(c,Je),p=ur(-c,Je),h=0,f=0;!(!(f++<100)||(h=i===r?h+1:0,h>5)||u!==o&&(e=s.getPlotBox(u,t,a),0<=e&&e<=2)||p!==o&&(r=s.getPlotBox(p,t,a),0<=r&&r<=2)||(o=e>0&&r>0?2*u:e<0&&r<0?2*p:ur((u+p)/2||1,Je),n=s.getPlotBox(o,t,a),0<=n&&n<=2));)i=r,n>0?(p=o,r=n):(u=o,e=n)},e.prototype.getPlotBox=function(t,e,n){var r=this,o=this.scale,i=this.pointers,s=n.getRadiusX(),a=n.clone();a.setRadiusX(s+t).setRadiusY(s+t),o.arc=a,o.reflow(e),this.plotBbox=o.bbox;for(var l=0;l<i.length;l++)i[l].reflow(a),r.plotBbox=Ke.geometry.Rect.union(r.plotBbox,i[l].bbox);return this.getDiff(this.plotBbox,e)},e.prototype.getDiff=function(t,e){return Math.min(e.width()-t.width(),e.height()-t.height())},e.prototype.alignScale=function(t){var e=this,n=this.plotBbox.center(),r=t.center(),o=n.x-r.x,i=n.y-r.y,s=this,a=s.scale,l=s.pointers;a.arc.center.x-=o,a.arc.center.y-=i,a.reflow(t);for(var c=0;c<l.length;c++)l[c].reflow(a.arc),e.plotBbox=Ke.geometry.Rect.union(a.bbox,l[c].bbox)},e.prototype._createModel=function(){var t=this,e=this.options,n=e.pointer,o=this.scale=new qc(e.scale,this.contextService);this.pointers=[];for(var i=r(n)?n:[n],s=0;s<i.length;s++){var a=new Jc(o,f({},i[s],{animation:{transitions:e.transitions}}));t.pointers.push(a)}},e}(xc);M(Qc,{transitions:!0,gaugeArea:{background:""}});var tu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.rangeSegments=function(){var t=this.options,e=t.min,n=t.max,r=t.rangePlaceholderColor,o=t.rangeLineCap;return[{from:e,to:n,color:r,lineCap:o}]},e.prototype.hasRanges=function(){return!0},e.prototype.placeholderRangeAngle=function(t){var e=this.ranges.children[0].geometry();this.options.reverse?e.setEndAngle(t):e.setStartAngle(t)},e.prototype.addRange=function(t,e,n){var r=this.options.reverse,o=this.slotAngle(r?e:t),i=this.slotAngle(r?t:e),s=this.createRange(o,i,this.getRangeRadius(),n);return this.ranges.append(s),s},e}(qc);M(tu,{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});var eu=800,nu=function(t){function e(e,n){t.call(this,e,n);var r=this.options,o=Math.abs(r.newAngle-r.oldAngle)/r.duration*1e3;r.duration=ar(o,nc,eu);var i=e.elements.options.get("stroke.color"),s=e.currentColor();i!==s&&(this.startColor=new Ke.Color(i),this.color=new Ke.Color(s))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.step=function(t){var e=this,n=e.options,r=e.startColor,o=e.color,i=S(n.oldAngle,n.newAngle,t);if(this.element.angle(i),o){var s=ur(S(r.r,o.r,t)),a=ur(S(r.g,o.g,t)),l=ur(S(r.b,o.b,t));this.element.stroke(new Ke.Color(s,a,l).toHex())}},e}(Ke.drawing.Animation);M(nu,{easing:hc,duration:nc}),Ke.drawing.AnimationFactory.current.register(vc,nu);var ru=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.repaint=function(){var t=this,e=t.scale,n=t.options,r=e.slotAngle(n._oldValue),o=e.slotAngle(n.value);this.animation&&this.animation.abort(),n.animation.transitions===!1?(this.angle(o),this.stroke(this.currentColor())):(this.animation=new nu(this,f(n.animation,{oldAngle:r,newAngle:o})),this.animation.play())},e.prototype.angle=function(t){var e=this.elements.geometry();this.scale.options.reverse?e.setStartAngle(t):e.setEndAngle(t),this.scale.placeholderRangeAngle(t)},e.prototype.stroke=function(t){this.elements.stroke(t)},e.prototype.render=function(){if(!this.elements){var t=this,e=t.scale,n=t.options;n.animation!==!1&&f(n.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),this.elements=e.addRange(e.options.min,this.options.value,{color:this.currentColor(),opacity:n.opacity,lineCap:e.options.rangeLineCap})}},e.prototype.currentColor=function(){var t=this.scale.options,e=t.min,n=t.max,r=this.options,o=r.colors,i=r.color,s=r.value,a=l(s)?s:e;if(o)for(var c=0;c<o.length;c++){var u=o[c],p=u.color,h=u.from;void 0===h&&(h=e);var f=u.to;if(void 0===f&&(f=n),h<=a&&a<=f)return p}return i},e.prototype.reflow=function(){this.render(),this.bbox=this.elements.bbox()},e}(Mc);M(ru,{animation:{type:vc,duration:nc}});var ou=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initTheme=function(e){t.prototype._initTheme.call(this,e),this.options.color=this.options.color||(this.theme.pointer||{}).color},e.prototype._createModel=function(){var t=this.options,e=this.scale=new tu(t.scale,this.contextService),n=new ru(e,f({},{colors:t.colors,color:t.color,value:t.value,opacity:t.opacity,animation:{transitions:t.transitions}}));this.pointers=[n]},e.prototype._buildPointers=function(t){for(var e=0;e<t.length;e++){var n=t[e];n.render(),n.value(n.options.value)}},e.prototype._setValueOptions=function(t){this.options.value=t},e.prototype.currentColor=function(){var t=this.pointers[0];if(t)return t.currentColor()},e.prototype.centerLabelPosition=function(t,e){var n=this.getSize(),r=this.scale.arc.center,o=r.x-t/2,i=r.y-e/2;if(t<n.width){var s=o+t;o=Math.max(o,0),s>n.width&&(o-=s-n.width)}if(e<n.height){var a=this.scale.bbox,l=a.bottomRight().y,c=i+e;i=Math.max(i,a.origin.y),c>l&&(i-=c-l)}return{left:o,top:i}},e}(Qc),iu=1.5,su=.4,au="#000",lu="Arial, Helvetica, sans-serif",cu="11px "+lu,uu="12px "+lu,pu="16px "+lu,hu="transparent",fu="#fff",du=function(){return{icon:{border:{width:1}},label:{font:uu,padding:3},line:{length:10,width:2},visible:!0}},vu=function(){return{labels:{font:uu},notes:du(),title:{font:pu,margin:5}}},yu=function(){return{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4}},gu=function(){return{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4}},mu=function(){return{gap:iu,spacing:su}},bu=function(){return{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:fu,gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}}},wu=function(){return{border:{width:0},labels:{background:hu},opacity:.6}},_u=function(){return{gap:iu,spacing:su,target:{color:"#ff0000"}}},xu=function(){return{border:{_brightness:.8,width:1},downColor:fu,gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:au,width:1},spacing:.3}},ku=function(){return{gap:iu,spacing:su}},Su=function(){return{margin:1}},Ou=function(){return{width:2}},Cu=function(){return{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},spacing:.3}},Mu=function(){return{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5}},Tu=function(){return{markers:{visible:!1},width:2}},Eu=function(){return{gap:iu,spacing:su}},Pu=function(){return{gap:iu,spacing:su}},Au=function(){return{width:1}},ju=function(){return{gap:.5,line:{color:au,width:1},spacing:su}},Du=function(){return{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}}},Ru=function(){return{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}}},Iu=function(t){return{visible:!0,labels:{font:cu},overlay:t.gradients?{}:{gradient:"none"},area:yu(),rangeArea:gu(),verticalRangeArea:gu(),bar:mu(),boxPlot:bu(),bubble:wu(),bullet:_u(),candlestick:xu(),column:ku(),pie:Du(),donut:Su(),funnel:Ru(),horizontalWaterfall:ju(),line:Ou(),notes:du(),ohlc:Cu(),radarArea:Mu(),radarLine:Tu(),polarArea:Mu(),polarLine:Tu(),rangeBar:Eu(),rangeColumn:Pu(),scatterLine:Au(),verticalArea:yu(),verticalBoxPlot:bu(),verticalBullet:_u(),verticalLine:Ou(),waterfall:ju()}},zu=function(){return{font:pu}},Fu=function(){return{labels:{font:uu}}},Lu=function(t){return void 0===t&&(t={}),{axisDefaults:vu(),categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:Iu(t),title:zu(),legend:Fu()}};e.chartBaseTheme=Lu,e.autoMajorUnit=D,e.Point=yr,e.Box=gr,e.Ring=mr,e.Sector=br,e.ShapeBuilder=_r,e.ShapeElement=Sr,e.ChartElement=xr,e.BoxElement=kr,e.RootElement=Tr,e.FloatElement=Er,e.Text=Ar,e.TextBox=Dr,e.Title=Rr,e.AxisLabel=Ir,e.Axis=Nr,e.Note=Lr,e.CategoryAxis=oo,e.DateCategoryAxis=fo,e.DateValueAxis=go,e.NumericAxis=yo,e.LogarithmicAxis=bo,e.PolarAxis=xo,e.RadarCategoryAxis=_o,e.RadarNumericAxis=So,e.RadarLogarithmicAxis=Oo,e.CurveProcessor=To,e.Gradients=Mr,
e.rectToBox=L,e.Aggregates=jo,e.AreaChart=As,e.AreaSegment=Ts,e.AxisGroupRangeTracker=js,e.Bar=Is,e.BarChart=Ls,e.BarLabel=Ds,e.BoxPlotChart=Us,e.BoxPlot=Vs,e.BubbleChart=Gs,e.Bullet=Ys,e.BulletChart=Xs,e.CandlestickChart=Bs,e.Candlestick=Ns,e.CategoricalChart=ys,e.CategoricalErrorBar=ds,e.CategoricalPlotArea=Ca,e.Chart=Nl,e.ChartContainer=ta,e.ClipAnimation=Os,e.ClusterLayout=zs,e.Crosshair=Qs,e.CrosshairTooltip=Zs,e.DefaultAggregates=la,e.DonutChart=ol,e.DonutPlotArea=il,e.DonutSegment=nl,e.ErrorBarBase=fs,e.ErrorRangeCalculator=Lo,e.Highlight=Ma,e.SharedTooltip=Ha,e.Legend=za,e.LegendItem=ja,e.LegendLayout=Aa,e.LineChart=Ms,e.LinePoint=bs,e.LineSegment=ws,e.Pane=ea,e.PieAnimation=Wa,e.PieChart=tl,e.PieChartMixin=Za,e.PiePlotArea=el,e.PieSegment=Ya,e.PlotAreaBase=oa,e.PlotAreaEventsMixin=sa,e.PlotAreaFactory=Fa,e.PointEventsMixin=gs,e.RangeBar=ca,e.RangeBarChart=ua,e.RangeAreaPoint=va,e.RangeAreaChart=ba,e.ScatterChart=qs,e.ScatterErrorBar=Ks,e.ScatterLineChart=Ga,e.Selection=Ba,e.SeriesAggregator=aa,e.SeriesBinder=Do,e.SplineSegment=ks,e.SplineAreaSegment=Ps,e.StackWrap=Fs,e.Tooltip=Va,e.OHLCChart=_a,e.OHLCPoint=wa,e.WaterfallChart=ka,e.WaterfallSegment=xa,e.XYPlotArea=$a,e.MousewheelZoom=Pa,e.ZoomSelection=Ea,e.Pannable=Ta,e.ChartAxis=Eo,e.ChartPane=Po,e.ChartPlotArea=Ao,e.findAxisByName=Pt,e.anyHasZIndex=zt,e.appendIfNotNull=Kt,e.areNumbers=Bt,e.bindSegments=Wt,e.categoriesCount=Rt,e.countNumbers=At,e.equalsIgnoreCase=Gt,e.evalOptions=Dt,e.filterSeriesByType=$t,e.getDateField=Yt,e.getField=jt,e.hasGradientOverlay=Ft,e.hasValue=Vt,e.isDateAxis=Xt,e.segmentVisible=qt,e.singleItemOrArray=Jt,e.createOutOfRangePoints=ee,e.ChartService=Bn,e.DomEventsBuilder=Un,e.FormatService=Ln,e.IntlService=In,e.TemplateService=qn,e.Sparkline=Wl,e.constants=Jl,e.Navigator=Ql,e.NavigatorHint=$l,e.StockChart=ec,e.Gauge=xc,e.LinearGauge=Bc,e.LinearPointer=Tc,e.ArrowLinearPointer=jc,e.BarLinearPointer=zc,e.LinearScale=Cc,e.RadialGauge=Qc,e.RadialPointer=Jc,e.RadialScale=qc,e.ArcGauge=ou,e.RangePointer=ru,e.ArcScale=tu,e.addClass=o,e.removeClass=i,e.alignPathToPixel=s,e.clockwise=a,e.convertableToNumber=u,e.deepExtend=f,e.elementStyles=g,e.getSpacing=m,e.getTemplate=b,e.getter=w,e.grep=_,e.hasClasses=x,e.HashMap=$n,e.inArray=k,e.interpolateValue=S,e.InstanceObserver=Xn,e.isArray=r,e.isFunction=p,e.isNumber=l,e.isObject=d,e.isString=c,e.map=O,e.mousewheelDelta=C,e.FontLoader=fr,e.setDefaultOptions=M,e.sparseArrayLimits=T,e.styleValue=v,e.find=E,e.elementScale=j,e.append=Zn,e.bindEvents=Qn,e.Class=Ke.Class,e.defined=tr,e.deg=er,e.elementOffset=nr,e.elementSize=rr,e.eventElement=or,e.eventCoordinates=ir,e.last=sr,e.limitValue=ar,e.logToConsole=Ke.logToConsole,e.objectKey=lr,e.rad=cr,e.round=ur,e.unbindEvents=pr,e.valueOrDefault=hr},function(t,e,n){"use strict";function r(t){Fr.call(zr,t)}function o(t){return String(t).replace(Nr,"&amp;").replace(Br,"&lt;").replace(Ur,"&gt;").replace(Vr,"&quot;").replace(Hr,"&#39;")}function i(t){var e=window.console;"undefined"!=typeof e&&e.log&&e.log(t)}function s(t){return"function"==typeof t}function a(t){return"string"==typeof t?[t]:t}function l(){this._defaultPrevented=!0}function c(){return this._defaultPrevented===!0}function u(t){var e=t.dataURI,n=t.fileName,r=e;if("string"==typeof r&&window.Blob){for(var o=r.split(";base64,"),i=o[0],s=atob(o[1]),a=new Uint8Array(s.length),l=0;l<s.length;l++)a[l]=s.charCodeAt(l);r=new Blob([a.buffer],{type:i})}if(navigator.msSaveBlob)navigator.msSaveBlob(r,n);else{var c=document.createElement("a");c.download=n,r=c.href=URL.createObjectURL(r);var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(u),setTimeout(function(){URL.revokeObjectURL(r)})}}function p(){throw new Error("String template not yet supported.  Pass a function and use your preferred template engine.")}function h(){return(new Date).getTime()}function f(t,e){var n,r=0;if(!e||e<=0)return t;var o=function(){var o=h()-r,i=arguments,s=function(){t.apply(null,i),r=h()};return r?(n&&clearTimeout(n),void(o>e?s():n=setTimeout(s,e-o))):s()};return o.cancel=function(){clearTimeout(n)},o}function d(t,e,n){void 0===n&&(n="0");for(var r=t.toString(16);e>r.length;)r=n+r;return r}function v(t,e,n){var r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function y(t,e){var n,r;if(null==t||"none"===t)return null;if(t instanceof Yr)return t;var o=t.toLowerCase();if(n=$r(o))return o="transparent"===n[1]?new Xr(1,1,1,0):y(Wr[n[1]],e),o.match=[n[1]],o;if((n=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(o))?r=new Jr(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),1):(n=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(o))?r=new Jr(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),1):(n=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(o))?r=new Jr(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),1):(n=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(o))?r=new Jr(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4])):(n=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(o))?r=new Xr(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,1):(n=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(o))&&(r=new Xr(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4]))),r)r.match=n;else if(!e)throw new Error("Cannot parse color: "+o);return r}function g(t,e){return t.push.apply(t,e),t}function m(t){for(var e=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],n="";t>0;)t<e[0]?e.shift():(n+=ro[e[0]],t-=e[0]);return n}function b(){var t,e,n=new Promise(function(r,o){t=function(t){return n._state="resolved",r(t),n},e=function(t){return n._state="rejected",o(t),n}});return n._state="pending",n.resolve=t,n.reject=e,n.state=function(){return n._state},n}function w(t){return typeof t!==oo}function _(){return"kdef"+io++}function x(t){return t/so}function k(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=uo(r):r<2048?(e+=uo(192|r>>>6),e+=uo(128|63&r)):r<65536&&(e+=uo(224|r>>>12),e+=uo(128|r>>>6&63),e+=uo(128|63&r))}return e}function S(t){for(var e="",n=0,r=k(t);n<r.length;){var o=r.charCodeAt(n++),i=r.charCodeAt(n++),s=r.charCodeAt(n++),a=o>>2,l=(3&o)<<4|i>>4,c=(15&i)<<2|s>>6,u=63&s;isNaN(i)?c=u=64:isNaN(s)&&(u=64),e=e+co.charAt(a)+co.charAt(l)+co.charAt(c)+co.charAt(u)}return e}function O(t){return w((t.x||{}).location)?{x:t.x.location,y:t.y.location}:{x:t.pageX||t.clientX||0,y:t.pageY||t.clientY||0}}function C(t){return void 0===t&&(t={}),t.touch?t.touch.initialTouch:t.target}function M(t){return""===t||null===t||"none"===t||"transparent"===t||!w(t)}function T(t){if(t)return t[t.length-1]}function E(t,e,n){return Math.max(Math.min(t,n),e)}function P(t,e){function n(t,n){for(var r=[],o=0,i=0,s=0;o<t.length&&i<n.length;)e(t[o],n[i])<=0?r[s++]=t[o++]:r[s++]=n[i++];return o<t.length&&r.push.apply(r,t.slice(o)),i<n.length&&r.push.apply(r,n.slice(i)),r}return t.length<2?t.slice():function t(e){if(e.length<=1)return e;var r=Math.floor(e.length/2),o=e.slice(0,r),i=e.slice(r);return o=t(o),i=t(i),n(o,i)}(t)}function A(t){return Promise.all(t)}function j(t){return t*so}function D(t){return t?Math.pow(10,t):1}function R(t,e){var n=D(e);return Math.round(t*n)/n}function I(t,e){return w(t)?t:e}function z(t,e){for(var n in e)for(var r=n.trim().split(" "),o=0;o<r.length;o++)t.addEventListener(r[o],e[n],!1)}function F(t){var e=t.getBoundingClientRect(),n=document.documentElement;return{top:e.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:e.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}}function L(t,e){for(var n={},r=window.getComputedStyle(t)||{},o=Array.isArray(e)?e:[e],i=0;i<o.length;i++){var s=o[i];n[s]=r[s]}return n}function N(t){return isNaN(t)?t:t+"px"}function B(t,e){if(!e){var n=L(t,["width","height"]);return{width:parseInt(n.width,10),height:parseInt(n.height,10)}}var r=e.width,o=e.height;w(r)&&(t.style.width=N(r)),w(o)&&(t.style.height=N(o))}function V(t,e){void 0===e&&(e={});for(var n in e)for(var r=n.trim().split(" "),o=0;o<r.length;o++)t.removeEventListener(r[o],e[n],!1)}function H(t){return String(t).replace(ho,fo)}function U(t){var e=[];for(var n in t)e.push(n+t[n]);return e.sort().join("")}function K(t){for(var e=2166136261,n=0;n<t.length;++n)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=t.charCodeAt(n);return e>>>0}function q(){return{width:0,height:0,baseline:0}}function W(t,e,n){return yo.current.measure(t,e,n)}function G(t){return function(e){return this[t]!==e&&(this[t]=e,this.geometryChange()),this}}function $(t){return function(){return this[t]}}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n],o=r.charAt(0).toUpperCase()+r.substring(1,r.length);t["set"+o]=G(r),t["get"+o]=$(r)}}function X(t){return t&&"function"==typeof t.matrix?t.matrix():t}function J(t){return null===t?null:t instanceof So?t:new So(t)}function Z(t,e,n,r){var o=0,i=0;return r&&(o=Math.atan2(r.c*n,r.a*e),0!==r.b&&(i=Math.atan2(r.d*n,r.b*e))),{x:o,y:i}}function Q(t){var e="_"+t;return function(t){return w(t)?(this._observerField(e,t),this.geometryChange(),this):this[e]}}function tt(t,e){for(var n=0;n<e.length;n++)t[e[n]]=Q(e[n])}function et(t,e,n){return void 0===n&&(n=Ro),0===R(Math.abs(t-e),n)}function nt(t,e,n){return t<e||et(t,e,n)}function rt(t,e,n,r){var o=e.x-t.x,i=r.x-n.x,s=e.y-t.y,a=r.y-n.y,l=t.x-n.x,c=t.y-n.y,u=o*a-i*s,p=(o*c-s*l)/u,h=(i*c-a*l)/u;if(p>=0&&p<=1&&h>=0&&h<=1)return new _o(t.x+h*o,t.y+h*s)}function ot(t,e,n,r,o,i){var s=R((o-t)/n,3),a=R((i-e)/r,3);return R(x(Math.atan2(a,s)))}function it(t){var e=t.x1,n=t.y1,r=t.x2,o=t.y2,i=t.rx,s=t.ry,a=t.largeArc,l=t.swipe,c=t.rotation;void 0===c&&(c=0);var u=j(c),p=Math.cos(u),h=Math.sin(u),f=p*(e-r)/2+h*(n-o)/2,d=-h*(e-r)/2+p*(n-o)/2,v=a!==l?1:-1,y=Math.pow(f,2),g=Math.pow(d,2),m=Math.pow(i,2),b=Math.pow(s,2),w=y/m+g/b;w>1&&(w=Math.sqrt(y/m+g/b),i*=w,m=Math.pow(i,2),s*=w,b=Math.pow(s,2));var _=v*Math.sqrt((m*b-m*g-b*y)/(m*g+b*y));isNaN(_)&&(_=0);var k=_*(i*d)/s,S=-_*(s*f)/i,O=p*k-h*S+(e+r)/2,C=h*k+p*S+(n+o)/2,M=(f-k)/i,T=(d-S)/s,E=-(f+k)/i,P=-(d+S)/s,A=(T>=0?1:-1)*x(Math.acos(M/Math.sqrt(M*M+T*T))),D=R((M*E+T*P)/(Math.sqrt(M*M+T*T)*Math.sqrt(E*E+P*P)),10),I=(M*P-T*E>=0?1:-1)*x(Math.acos(D));!l&&I>0&&(I-=360),l&&I<0&&(I+=360);var z=A+I,F=z>=0?1:-1;return z=Math.abs(z)%360*F,{center:new _o(O,C),startAngle:A,endAngle:z,radiusX:i,radiusY:s,xRotation:c}}function st(t,e){for(var n=t;n<e;)n+=90;return n}function at(t){var e="_"+t;return function(t){return w(t)?(this._observerField(e,_o.create(t)),this.geometryChange(),this):this[e]}}function lt(t,e){for(var n=0;n<e.length;n++)t[e[n]]=at(e[n])}function ct(t,e,n){var r=x(Math.atan2(e.y-t.y,e.x-t.x)),o=n.transformCopy(J().rotate(-r,t));return o.x<t.x}function ut(t,e,n){var r=1-t;return Math.pow(r,3)*n[0][e]+3*Math.pow(r,2)*t*n[1][e]+3*Math.pow(t,2)*r*n[2][e]+Math.pow(t,3)*n[3][e]}function pt(t,e){return[-t[0][e]+3*t[1][e]-3*t[2][e]+t[3][e],3*(t[0][e]-2*t[1][e]+t[2][e]),3*(-t[0][e]+t[1][e]),t[0][e]]}function ht(t){return t<0?-1:1}function ft(t,e,n){var r=Math.sqrt(Math.pow(e,2)-4*t*n);return[(-e+r)/(2*t),(-e-r)/(2*t)]}function dt(t,e,n,r){if(0===t)return ft(e,n,r);var o,i,s,a,l,c,u,p=(3*t*n-Math.pow(e,2))/(3*Math.pow(t,2)),h=(2*Math.pow(e,3)-9*t*e*n+27*Math.pow(t,2)*r)/(27*Math.pow(t,3)),f=Math.pow(p/3,3)+Math.pow(h/2,2),d=new Wo(0,1),v=-e/(3*t);f<0?(o=new Wo(-h/2,Math.sqrt(-f)).nthRoot(3),i=new Wo(-h/2,-Math.sqrt(-f)).nthRoot(3)):(o=-h/2+Math.sqrt(f),o=new Wo(ht(o)*Math.pow(Math.abs(o),1/3)),i=-h/2-Math.sqrt(f),i=new Wo(ht(i)*Math.pow(Math.abs(i),1/3))),s=o.add(i),c=o.add(i).multiplyConstant(-.5),u=o.add(i.negate()).multiplyConstant(Math.sqrt(3)/2),a=c.add(d.multiply(u)),l=c.add(d.negate().multiply(u));var y=[];return s.isReal()&&y.push(R(s.real+v,Ro)),a.isReal()&&y.push(R(a.real+v,Ro)),l.isReal()&&y.push(R(l.real+v,Ro)),y}function vt(t,e,n,r,o){for(var i,s=pt(t,r),a=dt(s[0],s[1],s[2],s[3]-e[r]),l=0;l<a.length;l++)if(0<=a[l]&&a[l]<=1&&(i=ut(a[l],n,t),Math.abs(i-e[n])<=o))return!0}function yt(t,e,n){for(var r,o,i=pt(t,"x"),s=dt(i[0],i[1],i[2],i[3]-e.x),a=0,l=0;l<s.length;l++)r=ut(s[l],"y",t),o=et(r,e.y)||r>e.y,o&&((0===s[l]||1===s[l])&&n.bottomRight().x>e.x||0<s[l]&&s[l]<1)&&a++;return a}function gt(t,e,n){var r;if(t.x!==e.x){var o=Math.min(t.x,e.x),i=Math.max(t.x,e.x),s=Math.min(t.y,e.y),a=Math.max(t.y,e.y),l=o<=n.x&&n.x<i;r=s===a?n.y<=s&&l:l&&(a-s)*((t.x-e.x)*(t.y-e.y)>0?n.x-o:i-n.x)/(i-o)+s-n.y>=0}return r?1:0}function mt(t){for(var e=t.length,n=ao,r=lo,o=0;o<e;o++)r=Math.max(r,t[o]),n=Math.min(n,t[o]);return{min:n,max:r}}function bt(t,e,n){for(var r,o=0;o<t.length;o++){var i=t[o];if(i.visible()){var s=e?i.bbox(n):i.rawBBox();s&&(r=r?ko.union(r,s):s)}}return r}function wt(t,e){for(var n,r=0;r<t.length;r++){var o=t[r];if(o.visible()){var i=o.clippedBBox(e);i&&(n=n?ko.union(n,i):i)}}return n}function _t(t,e,n){for(var r=e?0:1,o=0;o<t.length;o+=2)t.splice(o+r,0,n)}function xt(t,e){if(t&&e)return e.scaleCopy(2).translate(-t.x,-t.y)}function kt(t,e,n){var r=e.clone().scale(2/3);return{controlOut:r.clone().translateWith(t.scaleCopy(Xo)),controlIn:r.translateWith(n.scaleCopy(Xo))}}function St(t){var e=[];return t.replace(Zo,function(t,n){e.push(parseFloat(n))}),e}function Ot(t,e,n){var r=n.transform()||J(),o=r.matrix();o.e+=t.x-e.origin.x,o.f+=t.y-e.origin.y,r.matrix(o),n.transform(r)}function Ct(t,e,n,r,o){var i;return i="start"===n?e.origin[r]:"end"===n?e.origin[r]+e.size[o]-t:e.origin[r]+(e.size[o]-t)/2}function Mt(t,e,n,r,o){var i;return i="start"===n?e.origin[r]+e.size[o]-t:"end"===n?e.origin[r]:e.origin[r]+(e.size[o]-t)/2}function Tt(t,e,n,r,o){for(var i=0;i<t.length;i++){var s=t[i].clippedBBox();if(s){var a=s.origin.clone();a[r]=Ct(s.size[o],e,n||"start",r,o),Ot(a,s,t[i])}}}function Et(t,e,n){Tt(t,e,n,"x","width")}function Pt(t,e,n){Tt(t,e,n,"y","height")}function At(t,e,n,r){if(t.length>1)for(var o=new _o,i=t[0].bbox,s=1;s<t.length;s++){var a=t[s].element,l=t[s].bbox;o[e]=i.origin[e]+i.size[r],o[n]=l.origin[n],Ot(o,l,a),l.origin[e]=o[e],i=l}}function jt(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],o=r.clippedBBox();o&&e.push({element:r,bbox:o})}return e}function Dt(t){At(jt(t),"x","y","width")}function Rt(t){At(jt(t),"y","x","height")}function It(t,e,n){for(var r,o,i=e.size[n],s=[],a=[],l=0,c=function(){a.push({element:r,bbox:o})},u=0;u<t.length;u++)if(r=t[u],o=r.clippedBBox()){var p=o.size[n];l+p>i?a.length?(s.push(a),a=[],c(),l=p):(c(),s.push(a),a=[],l=0):(c(),l+=p)}return a.length&&s.push(a),s}function zt(t,e,n,r,o){for(var i=It(t,e,o),s=e.origin.clone(),a=[],l=0;l<i.length;l++){var c=i[l],u=c[0];s[r]=u.bbox.origin[r],Ot(s,u.bbox,u.element),u.bbox.origin[n]=s[n],At(c,n,r,o),a.push([]);for(var p=0;p<c.length;p++)a[l].push(c[p].element)}return a}function Ft(t,e){return zt(t,e,"x","y","width")}function Lt(t,e){return zt(t,e,"y","x","height")}function Nt(t,e){var n=t.clippedBBox();if(n){var r=n.size,o=e.size;if(o.width<r.width||o.height<r.height){var i=Math.min(o.width/r.width,o.height/r.height),s=t.transform()||J();s.scale(i,i),t.transform(s)}}}function Bt(t){return function(e){return w(e)?(this.options.set(t,e),this):this.options.get(t)}}function Vt(t,e){for(var n=0;n<e.length;n++)t[e[n]]=Bt(e[n])}function Ht(t){return.5-Math.cos(t*Math.PI)/2}function Ut(t){return t}function Kt(t,e,n,r){var o=1.70158,i=0,s=r;return 0===t?n:1===t?n+r:(i||(i=.5),s<Math.abs(r)?(s=r,o=i/4):o=i/(2*Math.PI)*Math.asin(r/s),s*Math.pow(2,-10*t)*Math.sin((Number(t)-o)*(1.1*Math.PI)/i)+r+n)}function qt(t,e){return w(e)&&null!==e?" "+t+'="'+e+'" ':""}function Wt(t){for(var e="",n=0;n<t.length;n++)e+=qt(t[n][0],t[n][1]);return e}function Gt(t){for(var e="",n=0;n<t.length;n++){var r=t[n][1];w(r)&&(e+=t[n][0]+":"+r+";")}if(""!==e)return e}function $t(t,e){return"clip"===t||"fill"===t&&(!e||"Gradient"===e.nodeType)}function Yt(){var t=document.getElementsByTagName("base")[0],e=document.location.href,n="";if(t&&!(qr.browser||{}).msie){var r=e.indexOf("#");r!==-1&&(e=e.substring(0,r)),n=e}return n}function Xt(t){var e;try{e=t.getScreenCTM?t.getScreenCTM():null}catch(t){}if(e){var n=-e.e%1,r=-e.f%1,o=t.style;0===n&&0===r||(o.left=n+"px",o.top=r+"px")}}function Jt(t){if(!t||"string"!=typeof t||!ss.test(t))return t;var e=Jt._element;return ss.lastIndex=0,t.replace(ss,function(t){return e.innerHTML=t,e.textContent||e.innerText})}function Zt(t){var e=new Wi({skipBaseHref:!0}),n=t.clippedBBox(),r=t;if(n){var o=n.getOrigin(),i=new ui;i.transform(J().translate(-o.x,-o.y)),i.children.push(t),r=i}e.load([r]);var s="<?xml version='1.0' ?><svg xmlns='"+Pi+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+e.render()+"</svg>";return e.destroy(),s}function Qt(t,e){var n=e.segments;if(0!==n.length){var r=n[0],o=r.anchor();t.moveTo(o.x,o.y);for(var i=1;i<n.length;i++){r=n[i],o=r.anchor();var s=n[i-1],a=s.controlOut(),l=r.controlIn();a&&l?t.bezierCurveTo(a.x,a.y,l.x,l.y,o.x,o.y):t.lineTo(o.x,o.y)}e.options.closed&&t.closePath()}}function te(t,e){return t._zIndex<e._zIndex?1:t._zIndex>e._zIndex?-1:0}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n],o=y(r.color());o.a*=r.opacity(),t.addColorStop(r.offset(),o.toCssRgba())}}function ne(t,e){var n={width:"800px",height:"600px",cors:"Anonymous"},r=t,o=t.clippedBBox();if(o){var i=o.getOrigin();r=new ui,r.transform(J().translate(-i.x,-i.y)),r.children.push(t);var s=o.getSize();n.width=s.width+"px",n.height=s.height+"px"}var a=Object.assign(n,e),l=document.createElement("div"),c=l.style;c.display="none",c.width=a.width,c.height=a.height,document.body.appendChild(l);var u=new ks(l,a);u.suspendTracking(),u.draw(r);var p=u.image(),h=function(){u.destroy(),document.body.removeChild(l)};return p.then(h,h),p}function re(t,e){var n=Zt(t);return e&&e.raw||(n="data:image/svg+xml;base64,"+S(n)),b().resolve(n)}function oe(t){function e(){return w>=_}function n(){return w<_?t[w++]:0}function r(e){x(w),t[w++]=255&e,w>_&&(_=w)}function o(){return n()<<8|n()}function i(t){r(t>>8),r(t)}function s(){var t=o();return t>=32768?t-65536:t}function a(t){i(t<0?t+65536:t)}function l(){return 65536*o()+o()}function c(t){i(t>>>16&65535),i(65535&t)}function u(){var t=l();return t>=2147483648?t-4294967296:t}function p(t){c(t<0?t+4294967296:t)}function h(){return l()/65536}function f(t){c(Math.round(65536*t))}function d(){return u()/65536}function v(t){p(Math.round(65536*t))}function y(t){return b(t,n)}function g(t){return String.fromCharCode.apply(String,y(t))}function m(t){for(var e=0;e<t.length;++e)r(t.charCodeAt(e))}function b(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=e();return n}var w=0,_=0;null==t?t=Ds?new Uint8Array(256):[]:_=t.length;var x=Ds?function(e){if(e>=t.length){var n=new Uint8Array(Math.max(e+256,2*t.length));n.set(t,0),t=n}}:function(){},k=Ds?function(){return new Uint8Array(t.buffer,0,_)}:function(){return t},S=Ds?function(e){if("string"==typeof e)return m(e);var n=e.length;x(w+n),t.set(e,w),w+=n,w>_&&(_=w)}:function(t){if("string"==typeof t)return m(t);for(var e=0;e<t.length;++e)r(t[e])},O=Ds?function(e,n){if(t.buffer.slice)return new Uint8Array(t.buffer.slice(e,e+n));var r=new Uint8Array(n);return r.set(new Uint8Array(t.buffer,e,n)),r}:function(e,n){return t.slice(e,e+n)},C={eof:e,readByte:n,writeByte:r,readShort:o,writeShort:i,readLong:l,writeLong:c,readFixed:h,writeFixed:f,readShort_:s,writeShort_:a,readLong_:u,writeLong_:p,readFixed_:d,writeFixed_:v,read:y,write:S,readString:g,writeString:m,times:b,get:k,slice:O,offset:function(t){return null!=t?(w=t,C):w},skip:function(t){w+=t},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return _},saveExcursion:function(t){var e=w;try{return t()}finally{w=e}},writeBase64:function(t){window.atob?m(window.atob(t)):S(Rs.decode(t))},base64:function(){return Rs.encode(k())}};return C}function ie(t){for(var e,n,r=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function se(t){return t.map(function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)}).join("")}function ae(t){for(var e=window.atob(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function le(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t[n];return e}function ce(t){return window.atob?ae(t):le(Rs.decode(t))}function ue(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pe(t){return Object.keys(t).sort(function(t,e){return t-e}).map(parseFloat)}function he(t){this.raw=t,this.scalerType=t.readLong(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort();for(var e=this.tables={},n=0;n<this.tableCount;++n){var r={tag:t.readString(4),checksum:t.readLong(),offset:t.readLong(),length:t.readLong()};e[r.tag]=r}}function fe(t){function e(t,e){this.definition=e,this.length=e.length,this.offset=e.offset,this.file=t,this.rawData=t.raw,this.parse(t.raw)}e.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)};for(var n in t)ue(t,n)&&(e[n]=e.prototype[n]=t[n]);return e}function de(){for(var t="",e=String(qs),n=0;n<e.length;++n)t+=String.fromCharCode(e.charCodeAt(n)-48+65);return++qs,t}function ve(t){this.font=t,this.subset={},this.unicodes={},this.ogid2ngid={0:0},this.ngid2ogid={0:0},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=de()+"+"+this.font.psName}function ye(t,e){var n=this,r=n.contents=oe(t);if("ttcf"==r.readString(4)){var o,i=function(){r.offset(o),n.parse()};if(!e)throw new Error("Must specify a name for TTC files");r.readLong();for(var s=r.readLong(),a=0;a<s;++a)if(o=r.readLong(),r.saveExcursion(i),n.psName==e)return;throw new Error("Font "+e+" not found in collection")}r.offset(0),n.parse()}function ge(){return!0}function me(){function t(){for(var e=arguments,r=0;r<arguments.length;++r){var o=e[r];if(void 0===o)throw new Error("Cannot output undefined to PDF");if(o instanceof Fe)o.beforeRender(t),o.render(t);else if(ea(o))Ae(o,t);else if(Pe(o))je(o,t);else if("number"==typeof o){if(isNaN(o))throw new Error("Cannot output NaN to PDF");var i=o.toFixed(7);i.indexOf(".")>=0&&(i=i.replace(/\.?0+$/,"")),"-0"==i&&(i="0"),n.writeString(i)}else/string|boolean/.test(typeof o)?n.writeString(String(o)):"function"==typeof o.get?n.write(o.get()):"object"==typeof o&&(o?t(new sa(o)):n.writeString("null"))}}var e=0,n=oe();return t.writeData=function(t){n.write(t)},t.withIndent=function(n){++e,n(t),--e},t.indent=function(){t($s,Me("",2*e,"  ")),t.apply(null,arguments)},t.offset=function(){return n.offset()},t.toString=function(){throw new Error("FIX CALLER")},t.get=function(){return n.get()},t.stream=function(){return n},t}function be(t,e){var n=t.beforeRender,r=t.render;t.beforeRender=function(){},t.render=function(t){t(e," 0 R")},t.renderFull=function(o){t._offset=o.offset(),o(e," 0 obj "),n.call(t,o),r.call(t,o),o(" endobj")}}function we(t){if("function"!=typeof t){var e=t;t=function(t,n){return t in e?e[t]:n}}var n=t("paperSize",Xs.a4);if(!n)return{};if("string"==typeof n&&(n=Xs[n.toLowerCase()],null==n))throw new Error("Unknown paper size");n[0]=ze(n[0]),n[1]=ze(n[1]),t("landscape",!1)&&(n=[Math.max(n[0],n[1]),Math.min(n[0],n[1])]);var r=t("margin");return r&&("string"==typeof r||"number"==typeof r?(r=ze(r,0),r={left:r,top:r,right:r,bottom:r}):r={left:ze(r.left,0),top:ze(r.top,0),right:ze(r.right,0),bottom:ze(r.bottom,0)},t("addMargin")&&(n[0]+=r.left+r.right,n[1]+=r.top+r.bottom)),{paperSize:n,margin:r}}function _e(t){function e(e,n){return t&&null!=t[e]?t[e]:n}var n=this,r=me(),o=0,i=[];n.getOption=e,n.attach=function(t){return i.indexOf(t)<0&&(be(t,++o),i.push(t)),t},n.pages=[],n.FONTS={},n.IMAGES={},n.GRAD_COL_FUNCTIONS={},n.GRAD_OPC_FUNCTIONS={},n.GRAD_COL={},n.GRAD_OPC={};var s=n.attach(new la),a=n.attach(new ca);if(e("autoPrint")){var l={};l.JavaScript=new sa({Names:[new na("JS"),n.attach(new sa({S:Ne("JavaScript"),JS:new na("print(true);")}))]}),s.props.Names=new sa(l)}s.setPages(a);var c=n.attach(new sa({Producer:new na(e("producer","Kendo UI PDF Generator")),Title:new na(e("title","")),Author:new na(e("author","")),Subject:new na(e("subject","")),Keywords:new na(e("keywords","")),Creator:new na(e("creator","Kendo UI PDF Generator")),CreationDate:e("date",new Date)}));n.addPage=function(t){var e=we(function(e,n){return t&&null!=t[e]?t[e]:n}),r=e.paperSize,o=e.margin,i=r[0],s=r[1];o&&(i-=o.left+o.right,s-=o.top+o.bottom);var l=new aa(me(),null,!0),c={Contents:n.attach(l),Parent:a,MediaBox:[0,0,r[0],r[1]]},u=new da(n,c);return u._content=l,a.addPage(n.attach(u)),u.transform(1,0,0,-1,0,r[1]),o&&(u.translate(o.left,o.top),u.rect(0,0,i,s),u.clip()),n.pages.push(u),u},n.render=function(){var t;for(r("%PDF-1.4",$s,"%ÂÁÚÏÎ",$s,$s),t=0;t<i.length;++t)i[t].renderFull(r),r($s,$s);var e=r.offset();for(r("xref",$s,0," ",i.length+1,$s),r("0000000000 65535 f ",$s),t=0;t<i.length;++t)r(Te(i[t]._offset,10)," 00000 n ",$s);return r($s),r("trailer",$s),r(new sa({Size:i.length+1,Root:s,Info:c}),$s,$s),r("startxref",$s,e,$s),r("%%EOF",$s),r.stream().offset(0)}}function xe(t,e){function n(){window.console&&(window.console.error?window.console.error("Cannot load URL: %s",t):window.console.log("Cannot load URL: %s",t)),e(null)}var r;if(Gs.msie&&(r=/^data:.*?;base64,/i.exec(t)))return void e(ce(t.substr(r[0].length)));var o=new XMLHttpRequest;o.open("GET",t,!0),Ds&&(o.responseType="arraybuffer"),o.onload=function(){200==o.status||304==o.status?e(Ds?new Uint8Array(o.response):new window.VBArray(o.responseBody).toArray()):n()},o.onerror=n,o.send(null)}function ke(t,e){var n=Js[t];n?e(n):xe(t,function(n){if(null==n)throw new Error("Cannot load font from "+t);var r=new ye(n);Js[t]=r,e(r)})}function Se(){Zs={}}function Oe(t,e,n){function r(t){c.src=t,c.complete&&!Gs.msie?s():(c.onload=s,c.onerror=i)}function o(){e||(e={width:c.width,height:c.height});var r=document.createElement("canvas");r.width=e.width,r.height=e.height;var o=r.getContext("2d");o.drawImage(c,0,0,e.width,e.height);var s;try{s=o.getImageData(0,0,e.width,e.height)}catch(t){return void i()}finally{a&&URL.revokeObjectURL(a)}for(var l=!1,u=oe(),p=oe(),h=s.data,f=0;f<h.length;){u.writeByte(h[f++]),u.writeByte(h[f++]),u.writeByte(h[f++]);var d=h[f++];d<255&&(l=!0),p.writeByte(d)}if(l)c=new Ve(e.width,e.height,u,p);else{var v=r.toDataURL("image/jpeg");v=v.substr(v.indexOf(";base64,")+8);var y=oe();y.writeBase64(v),c=new Be(y)}n(Zs[t]=c)}function i(){n(Zs[t]="ERROR")}function s(){if(e&&(e.width>=c.width||e.height>=c.height)&&(e=null),!e&&l&&/^image\/jpe?g$/i.test(l.type)){var r=new FileReader;r.onload=function(){try{var e=new Be(oe(new Uint8Array(this.result)));URL.revokeObjectURL(a),n(Zs[t]=e)}catch(t){o()}},r.readAsArrayBuffer(l)}else o()}var a,l,c=Zs[t];if(c)n(c);else if(c=new Image,/^data:/i.test(t)||(c.crossOrigin="Anonymous"),Ds&&!/^data:/i.test(t)){var u=new XMLHttpRequest;u.onload=function(){l=u.response,a=URL.createObjectURL(l),r(a)},u.onerror=i,u.open("GET",t,!0),u.responseType="blob",u.send()}else r(t)}function Ce(t){return function(e,n){function r(){0===--o&&n()}var o=e.length,i=o;if(0===o)return n();for(;i-- >0;)t(e[i],r)}}function Me(t,e,n){for(;t.length<e;)t=n+t;return t}function Te(t,e){return Me(String(t),e,"0")}function Ee(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Pe(t){return t instanceof Date}function Ae(t,e){e("["),t.length>0&&e.withIndent(function(){for(var n=0;n<t.length;++n)n>0&&n%8===0?e.indent(t[n]):e(" ",t[n])}),e(" ]")}function je(t,e){e("(D:",Te(t.getUTCFullYear(),4),Te(t.getUTCMonth()+1,2),Te(t.getUTCDate(),2),Te(t.getUTCHours(),2),Te(t.getUTCMinutes(),2),Te(t.getUTCSeconds(),2),"Z)")}function De(t){return t*(72/25.4)}function Re(t){return De(10*t)}function Ie(t){return 72*t}function ze(t,e){if("number"==typeof t)return t;if("string"==typeof t){var n;if(n=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(t)){var r=parseFloat(n[1]);if(!isNaN(r))return"pt"==n[2]?r:{mm:De,cm:Re,in:Ie}[n[2]](r)}}if(null!=e)return e;throw new Error("Can't parse unit: "+t)}function Fe(){}function Le(t,e,n){n||(n=Fe),t.prototype=new n;for(var r in e)Ee(e,r)&&(t.prototype[r]=e[r]);return t}function Ne(t){return Ee(ia,t)?ia[t]:ia[t]=new oa(t)}function Be(t){t.offset(0);var e,n,r,o,i=t.readShort();if(65496!=i)throw new Error("Invalid JPEG image");for(;!t.eof();){var s=t.readByte();if(255!=s)throw new Error("Invalid JPEG image");var a=t.readByte(),l=t.readShort();if(ua.indexOf(a)>=0){o=t.readByte(),n=t.readShort(),e=t.readShort(),r=t.readByte();break}t.skip(l-2)}if(null==r)throw new Error("Invalid JPEG image");var c={Type:Ne("XObject"),Subtype:Ne("Image"),Width:e,Height:n,BitsPerComponent:o,Filter:Ne("DCTDecode")};switch(r){case 1:c.ColorSpace=Ne("DeviceGray");break;case 3:c.ColorSpace=Ne("DeviceRGB");break;case 4:c.ColorSpace=Ne("DeviceCMYK"),c.Decode=[1,0,1,0,1,0,1,0]}this.asStream=function(){t.offset(0);var e=new aa(t,c);return e._resourceName=Ne("I"+ ++Ys),e}}function Ve(t,e,n,r){this.asStream=function(o){var i=new aa(r,{Type:Ne("XObject"),Subtype:Ne("Image"),Width:t,Height:e,BitsPerComponent:8,ColorSpace:Ne("DeviceGray")},!0),s=new aa(n,{Type:Ne("XObject"),Subtype:Ne("Image"),Width:t,Height:e,BitsPerComponent:8,ColorSpace:Ne("DeviceRGB"),SMask:o.attach(i)},!0);return s._resourceName=Ne("I"+ ++Ys),s}}function He(t){return t.map(function(t){return ea(t)?He(t):"number"==typeof t?(Math.round(1e3*t)/1e3).toFixed(3):t}).join(" ")}function Ue(t,e,n,r,o,i,s){var a=He([e,n,r,o,i,s]),l=t.GRAD_COL_FUNCTIONS[a];return l||(l=t.GRAD_COL_FUNCTIONS[a]=t.attach(new sa({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[e,n,r],C1:[o,i,s]}))),l}function Ke(t,e,n){var r=He([e,n]),o=t.GRAD_OPC_FUNCTIONS[r];return o||(o=t.GRAD_OPC_FUNCTIONS[r]=t.attach(new sa({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[e],C1:[n]}))),o}function qe(t,e){function n(t){return 1==t.length?t[0]:{FunctionType:3,Functions:t,Domain:[0,1],Bounds:p,Encode:h}}var r,o,i,s,a,l=!1,c=[],u=[],p=[],h=[];for(r=1;r<e.length;++r)o=e[r-1],i=e[r],s=o.color,a=i.color,u.push(Ue(t,s.r,s.g,s.b,a.r,a.g,a.b)),(s.a<1||a.a<1)&&(l=!0),p.push(i.offset),h.push(0,1);if(l)for(r=1;r<e.length;++r)o=e[r-1],i=e[r],s=o.color,a=i.color,c.push(Ke(t,s.a,a.a));return p.pop(),{hasAlpha:l,colors:n(u),opacities:l?n(c):null}}function We(t,e,n,r,o,i){var s,a;if(!i){var l=[e].concat(r);n.forEach(function(t){l.push(t.offset,t.color.r,t.color.g,t.color.b)}),a=He(l),s=t.GRAD_COL[a]}return s||(s=new sa({Type:Ne("Shading"),ShadingType:e?3:2,ColorSpace:Ne("DeviceRGB"),Coords:r,Domain:[0,1],Function:o,Extend:[!0,!0]}),t.attach(s),s._resourceName="S"+ ++Ys,a&&(t.GRAD_COL[a]=s)),s}function Ge(t,e,n,r,o,i){var s,a;if(!i){var l=[e].concat(r);n.forEach(function(t){l.push(t.offset,t.color.a)}),a=He(l),s=t.GRAD_OPC[a]}return s||(s=new sa({Type:Ne("ExtGState"),AIS:!1,CA:1,ca:1,SMask:{Type:Ne("Mask"),S:Ne("Luminosity"),G:t.attach(new aa("/a0 gs /s0 sh",{Type:Ne("XObject"),Subtype:Ne("Form"),FormType:1,BBox:i?[i.left,i.top+i.height,i.left+i.width,i.top]:[0,1,1,0],Group:{Type:Ne("Group"),S:Ne("Transparency"),CS:Ne("DeviceGray"),I:!0},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:Ne("DeviceGray"),Coords:r,Domain:[0,1],ShadingType:e?3:2,Function:o,Extend:[!0,!0]}}}}))}}),t.attach(s),s._resourceName="O"+ ++Ys,a&&(t.GRAD_OPC[a]=s)),s}function $e(t,e,n){var r="radial"==e.type,o=qe(t,e.stops),i=r?[e.start.x,e.start.y,e.start.r,e.end.x,e.end.y,e.end.r]:[e.start.x,e.start.y,e.end.x,e.end.y],s=We(t,r,e.stops,i,o.colors,e.userSpace&&n),a=o.hasAlpha?Ge(t,r,e.stops,i,o.opacities,e.userSpace&&n):null;return{hasAlpha:o.hasAlpha,shading:s,opacity:a}}function Ye(t){return t.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function Xe(t){var e=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i,n=e.exec(t);
if(!n)return{fontSize:12,fontFamily:"sans-serif"};var r=n[8]?parseInt(n[8],10):12;return{italic:n[2]&&"italic"==n[2].toLowerCase(),variant:n[4],bold:n[6]&&/bold|700/i.test(n[6]),fontSize:r,lineHeight:n[12]?"normal"==n[12]?r:parseInt(n[12],10):null,fontFamily:n[14].split(/\s*,\s*/g).map(Ye)}}function Je(t){function e(e){return t.bold&&(e+="|bold"),t.italic&&(e+="|italic"),e.toLowerCase()}var n,r,o=t.fontFamily;if(o instanceof Array)for(var i=0;i<o.length&&(n=e(o[i]),!(r=va[n]));++i);else r=va[o.toLowerCase()];for(;"function"==typeof r;)r=r();return r||(r="Times-Roman"),r}function Ze(t,e){t=t.toLowerCase(),va[t]=function(){return va[e]},va[t+"|bold"]=function(){return va[e+"|bold"]},va[t+"|italic"]=function(){return va[e+"|italic"]},va[t+"|bold|italic"]=function(){return va[e+"|bold|italic"]}}function Qe(t,e){if(1==arguments.length)for(var n in t)Ee(t,n)&&Qe(n,t[n]);else switch(t=t.toLowerCase(),va[t]=e,t){case"dejavu sans":va["sans-serif"]=e;break;case"dejavu sans|bold":va["sans-serif|bold"]=e;break;case"dejavu sans|italic":va["sans-serif|italic"]=e;break;case"dejavu sans|bold|italic":va["sans-serif|bold|italic"]=e;break;case"dejavu serif":va.serif=e;break;case"dejavu serif|bold":va["serif|bold"]=e;break;case"dejavu serif|italic":va["serif|italic"]=e;break;case"dejavu serif|bold|italic":va["serif|bold|italic"]=e;break;case"dejavu mono":va.monospace=e;break;case"dejavu mono|bold":va["monospace|bold"]=e;break;case"dejavu mono|italic":va["monospace|italic"]=e;break;case"dejavu mono|bold|italic":va["monospace|bold|italic"]=e}}function tn(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],a=t[5],l=e[0],c=e[1],u=e[2],p=e[3],h=e[4],f=e[5];return[n*l+r*u,n*c+r*p,o*l+i*u,o*c+i*p,s*l+a*u+h,s*c+a*p+f]}function en(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]}function nn(t,e){function n(t,e,n){return n||(n=s),n.pdf&&null!=n.pdf[t]?n.pdf[t]:e}function r(){function r(t){var e=t.options,r=Cn(t),i=r.bbox;t=r.root;var s=n("paperSize",n("paperSize","auto"),e),a=!1;if("auto"==s)if(i){var l=i.getSize();s=[l.width,l.height],a=!0;var c=i.getOrigin();r=new ui,r.transform(new wo(1,0,0,1,-c.x,-c.y)),r.append(t),t=r}else s="A4";var u;u=o.addPage({paperSize:s,margin:n("margin",n("margin"),e),addMargin:a,landscape:n("landscape",n("landscape",!1),e)}),ln(t,u,o)}if(!(--c>0)){var o=new _e({producer:n("producer"),title:n("title"),author:n("author"),subject:n("subject"),keywords:n("keywords"),creator:n("creator"),date:n("date"),autoPrint:n("autoPrint")});a?t.children.forEach(r):r(t),e(o.render(),o)}}var o=[],i={},s=t.options,a=n("multiPage"),l=n("imgDPI");l&&Se(),t.traverse(function(t){an({Image:function(t){var e=t.src();if(l){var n=t.bbox().size,r=i[e];n={width:Math.ceil(n.width*l/72),height:Math.ceil(n.height*l/72)},r&&(n.width=Math.max(r.width,n.width),n.height=Math.max(r.height,n.height)),i[e]=n}else i[e]=null},Text:function(t){var e=Xe(t.options.font),n=Je(e);o.indexOf(n)<0&&o.push(n)}},t)});var c=2;Qs(o,r),ta(i,r)}function rn(t,e){nn(t,function(t){e("data:application/pdf;base64,"+t.base64())})}function on(t,e){nn(t,function(t){e(new window.Blob([t.get()],{type:"application/pdf"}))})}function sn(t,e,n,r){window.Blob&&!qr.browser.safari?on(t,function(t){u({dataURI:t,fileName:e}),r&&r(t)}):rn(t,function(t){u({dataURI:t,fileName:e,proxyURL:n}),r&&r(t)})}function an(t,e){var n=t[e.nodeType];return n?n.call.apply(n,arguments):e}function ln(t,e,n){t.options._pdfDebug&&e.comment("BEGIN: "+t.options._pdfDebug);var r=t.transform(),o=t.opacity();if(e.save(),null!=o&&o<1&&e.setOpacity(o),cn(t,e,n),un(t,e,n),r){var i=r.matrix();e.transform(i.a,i.b,i.c,i.d,i.e,i.f)}pn(t,e,n),an({Path:gn,MultiPath:mn,Circle:bn,Arc:wn,Text:_n,Image:kn,Group:xn,Rect:Sn},t,e,n),e.restore(),t.options._pdfDebug&&e.comment("END: "+t.options._pdfDebug)}function cn(t,e){var n=t.stroke&&t.stroke();if(n){var r=n.color;if(r){if(r=On(r),null==r)return;e.setStrokeColor(r.r,r.g,r.b),1!=r.a&&e.setStrokeOpacity(r.a)}var o=n.width;if(null!=o){if(0===o)return;e.setLineWidth(o)}var i=n.dashType;i&&e.setDashPattern(ma[i],0);var s=n.lineCap;s&&e.setLineCap(ba[s]);var a=n.lineJoin;a&&e.setLineJoin(wa[a]);var l=n.opacity;null!=l&&e.setStrokeOpacity(l)}}function un(t,e){var n=t.fill&&t.fill();if(n&&!(n instanceof mi)){var r=n.color;if(r){if(r=On(r),null==r)return;e.setFillColor(r.r,r.g,r.b),1!=r.a&&e.setFillOpacity(r.a)}var o=n.opacity;null!=o&&e.setFillOpacity(o)}}function pn(t,e,n){var r=t.clip();r&&(yn(r,e,n),e.clip())}function hn(t){return t&&(t instanceof mi||t.color&&!/^(none|transparent)$/i.test(t.color)&&(null==t.width||t.width>0)&&(null==t.opacity||t.opacity>0))}function fn(t,e,n,r){var o=t.fill();if(o instanceof mi){r?e.clipStroke():e.clip();var i,s,a=o instanceof wi;a?(i={x:o.center().x,y:o.center().y,r:0},s={x:o.center().x,y:o.center().y,r:o.radius()}):(i={x:o.start().x,y:o.start().y},s={x:o.end().x,y:o.end().y});var l=o.stops.elements().map(function(t){var e=t.offset();e=/%$/.test(e)?parseFloat(e)/100:parseFloat(e);var n=On(t.color());return n.a*=t.opacity(),{offset:e,color:n}});l.unshift(l[0]),l.push(l[l.length-1]);var c={userSpace:o.userSpace(),type:a?"radial":"linear",start:i,end:s,stops:l},u=t.rawBBox(),p=u.topLeft(),h=u.getSize();return u={left:p.x,top:p.y,width:h.width,height:h.height},e.gradient(c,u),!0}}function dn(t,e,n){hn(t.fill())&&hn(t.stroke())?fn(t,e,n,!0)||e.fillStroke():hn(t.fill())?fn(t,e,n,!1)||e.fill():hn(t.stroke())?e.stroke():e.nop()}function vn(t,e){var n=t.segments;if(4==n.length&&t.options.closed){for(var r=[],o=0;o<n.length;++o){if(n[o].controlIn())return!1;r[o]=n[o].anchor()}var i=r[0].y==r[1].y&&r[1].x==r[2].x&&r[2].y==r[3].y&&r[3].x==r[0].x||r[0].x==r[1].x&&r[1].y==r[2].y&&r[2].x==r[3].x&&r[3].y==r[0].y;if(i)return e.rect(r[0].x,r[0].y,r[2].x-r[0].x,r[2].y-r[0].y),!0}}function yn(t,e,n){var r=t.segments;if(0!==r.length&&!vn(t,e,n)){for(var o,i=0;i<r.length;++i){var s=r[i],a=s.anchor();if(o){var l=o.controlOut(),c=s.controlIn();l&&c?e.bezier(l.x,l.y,c.x,c.y,a.x,a.y):e.lineTo(a.x,a.y)}else e.moveTo(a.x,a.y);o=s}t.options.closed&&e.close()}}function gn(t,e,n){yn(t,e,n),dn(t,e,n)}function mn(t,e,n){for(var r=t.paths,o=0;o<r.length;++o)yn(r[o],e,n);dn(t,e,n)}function bn(t,e,n){var r=t.geometry();e.circle(r.center.x,r.center.y,r.radius),dn(t,e,n)}function wn(t,e,n){var r=t.geometry().curvePoints();e.moveTo(r[0].x,r[0].y);for(var o=1;o<r.length;)e.bezier(r[o].x,r[o++].y,r[o].x,r[o++].y,r[o].x,r[o++].y);dn(t,e,n)}function _n(t,e){var n,r=Xe(t.options.font),o=t._position;t.fill()&&t.stroke()?n=ga.fillAndStroke:t.fill()?n=ga.fill:t.stroke()&&(n=ga.stroke),e.transform(1,0,0,-1,o.x,o.y+r.fontSize),e.beginText(),e.setFont(Je(r),r.fontSize),e.setTextRenderingMode(n),e.showText(t.content(),t._pdfRect?t._pdfRect.width():null),e.endText()}function xn(t,e,n){t._pdfLink&&e.addLink(t._pdfLink.url,t._pdfLink);for(var r=t.children,o=0;o<r.length;++o)ln(r[o],e,n)}function kn(t,e){var n=t.src();if(n){var r=t.rect(),o=r.getOrigin(),i=r.getSize();e.transform(i.width,0,0,-i.height,o.x,o.y+i.height),e.drawImage(n)}}function Sn(t,e,n){var r=t.geometry();e.rect(r.origin.x,r.origin.y,r.size.width,r.size.height),dn(t,e,n)}function On(t){var e=y(t,!0);return e?e.toRGB():null}function Cn(t){function e(t){return a=!0,t}function n(t){return t.visible()&&t.opacity()>0&&(hn(t.fill())||hn(t.stroke()))}function r(t){for(var e=[],n=0;n<t.length;++n){var r=s(t[n]);null!=r&&e.push(r)}return e}function o(t,e){var n=l,r=c;t.transform()&&(c=c.multiplyCopy(t.transform().matrix()));var o=t.clip();o&&(o=o.bbox(),o&&(o=o.bbox(c),l=l?ko.intersect(l,o):o));try{return e()}finally{l=n,c=r}}function i(t){if(null==l)return!1;var e=t.rawBBox().bbox(c);return l&&e&&(e=ko.intersect(e,l)),e}function s(s){return o(s,function(){if(!(s instanceof ui||s instanceof $o)){var o=i(s);if(!o)return e(null);u=u?ko.union(u,o):o}return an({Path:function(t){return 0!==t.segments.length&&n(t)?t:e(null)},MultiPath:function(t){if(!n(t))return e(null);var o=new $o(t.options);return o.paths=r(t.paths),0===o.paths.length?e(null):o},Circle:function(t){return n(t)?t:e(null)},Arc:function(t){return n(t)?t:e(null)},Text:function(t){return/\S/.test(t.content())&&n(t)?t:e(null)},Image:function(t){return t.visible()&&t.opacity()>0?t:e(null)},Group:function(n){if(!(n.visible()&&n.opacity()>0))return e(null);var o=new ui(n.options);return o.children=r(n.children),o._pdfLink=n._pdfLink,n===t||0!==o.children.length||n._pdfLink?o:e(null)},Rect:function(t){return n(t)?t:e(null)}},s)})}var a,l=!1,c=wo.unit(),u=null;do a=!1,t=s(t);while(t&&a);return{root:t,bbox:u}}function Mn(t,e){var n=b();for(var r in e)"margin"==r&&t.options.pdf&&t.options.pdf._ignoreMargin||t.options.set("pdf."+r,e[r]);return rn(t,n.resolve),n}function Tn(t){return Array.prototype.slice.call(t)}function En(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function Pn(t,e){t.classList?t.classList.remove(e):t.className=t.className.split(/\s+/).reduce(function(t,n){return n!=e&&t.push(n),t},[]).join(" ")}function An(t,e){Object.keys(e).forEach(function(n){t.style[n]=e[n]})}function jn(t,e){if(t.closest)return t.closest(e);for(;t&&!/^\[object (?:HTML)?Document\]$/.test(String(t));){if(1==t.nodeType&&Ea(t,e))return t;t=t.parentNode}}function Dn(t){return"number"==typeof t?{x:t,y:t}:Array.isArray(t)?{x:t[0],y:t[1]}:{x:t.x,y:t.y}}function Rn(t,e){function n(t){var n=new ui,r=t.getBoundingClientRect();return cr(n,[s.x,0,0,s.y,-r.left*s.x,-r.top*s.y]),Oa._clipbox=!1,Oa._matrix=wo.unit(),Oa._stackingContext={element:t,group:n},e.avoidLinks===!0?Oa._avoidLinks="a":Oa._avoidLinks=e.avoidLinks,En(t,"k-pdf-export"),jr(t,n),Pn(t,"k-pdf-export"),n}function r(t){if(null!=t)return"string"==typeof t&&(t=p(t.replace(/^\s+|\s+$/g,""))),"function"==typeof t?function(e){var n=t(e);if(n&&"string"==typeof n){var r=document.createElement("div");r.innerHTML=n,n=r.firstElementChild}return n}:function(){return t.cloneNode(!0)}}function o(t,e,n,o,i,s,a){function l(){("-"!=n||i)&&u(w);var e=f();w.parentNode.insertBefore(e,w),e.appendChild(w),g&&b.forEach(function(t,e){var n=g({element:t,pageNum:e+1,totalPages:b.length});n&&t.appendChild(n)}),qn(b,function(){Kn(b,function(){t({pages:b,container:_})})})}function c(t){if(a.keepTogether&&Ea(t,a.keepTogether)&&t.offsetHeight<=i-x)return!0;var e=t.tagName;return!(/^h[1-6]$/i.test(e)&&t.offsetHeight>=i-x)&&(t.getAttribute("data-kendo-chart")||/^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(t.tagName))}function u(t){if("TABLE"==t.tagName&&An(t,{tableLayout:"fixed"}),!c(t)){var e=Zn(t),r=parseFloat(Qn(e,"padding-bottom")),o=parseFloat(Qn(e,"border-bottom-width")),s=x;x+=r+o;for(var a=!0,l=t.firstChild;l;l=l.nextSibling)if(1==l.nodeType){if(a=!1,Ea(l,n)){h(l);continue}if(!i){u(l);continue}if(!/^(?:static|relative)$/.test(Qn(Zn(l),"position")))continue;var p=d(l);1==p?h(l):p&&c(l)?h(l):u(l)}else 3==l.nodeType&&i&&(v(l,a),a=!1);x=s}}function p(t){var e=t.parentNode,n=e.firstChild;if(t===n)return!0;if(t===e.children[0]){if(7==n.nodeType||8==n.nodeType)return!0;if(3==n.nodeType)return!/\S/.test(n.data)}return!1}function h(t){if(1==t.nodeType&&t!==w&&p(t))return h(t.parentNode);var e,n,r,o,i;e=jn(t,"table"),n=e&&e.querySelector("colgroup"),a.repeatHeaders&&(r=e&&e.querySelector("thead"),o=jn(t,".k-grid.k-widget"),o&&o.querySelector(".k-auto-scrollable")&&(i=o.querySelector(".k-grid-header")));var s=f(),l=m.createRange();l.setStartBefore(w),l.setEndBefore(t),s.appendChild(l.extractContents()),w.parentNode.insertBefore(s,w),y(t.parentNode),e&&(e=jn(t,"table"),a.repeatHeaders&&r&&e.insertBefore(r.cloneNode(!0),e.firstChild),n&&e.insertBefore(n.cloneNode(!0),e.firstChild)),a.repeatHeaders&&i&&(o=jn(t,".k-grid.k-widget"),o.insertBefore(i.cloneNode(!0),o.firstChild))}function f(){var t=m.createElement("KENDO-PDF-PAGE");return An(t,{display:"block",boxSizing:"content-box",width:o?o+"px":"auto",padding:s.top+"px "+s.right+"px "+s.bottom+"px "+s.left+"px",position:"relative",height:i?i+"px":"auto",overflow:i||o?"hidden":"visible",clear:"both"}),a&&a.pageClassName&&(t.className=a.pageClassName),b.push(t),t}function d(t){var e=t.getBoundingClientRect();if(0===e.width||0===e.height)return 0;var n=w.getBoundingClientRect().top,r=i-x;return e.height>r?3:e.top-n>r?1:e.bottom-n>r?2:0}function v(t,e){if(/\S/.test(t.data)){var n=t.data.length,r=m.createRange();r.selectNodeContents(t);var o=d(r);if(o){var i=t;if(1==o)h(e?t.parentNode:t);else if(function e(n,o,i){return r.setEnd(t,o),n==o||o==i?o:d(r)?e(n,n+o>>1,o):e(o,o+i>>1,i)}(0,n>>1,n),!/\S/.test(r.toString())&&e)h(t.parentNode);else{i=t.splitText(r.endOffset);var s=f();r.setStartBefore(w),s.appendChild(r.extractContents()),w.parentNode.insertBefore(s,w),y(i.parentNode)}v(i)}}}function y(t){var e=jn(t,"li");e&&(e.setAttribute("kendo-no-bullet","1"),y(e.parentNode))}var g=r(a.template),m=e.ownerDocument,b=[],w=a._destructive?e:Pa(e),_=m.createElement("KENDO-PDF-DOCUMENT"),x=0;Tn(w.querySelectorAll("tfoot")).forEach(function(t){t.parentNode.appendChild(t)}),Tn(w.querySelectorAll("ol")).forEach(function(t){Tn(t.children).forEach(function(t,e){t.setAttribute("kendo-split-index",e)})}),An(_,{display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"}),o&&(An(_,{width:o+"px",paddingLeft:s.left+"px",paddingRight:s.right+"px"}),An(w,{overflow:"hidden"})),e.parentNode.insertBefore(_,e),_.appendChild(w),a.beforePageBreak?setTimeout(function(){a.beforePageBreak(_,l)},15):setTimeout(l,15)}e||(e={});var i=b();if(!t)return i.reject("No element to export");if("function"!=typeof window.getComputedStyle)throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");Qe(In(t.ownerDocument));var s=Dn(e.scale||1);return qn(t,function(){var r=e&&e.forcePageBreak,a=e&&e.paperSize&&"auto"!=e.paperSize,l=we(function(t,n){return"paperSize"==t?a?e[t]:"A4":t in e?e[t]:n}),c=a&&l.paperSize[0],u=a&&l.paperSize[1],p=e.margin&&l.margin,h=Boolean(p);if(r||u){p||(p={left:0,top:0,right:0,bottom:0}),c&&(c/=s.x),u&&(u/=s.y),p.left/=s.x,p.right/=s.x,p.top/=s.y,p.bottom/=s.y;var f=new ui({pdf:{multiPage:!0,paperSize:a?l.paperSize:"auto",_ignoreMargin:h}});o(function(t){if(e.progress){var r=!1,o=0;!function s(){if(o<t.pages.length){var a=n(t.pages[o]);f.append(a),e.progress({page:a,pageNum:++o,totalPages:t.pages.length,cancel:function(){r=!0}}),r?t.container.parentNode.removeChild(t.container):setTimeout(s)}else t.container.parentNode.removeChild(t.container),i.resolve(f)}()}else t.pages.forEach(function(t){f.append(n(t))}),t.container.parentNode.removeChild(t.container),i.resolve(f)},t,r,c?c-p.left-p.right:null,u?u-p.top-p.bottom:null,p,e)}else i.resolve(n(t))}),i}function In(t){function e(t){if(t){var e=null;try{e=t.cssRules}catch(t){}e&&r(t,e)}}function n(t){var e=Qn(t.style,"src");if(e)return ja(e).reduce(function(t,e){var n=Da(e);return n&&t.push(n),t},[]);var n=Da(t.cssText);return n?[n]:[]}function r(t,r){for(var i=0;i<r.length;++i){var s=r[i];switch(s.type){case 3:e(s.styleSheet);break;case 5:var a=s.style,l=ja(Qn(a,"font-family")),c=/^([56789]00|bold)$/i.test(Qn(a,"font-weight")),u="italic"==Qn(a,"font-style"),p=n(s);p.length>0&&o(t,l,c,u,p[0])}}}function o(t,e,n,r,o){/^data:/i.test(o)||/^[^\/:]+:\/\//.test(o)||/^\//.test(o)||(o=String(t.href).replace(/[^\/]*$/,"")+o),e.forEach(function(t){t=t.replace(/^(['"]?)(.*?)\1$/,"$2"),n&&(t+="|bold"),r&&(t+="|italic"),i[t]=o})}null==t&&(t=document);for(var i={},s=0;s<t.styleSheets.length;++s)e(t.styleSheets[s]);return i}function zn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Fn(t){return t="_counter_"+t,Oa[t]}function Ln(t){var e=[],n=Oa;for(t="_counter_"+t;n;)zn(n,t)&&e.push(n[t]),n=Object.getPrototypeOf(n);return e.reverse()}function Nn(t,e){var n=Oa;for(t="_counter_"+t;n&&!zn(n,t);)n=Object.getPrototypeOf(n);n||(n=Oa._root),n[t]=(n[t]||0)+(null==e?1:e)}function Bn(t,e){t="_counter_"+t,Oa[t]=null==e?0:e}function Vn(t,e,n){for(var r=0;r<t.length;){var o=t[r++],i=parseFloat(t[r]);isNaN(i)?e(o,n):(e(o,i),++r)}}function Hn(t){var e=Qn(t,"counter-reset");e&&Vn(ja(e,/^\s+/),Bn,0);var n=Qn(t,"counter-increment");n&&Vn(ja(n,/^\s+/),Nn,1)}function Un(t,e){var n=y(t,!0);return n&&(n=n.toRGB(),e?n=n.toCssRgba():0===n.a&&(n=null)),n}function Kn(t,e){function n(){--r<=0&&e()}var r=0;t.forEach(function(t){for(var e=t.querySelectorAll("img"),o=0;o<e.length;++o){var i=e[o];i.complete||(r++,i.onload=i.onerror=n)}}),r||n()}function qn(t,e){function n(t){Sa[t]||(Sa[t]=!0,i.push(t))}function r(t){/^img$/i.test(t.tagName)&&n(t.src),Aa(Qn(Zn(t),"background-image")).forEach(function(t){"url"==t.type&&n(t.url)}),t.children&&Tn(t.children).forEach(r)}function o(){--s<=0&&e()}var i=[];Array.isArray(t)?t.forEach(r):r(t);var s=i.length;0===s&&o(),i.forEach(function(t){var e=Sa[t]=new window.Image;/^data:/i.test(t)||(e.crossOrigin="Anonymous"),e.src=t,e.complete?o():(e.onload=o,e.onerror=function(){Sa[t]=null,o()})})}function Wn(t){var e="";do{var n=t%26;e=String.fromCharCode(97+n)+e,t=Math.floor(t/26)}while(t>0);return e}function Gn(t,e,n){Oa=Object.create(Oa),Oa[t.tagName.toLowerCase()]={element:t,style:e};var r=Qn(e,"text-decoration");if(r&&"none"!=r){var o=Qn(e,"color");r.split(/\s+/g).forEach(function(t){Oa[t]||(Oa[t]=o)})}Jn(e)&&(Oa._stackingContext={element:t,group:n})}function $n(){Oa=Object.getPrototypeOf(Oa)}function Yn(t){if(null!=Oa._clipbox){var e=t.bbox(Oa._matrix);Oa._clipbox?Oa._clipbox=ko.intersect(Oa._clipbox,e):Oa._clipbox=e}}function Xn(){var t=Oa._clipbox;return null==t||(t?0===t.width()||0===t.height():void 0)}function Jn(t){function e(e){return Qn(t,e)}if("none"!=e("transform")||"static"!=e("position")||"auto"!=e("z-index")||e("opacity")<1)return!0}function Zn(t,e){return window.getComputedStyle(t,e||null)}function Qn(t,e,n){var r=t.getPropertyValue(e);return null!=r&&""!==r||(xa.webkit?r=t.getPropertyValue("-webkit-"+e):xa.mozilla?r=t.getPropertyValue("-moz-"+e):xa.opera?r=t.getPropertyValue("-o-"+e):Ma&&(r=t.getPropertyValue("-ms-"+e))),arguments.length>2&&(null==r||""===r)?n:r}function tr(t,e,n,r){t.setProperty(e,n,r),xa.webkit?t.setProperty("-webkit-"+e,n,r):xa.mozilla?t.setProperty("-moz-"+e,n,r):xa.opera?t.setProperty("-o-"+e,n,r):Ma&&(t.setProperty("-ms-"+e,n,r),e="ms"+e.replace(/(^|-)([a-z])/g,function(t,e,n){return e+n.toUpperCase()}),t[e]=n)}function er(t,e){return e="border-"+e,{width:parseFloat(Qn(t,e+"-width")),style:Qn(t,e+"-style"),color:Un(Qn(t,e+"-color"),!0)}}function nr(t,e){var n=t.style.cssText,r=e();return t.style.cssText=n,r}function rr(t,e){var n=Qn(t,"border-"+e+"-radius").split(/\s+/g).map(parseFloat);return 1==n.length&&n.push(n[0]),hr({x:n[0],y:n[1]})}function or(t){var e=t.getBoundingClientRect();return e=ir(e,"border-*-width",t),e=ir(e,"padding-*",t)}function ir(t,e,n){var r,o,i,s,a;return"string"==typeof e?(r=Zn(n),o=parseFloat(Qn(r,e.replace("*","top"))),i=parseFloat(Qn(r,e.replace("*","right"))),s=parseFloat(Qn(r,e.replace("*","bottom"))),a=parseFloat(Qn(r,e.replace("*","left")))):"number"==typeof e&&(o=i=s=a=e),{top:t.top+o,right:t.right-i,bottom:t.bottom-s,left:t.left+a,width:t.right-t.left-i-a,height:t.bottom-t.top-s-o}}function sr(t){var e=Qn(t,"transform");if("none"==e)return null;var n=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(e);if(n){var r=Qn(t,"transform-origin");return n=n[1].split(/\s*,\s*/g).map(parseFloat),r=r.split(/\s+/g).map(parseFloat),{matrix:n,origin:r}}}function ar(t){return 180*t/Math.PI%360}function lr(t){var e=parseFloat(t);return/grad$/.test(t)?Math.PI*e/200:/rad$/.test(t)?e:/turn$/.test(t)?Math.PI*e*2:/deg$/.test(t)?Math.PI*e/180:void 0}function cr(t,e){return e=new wo(e[0],e[1],e[2],e[3],e[4],e[5]),t.transform(e),e}function ur(t,e){t.clip(e)}function pr(t,e,n,r){for(var o=new Fo([e,n],r).curvePoints(),i=1;i<o.length;)t.curveTo(o[i++],o[i++],o[i++])}function hr(t){return(t.x<=0||t.y<=0)&&(t.x=t.y=0),t}function fr(t,e,n,r,o){var i=Math.max(0,e.x),s=Math.max(0,e.y),a=Math.max(0,n.x),l=Math.max(0,n.y),c=Math.max(0,r.x),u=Math.max(0,r.y),p=Math.max(0,o.x),h=Math.max(0,o.y),f=Math.min(t.width/(i+a),t.height/(l+u),t.width/(c+p),t.height/(h+s));return f<1&&(i*=f,s*=f,a*=f,l*=f,c*=f,u*=f,p*=f,h*=f),{tl:{x:i,y:s},tr:{x:a,y:l},br:{x:c,y:u},bl:{x:p,y:h}}}function dr(t,e,n){var r=Zn(t),o=rr(r,"top-left"),i=rr(r,"top-right"),s=rr(r,"bottom-left"),a=rr(r,"bottom-right");if("padding"==n||"content"==n){var l=er(r,"top"),c=er(r,"right"),u=er(r,"bottom"),p=er(r,"left");if(o.x-=p.width,o.y-=l.width,i.x-=c.width,i.y-=l.width,a.x-=c.width,a.y-=u.width,s.x-=p.width,s.y-=u.width,"content"==n){var h=parseFloat(Qn(r,"padding-top")),f=parseFloat(Qn(r,"padding-right")),d=parseFloat(Qn(r,"padding-bottom")),v=parseFloat(Qn(r,"padding-left"));o.x-=v,o.y-=h,i.x-=f,i.y-=h,a.x-=f,a.y-=d,s.x-=v,s.y-=d}}return"number"==typeof n&&(o.x-=n,o.y-=n,i.x-=n,i.y-=n,a.x-=n,a.y-=n,s.x-=n,s.y-=n),vr(e,o,i,a,s)}function vr(t,e,n,r,o){var i=fr(t,e,n,r,o),s=i.tl,a=i.tr,l=i.br,c=i.bl,u=new ni({fill:null,stroke:null});return u.moveTo(t.left,t.top+s.y),s.x&&pr(u,t.left+s.x,t.top+s.y,{startAngle:-180,endAngle:-90,radiusX:s.x,radiusY:s.y}),u.lineTo(t.right-a.x,t.top),a.x&&pr(u,t.right-a.x,t.top+a.y,{startAngle:-90,endAngle:0,radiusX:a.x,radiusY:a.y}),u.lineTo(t.right,t.bottom-l.y),l.x&&pr(u,t.right-l.x,t.bottom-l.y,{startAngle:0,endAngle:90,radiusX:l.x,radiusY:l.y}),u.lineTo(t.left+c.x,t.bottom),c.x&&pr(u,t.left+c.x,t.bottom-c.y,{startAngle:90,endAngle:180,radiusX:c.x,radiusY:c.y}),u.close()}function yr(t,e){var n=String(parseFloat(t));switch(e){case"decimal-leading-zero":return n.length<2&&(n="0"+n),n;case"lower-roman":return m(t).toLowerCase();case"upper-roman":return m(t).toUpperCase();case"lower-latin":case"lower-alpha":return Wn(t-1);case"upper-latin":case"upper-alpha":return Wn(t-1).toUpperCase();default:return n}}function gr(t,e){function n(t,e,n){return n?(n=n.replace(/^\s*(["'])(.*)\1\s*$/,"$2"),Ln(t).map(function(t){return yr(t,e)}).join(n)):yr(Fn(t)||0,e)}var r,o=ja(e,/^\s+/),i=[];return o.forEach(function(e){var o;(r=/^\s*(["'])(.*)\1\s*$/.exec(e))?i.push(r[2].replace(/\\([0-9a-f]{4})/gi,function(t,e){return String.fromCharCode(parseInt(e,16))})):(r=/^\s*counter\((.*?)\)\s*$/.exec(e))?(o=ja(r[1]),i.push(n(o[0],o[1]))):(r=/^\s*counters\((.*?)\)\s*$/.exec(e))?(o=ja(r[1]),i.push(n(o[0],o[2],o[1]))):(r=/^\s*attr\((.*?)\)\s*$/.exec(e))?i.push(t.getAttribute(r[1])||""):i.push(e)}),i.join("")}function mr(t){if(t.cssText)return t.cssText;for(var e=[],n=0;n<t.length;++n)e.push(t[n]+": "+Qn(t,t[n]));return e.join(";\n")}function br(t,e){function n(e,n){var o=Zn(t,e),i=o.content;if(Hn(o),i&&"normal"!=i&&"none"!=i&&"0px"!=o.width){var s=t.ownerDocument.createElement(ka);s.style.cssText=mr(o),s.textContent=gr(t,i),t.insertBefore(s,n),r.push(s)}}if(t.tagName==ka)return void wr(t,e);var r=[];if(n(":before",t.firstChild),n(":after",null),r.length>0){var o=t.className;t.className+=" kendo-pdf-hide-pseudo-elements",wr(t,e),t.className=o,r.forEach(function(e){t.removeChild(e)})}else wr(t,e)}function wr(t,e){function n(e){if(/^td$/i.test(t.tagName)){var n=Oa.table;if(n&&"collapse"==Qn(n.style,"border-collapse")){var r=er(n.style,"left").width,o=er(n.style,"top").width;if(0===r&&0===o)return e;var i=n.element.getBoundingClientRect(),s=n.element.rows[0].cells[0],a=s.getBoundingClientRect();if(a.top==i.top||a.left==i.left)return Tn(e).map(function(t){return{left:t.left+r,top:t.top+o,right:t.right+r,bottom:t.bottom+o,height:t.height,width:t.width}})}}return e}function r(t,n,r,o,i,s,a,l){function c(e,n,o){var i=Math.PI/2*e/(e+r),s={x:n.x-e,y:n.y-r},a=new ni({fill:{color:t},stroke:null}).moveTo(0,0);cr(a,o),pr(a,0,n.y,{startAngle:-90,endAngle:-ar(i),radiusX:n.x,radiusY:n.y}),s.x>0&&s.y>0?(a.lineTo(s.x*Math.cos(i),n.y-s.y*Math.sin(i)),pr(a,0,n.y,{startAngle:-ar(i),endAngle:-90,radiusX:s.x,radiusY:s.y,anticlockwise:!0})):s.x>0?a.lineTo(s.x,r).lineTo(0,r):a.lineTo(s.x,r).lineTo(s.x,0),p.append(a.close())}if(!(r<=0)){var u,p=new ui;cr(p,l),e.append(p),hr(s),hr(a),u=new ni({fill:{color:t},stroke:null}),p.append(u),u.moveTo(s.x?Math.max(s.x,o):0,0).lineTo(n-(a.x?Math.max(a.x,i):0),0).lineTo(n-Math.max(a.x,i),r).lineTo(Math.max(s.x,o),r).close(),s.x&&c(o,s,[-1,0,0,1,s.x,0]),a.x&&c(i,a,[1,0,0,1,n-a.x,0])}}function o(t){var n=new ui;if(ur(n,vr(t,f,d,y,v)),e.append(n),b){var r=new ni({fill:{color:b.toCssRgba()},stroke:null});r.moveTo(t.left,t.top).lineTo(t.right,t.top).lineTo(t.right,t.bottom).lineTo(t.left,t.bottom).close(),n.append(r)}for(var o=x.length;--o>=0;)i(n,t,x[o],k[o%k.length],S[o%S.length],O[o%O.length],C[o%C.length])}function i(e,n,r,o,i,s,a){function l(e,n,r,l,c){function u(){for(;m.origin.x>n.left;)m.origin.x-=r}function p(){for(;m.origin.y>n.top;)m.origin.y-=l}function h(){for(;m.origin.x<n.right;)c(e,m.clone()),m.origin.x+=r}var f,d=r/l,v=n;if("content-box"==s?(v=ir(v,"border-*-width",t),v=ir(v,"padding-*",t)):"padding-box"==s&&(v=ir(v,"border-*-width",t)),!/^\s*auto(\s+auto)?\s*$/.test(a))if("contain"==a)f=Math.min(v.width/r,v.height/l),r*=f,l*=f;else if("cover"==a)f=Math.max(v.width/r,v.height/l),r*=f,l*=f;else{var y=a.split(/\s+/g);r=/%$/.test(y[0])?v.width*parseFloat(y[0])/100:parseFloat(y[0]),l=1==y.length||"auto"==y[1]?r/d:/%$/.test(y[1])?v.height*parseFloat(y[1])/100:parseFloat(y[1])}var g=String(i);switch(g){case"bottom":g="50% 100%";break;case"top":g="50% 0";break;case"left":g="0 50%";break;case"right":g="100% 50%";break;case"center":g="50% 50%"}g=g.split(/\s+/),1==g.length&&(g[1]="50%"),/%$/.test(g[0])?g[0]=parseFloat(g[0])/100*(v.width-r):g[0]=parseFloat(g[0]),/%$/.test(g[1])?g[1]=parseFloat(g[1])/100*(v.height-l):g[1]=parseFloat(g[1]);var m=new ko([v.left+g[0],v.top+g[1]],[r,l]);if("no-repeat"==o)c(e,m);else if("repeat-x"==o)u(),h();else if("repeat-y"==o)for(p();m.origin.y<n.bottom;)c(e,m.clone()),m.origin.y+=l;else if("repeat"==o){u(),p();for(var b=m.origin.clone();m.origin.y<n.bottom;)m.origin.x=b.x,h(),m.origin.y+=l}}if(r&&"none"!=r)if("url"==r.type){if(/^url\(\"data:image\/svg/i.test(r.url))return;var c=Sa[r.url];c&&c.width>0&&c.height>0&&l(e,n,c.width,c.height,function(t,e){t.append(new li(r.url,e))})}else{if("linear"!=r.type)return;l(e,n,n.width,n.height,_r(r))}}function s(){function n(n){nr(t,function(){t.style.position="relative";var r=t.ownerDocument.createElement(ka);r.style.position="absolute",r.style.boxSizing="border-box","outside"==i?(r.style.width="6em",r.style.left="-6.8em",r.style.textAlign="right"):r.style.left="0px",n(r),t.insertBefore(r,t.firstChild),jr(r,e),t.removeChild(r)})}function r(e){var n=t.parentNode.children,r=t.getAttribute("kendo-split-index");if(null!=r)return e(0|r,n.length);for(var o=0;o<n.length;++o)if(n[o]===t)return e(o,n.length)}var o=Qn(l,"list-style-type");if("none"!=o){var i=Qn(l,"list-style-position");switch(o){case"circle":case"disc":case"square":n(function(t){t.style.fontSize="60%",t.style.lineHeight="200%",t.style.paddingRight="0.5em",t.style.fontFamily="DejaVu Serif",t.innerHTML={disc:"●",circle:"◯",square:"■"}[o]});break;case"decimal":case"decimal-leading-zero":n(function(t){r(function(e){++e,"decimal-leading-zero"==o&&e<10&&(e="0"+e),t.innerHTML=e+"."})});break;case"lower-roman":case"upper-roman":n(function(t){r(function(e){e=m(e+1),"upper-roman"==o&&(e=e.toUpperCase()),t.innerHTML=e+"."})});break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":n(function(t){r(function(e){e=Wn(e),/^upper/i.test(o)&&(e=e.toUpperCase()),t.innerHTML=e+"."})})}}}function a(n,i,s){function a(t){return{x:t.y,y:t.x}}if(0!==n.width&&0!==n.height){o(n);var l=h.width>0&&(i&&"ltr"==g||s&&"rtl"==g),m=u.width>0&&(s&&"ltr"==g||i&&"rtl"==g);if(0!==c.width||0!==h.width||0!==u.width||0!==p.width){if(c.color==u.color&&c.color==p.color&&c.color==h.color&&c.width==u.width&&c.width==p.width&&c.width==h.width&&l&&m){n=ir(n,c.width/2);var b=dr(t,n,c.width/2);return b.options.stroke={color:c.color,width:c.width},void e.append(b)}if(0===f.x&&0===d.x&&0===y.x&&0===v.x&&c.width<2&&h.width<2&&u.width<2&&p.width<2)return c.width>0&&e.append(new ni({stroke:{width:c.width,color:c.color}}).moveTo(n.left,n.top+c.width/2).lineTo(n.right,n.top+c.width/2)),p.width>0&&e.append(new ni({stroke:{width:p.width,color:p.color}}).moveTo(n.left,n.bottom-p.width/2).lineTo(n.right,n.bottom-p.width/2)),l&&e.append(new ni({stroke:{width:h.width,color:h.color}}).moveTo(n.left+h.width/2,n.top).lineTo(n.left+h.width/2,n.bottom)),void(m&&e.append(new ni({stroke:{width:u.width,color:u.color}}).moveTo(n.right-u.width/2,n.top).lineTo(n.right-u.width/2,n.bottom)));var w=fr(n,f,d,y,v),_=w.tl,x=w.tr,k=w.br,S=w.bl;r(c.color,n.width,c.width,h.width,u.width,_,x,[1,0,0,1,n.left,n.top]),r(p.color,n.width,p.width,u.width,h.width,k,S,[-1,0,0,-1,n.right,n.bottom]),r(h.color,n.height,h.width,p.width,c.width,a(S),a(_),[0,-1,1,0,n.left,n.bottom]),r(u.color,n.height,u.width,c.width,p.width,a(x),a(k),[0,1,-1,0,n.right,n.top])}}}var l=Zn(t),c=er(l,"top"),u=er(l,"right"),p=er(l,"bottom"),h=er(l,"left"),f=rr(l,"top-left"),d=rr(l,"top-right"),v=rr(l,"bottom-left"),y=rr(l,"bottom-right"),g=Qn(l,"direction"),b=Qn(l,"background-color");b=Un(b);var w,_,x=Aa(Qn(l,"background-image")),k=ja(Qn(l,"background-repeat")),S=ja(Qn(l,"background-position")),O=ja(Qn(l,"background-origin")),C=ja(Qn(l,"background-size"));Ma&&(w=l.textOverflow,"ellipsis"==w&&(_=t.style.textOverflow,t.style.textOverflow="clip")),xa.msie&&xa.version<10&&(S=ja(t.currentStyle.backgroundPosition));var M=ir(t.getBoundingClientRect(),"border-*-width",t);!function(){var t=Qn(l,"clip"),n=/^\s*rect\((.*)\)\s*$/.exec(t);if(n){var r=n[1].split(/[ ,]+/g),o="auto"==r[0]?M.top:parseFloat(r[0])+M.top,i="auto"==r[1]?M.right:parseFloat(r[1])+M.left,s="auto"==r[2]?M.bottom:parseFloat(r[2])+M.top,a="auto"==r[3]?M.left:parseFloat(r[3])+M.left,c=new ui,u=(new ni).moveTo(a,o).lineTo(i,o).lineTo(i,s).lineTo(a,s).close();ur(c,u),e.append(c),e=c,Yn(u)}}();var T,E,P,A=Qn(l,"display");if("table-row"==A)for(T=[],E=0,P=t.children;E<P.length;++E)T.push(P[E].getBoundingClientRect());else T=t.getClientRects(),1==T.length&&(T=[t.getBoundingClientRect()]);for(T=n(T),E=0;E<T.length;++E)a(T[E],0===E,E==T.length-1);if("A"==t.tagName&&t.href&&!/^#?$/.test(t.getAttribute("href"))&&(!Oa._avoidLinks||!Ea(t,Oa._avoidLinks))){var j=document.createRange();j.selectNodeContents(t),Tn(j.getClientRects()).forEach(function(n){var r=new ui;r._pdfLink={url:t.href,top:n.top,right:n.right,bottom:n.bottom,left:n.left},e.append(r)})}return T.length>0&&"list-item"==A&&!t.getAttribute("kendo-no-bullet")&&s(T[0]),function(){function n(){var n=dr(t,M,"padding"),r=new ui;ur(r,n),e.append(r),e=r,Yn(n)}Or(t)?n():/^(hidden|auto|scroll)/.test(Qn(l,"overflow"))?n():/^(hidden|auto|scroll)/.test(Qn(l,"overflow-x"))?n():/^(hidden|auto|scroll)/.test(Qn(l,"overflow-y"))&&n()}(),xr(t,e)||Er(t,e),Ma&&"ellipsis"==w&&(t.style.textOverflow=_),e}function _r(t){return function(e,n){var r=n.width(),o=n.height();switch(t.type){case"linear":var i=null!=t.angle?t.angle:Math.PI;switch(t.to){case"top":i=0;break;case"left":i=-Math.PI/2;break;case"bottom":i=Math.PI;break;case"right":i=Math.PI/2;break;case"top left":case"left top":i=-Math.atan2(o,r);break;case"top right":case"right top":i=Math.atan2(o,r);break;case"bottom left":case"left bottom":i=Math.PI+Math.atan2(o,r);break;case"bottom right":case"right bottom":i=Math.PI-Math.atan2(o,r)}t.reverse&&(i-=Math.PI),i%=2*Math.PI,i<0&&(i+=2*Math.PI);var s=Math.abs(r*Math.sin(i))+Math.abs(o*Math.cos(i)),a=Math.atan(r*Math.tan(i)/o),l=Math.sin(a),c=Math.cos(a),u=Math.abs(l)+Math.abs(c),p=u/2*l,h=u/2*c;i>Math.PI/2&&i<=3*Math.PI/2&&(p=-p,h=-h);var f=[],d=0,v=t.stops.map(function(e,n){var r=e.percent;r?r=parseFloat(r)/100:e.length?r=parseFloat(e.length)/s:0===n?r=0:n==t.stops.length-1&&(r=1);var o={color:e.color.toCssRgba(),offset:r};return null!=r?(d=r,f.forEach(function(t,e){var n=t.stop;n.offset=t.left+(d-t.left)*(e+1)/(f.length+1)}),f=[]):f.push({left:d,stop:o}),o}),y=[.5-p,.5+h],g=[.5+p,.5-h];e.append(ni.fromRect(n).stroke(null).fill(new bi({start:y,end:g,stops:v,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer");
}}}function xr(t,e){var n;if(t._kendoExportVisual)n=t._kendoExportVisual();else if(window.kendo&&window.kendo.jQuery&&t.getAttribute(window.kendo.attr("role"))){var r=window.kendo.widgetInstance(window.kendo.jQuery(t));r&&(r.exportDOMVisual||r.exportVisual)&&(n=r.exportDOMVisual?r.exportDOMVisual():r.exportVisual())}if(!n)return!1;var o=new ui;o.children.push(n);var i=t.getBoundingClientRect();return o.transform(J().translate(i.left,i.top)),e.append(o),!0}function kr(t,e,n){var r=or(t),o=new ko([r.left,r.top],[r.width,r.height]),i=new li(e,o);ur(i,dr(t,r,"content")),n.append(i)}function Sr(t,e){var n=Zn(t),r=Zn(e),o=parseFloat(Qn(n,"z-index")),i=parseFloat(Qn(r,"z-index")),s=Qn(n,"position"),a=Qn(r,"position");return isNaN(o)&&isNaN(i)?/static|absolute/.test(s)&&/static|absolute/.test(a)?0:"static"==s?-1:"static"==a?1:0:isNaN(o)?0===i?0:i>0?-1:1:isNaN(i)?0===o?0:o>0?1:-1:parseFloat(o)-parseFloat(i)}function Or(t){return/^(?:textarea|select|input)$/i.test(t.tagName)}function Cr(t){return t.selectedOptions&&t.selectedOptions.length>0?t.selectedOptions[0]:t.options[t.selectedIndex]}function Mr(t,e){var n=Zn(t),r=Qn(n,"color"),o=t.getBoundingClientRect();"checkbox"==t.type?(e.append(ni.fromRect(new ko([o.left+1,o.top+1],[o.width-2,o.height-2])).stroke(r,1)),t.checked&&e.append((new ni).stroke(r,1.2).moveTo(o.left+.22*o.width,o.top+.55*o.height).lineTo(o.left+.45*o.width,o.top+.75*o.height).lineTo(o.left+.78*o.width,o.top+.22*o.width))):(e.append(new Do(new Mo([(o.left+o.right)/2,(o.top+o.bottom)/2],Math.min(o.width-2,o.height-2)/2)).stroke(r,1)),t.checked&&e.append(new Do(new Mo([(o.left+o.right)/2,(o.top+o.bottom)/2],Math.min(o.width-8,o.height-8)/2)).fill(r).stroke(null)))}function Tr(t,e){var n=t.tagName.toLowerCase();if("input"==n&&("checkbox"==t.type||"radio"==t.type))return Mr(t,e);var r,o=t.parentNode,i=t.ownerDocument,s=i.createElement(ka);if(s.style.cssText=mr(Zn(t)),"input"==n&&(s.style.whiteSpace="pre"),"select"!=n&&"textarea"!=n||(s.style.overflow="auto"),"select"==n)if(t.multiple)for(var a=0;a<t.options.length;++a)r=i.createElement(ka),r.style.cssText=mr(Zn(t.options[a])),r.style.display="block",r.textContent=t.options[a].textContent,s.appendChild(r);else r=Cr(t),r&&(s.textContent=r.textContent);else s.textContent=t.value;o.insertBefore(s,t),s.scrollLeft=t.scrollLeft,s.scrollTop=t.scrollTop,t.style.display="none",Er(s,e),t.style.display="",o.removeChild(s)}function Er(t,e){switch(Oa._stackingContext.element===t&&(Oa._stackingContext.group=e),t.tagName.toLowerCase()){case"img":kr(t,t.src,e);break;case"canvas":try{kr(t,t.toDataURL("image/png"),e)}catch(t){}break;case"textarea":case"input":case"select":Tr(t,e);break;default:for(var n=[],r=[],o=[],i=t.firstChild;i;i=i.nextSibling)switch(i.nodeType){case 3:/\S/.test(i.data)&&Pr(t,i,e);break;case 1:var s=Zn(i),a=Qn(s,"float"),l=Qn(s,"position");"static"!=l?o.push(i):"none"!=a?r.push(i):n.push(i)}P(n,Sr).forEach(function(t){jr(t,e)}),P(r,Sr).forEach(function(t){jr(t,e)}),P(o,Sr).forEach(function(t){jr(t,e)})}}function Pr(t,e,n){function r(t){if(Ma||xa.chrome){for(var e=t.getClientRects(),n={top:1/0,right:-(1/0),bottom:-(1/0),left:1/0},r=!1,o=0;o<e.length;++o){var i=e[o];i.width<=1||i.bottom===x||(n.left=Math.min(i.left,n.left),n.top=Math.min(i.top,n.top),n.right=Math.max(i.right,n.right),n.bottom=Math.max(i.bottom,n.bottom),r=!0)}return r?(n.width=n.right-n.left,n.height=n.bottom-n.top,n):t.getBoundingClientRect()}return t.getBoundingClientRect()}function o(){var t,n=c,o=l.substr(c).search(/\S/);if(c+=o,o<0||c>=u)return!0;v.setStart(e,c),v.setEnd(e,c+1),t=r(v);var s=!1;if((g||m>1)&&(o=l.substr(c).search(/\s/),o>=0)){v.setEnd(e,c+o);var a=r(v);a.bottom==t.bottom&&(t=a,s=!0,c+=o)}if(!s){if(o=function n(o,i,s){v.setEnd(e,i);var a=r(v);return a.bottom!=t.bottom&&o<i?n(o,o+i>>1,i):a.right!=t.right?(t=a,i<s?n(i,i+s>>1,s):i):i}(c,Math.min(u,c+_),u),o==c)return!0;if(c=o,o=v.toString().search(/\s+$/),0===o)return!1;o>0&&(v.setEnd(e,v.startOffset+o),t=r(v))}Ma&&(t=v.getClientRects()[0]);var p=v.toString();if(/^(?:pre|pre-wrap)$/i.test(b)){if(/\t/.test(p)){var h=0;for(o=n;o<v.startOffset;++o){var f=l.charCodeAt(o);9==f?h+=8-h%8:10==f||13==f?h=0:h++}for(;(o=p.search("\t"))>=0;){var d="        ".substr(0,8-(h+o)%8);p=p.substr(0,o)+d+p.substr(o+1)}}}else p=p.replace(/\s+/g," ");s||(x=t.bottom),i(p,t)}function i(t,e){if(Ma&&!isNaN(h)){var r=Ra(f),o=(e.top+e.bottom-r)/2;e={top:o,right:e.right,bottom:o+r,left:e.left,height:r,width:e.right-e.left}}switch(w){case"uppercase":t=t.toUpperCase();break;case"lowercase":t=t.toLowerCase();break;case"capitalize":t=t.replace(/(?:^|\s)\S/g,function(t){return t.toUpperCase()})}var i=new Ta(t,new ko([e.left,e.top],[e.width,e.height]),{font:f,fill:{color:d}});n.append(i)}function s(t){function e(e,r){if(e){var o=p/12,i=new ni({stroke:{width:o,color:e}});r-=o,i.moveTo(t.left,r).lineTo(t.right,r),n.append(i)}}e(k,t.bottom),e(S,t.bottom-t.height/2.7),e(O,t.top)}if(!Xn()){var a=Zn(t);if(!(parseFloat(Qn(a,"text-indent"))<-500)){var l=e.data,c=0,u=l.search(/\S\s*$/)+1;if(u){var p=Qn(a,"font-size"),h=Qn(a,"line-height"),f=[Qn(a,"font-style"),Qn(a,"font-variant"),Qn(a,"font-weight"),p,Qn(a,"font-family")].join(" ");if(p=parseFloat(p),h=parseFloat(h),0!==p){var d=Qn(a,"color"),v=t.ownerDocument.createRange(),y=Qn(a,"text-align"),g="justify"==y,m=Qn(a,"column-count",1),b=Qn(a,"white-space"),w=Qn(a,"text-transform"),_=t.getBoundingClientRect().width/p*5;0===_&&(_=500);for(var x=null,k=Oa.underline,S=Oa["line-through"],O=Oa.overline,C=k||S||O;!o(););C&&(v.selectNode(e),Tn(v.getClientRects()).forEach(s))}}}}}function Ar(t,e,n){var r;"auto"!=n?(r=Oa._stackingContext.group,n=parseFloat(n)):(r=e,n=0);for(var o=r.children,i=0;i<o.length&&!(null!=o[i]._dom_zIndex&&o[i]._dom_zIndex>n);++i);var s=new ui;if(r.insert(i,s),s._dom_zIndex=n,r!==e&&Oa._clipbox){var a=Oa._matrix.invert(),l=Oa._clipbox.transformCopy(a);ur(s,ni.fromRect(l))}return s}function jr(t,e){var n=Zn(t);if(Hn(n),!/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(t.tagName)&&null!=Oa._clipbox){var r=parseFloat(Qn(n,"opacity")),o=Qn(n,"visibility"),i=Qn(n,"display");if(0!==r&&"hidden"!=o&&"none"!=i){var s,a=sr(n),l=Qn(n,"z-index");(a||r<1)&&"auto"==l&&(l=0),s=Ar(t,e,l),r<1&&s.opacity(r*s.opacity()),Gn(t,n,s),a?nr(t,function(){tr(t.style,"transform","none","important"),tr(t.style,"transition","none","important"),"static"==Qn(n,"position")&&tr(t.style,"position","relative","important");var e=t.getBoundingClientRect(),r=e.left+a.origin[0],o=e.top+a.origin[1],i=[1,0,0,1,-r,-o];i=Dr(i,a.matrix),i=Dr(i,[1,0,0,1,r,o]),i=cr(s,i),Oa._matrix=Oa._matrix.multiplyCopy(i),br(t,s)}):br(t,s),$n()}}}function Dr(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],a=t[5],l=e[0],c=e[1],u=e[2],p=e[3],h=e[4],f=e[5];return[n*l+r*u,n*c+r*p,o*l+i*u,o*c+i*p,s*l+a*u+h,s*c+a*p+f]}Object.defineProperty(e,"__esModule",{value:!0});var Rr=n(27),Ir={extend:function(t){var e=this;for(var n in this)"extend"!==n&&(t[n]=e[n])},observers:function(){return this._observers=this._observers||[],this._observers},addObserver:function(t){return this._observers?this._observers.push(t):this._observers=[t],this},removeObserver:function(t){var e=this.observers(),n=e.indexOf(t);return n!==-1&&e.splice(n,1),this},trigger:function(t,e){var n=this._observers;if(n&&!this._suspended)for(var r=0;r<n.length;r++){var o=n[r];o[t]&&o[t](e)}return this},optionsChange:function(t){void 0===t&&(t={}),t.element=this,this.trigger("optionsChange",t)},geometryChange:function(){this.trigger("geometryChange",{element:this})},suspend:function(){return this._suspended=(this._suspended||0)+1,this},resume:function(){return this._suspended=Math.max((this._suspended||0)-1,0),this},_observerField:function(t,e){this[t]&&this[t].removeObserver(this),this[t]=e,e.addObserver(this)}},zr="undefined"!=typeof window?window:{},Fr=zr.requestAnimationFrame||zr.webkitRequestAnimationFrame||zr.mozRequestAnimationFrame||zr.oRequestAnimationFrame||zr.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},Lr=function(){},Nr=/&/g,Br=/</g,Vr=/"/g,Hr=/'/g,Ur=/>/g,Kr=function(t){function e(){t.call(this),this._events={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(t,e,n){var r=arguments,o=this,i=a(t),l=s(e),c=i.length;if(void 0===e){for(var u in t)o.bind(u,t[u]);return this}for(var p=function(t){var s=i[t],a=l?e:e[s];if(a){if(n){var c=a;a=function(){o.unbind(s,a),c.apply(o,r)},a.original=c}var u=o._events[s]=o._events[s]||[];u.push(a)}},h=0;h<c;h++)p(h);return this},e.prototype.one=function(t,e){return this.bind(t,e,!0)},e.prototype.first=function(t,e){for(var n=this,r=a(t),o=s(e),i=0,l=r.length;i<l;i++){var c=r[i],u=o?e:e[c];if(u){var p=n._events[c]=n._events[c]||[];p.unshift(u)}}return this},e.prototype.trigger=function(t,e){var n=this;void 0===e&&(e={});var r=this._events[t];if(r){var o=r.length;e.sender=this,e._defaultPrevented=!1,e.preventDefault=l,e.isDefaultPrevented=c,r=r.slice();for(var i=0;i<o;i++)r[i].call(n,e);return e._defaultPrevented===!0}return!1},e.prototype.unbind=function(t,e){var n=this._events[t];if(void 0===t)this._events={};else if(n)if(e)for(var r=n.length-1;r>=0;r--)n[r]!==e&&n[r].original!==e||n.splice(r,1);else this._events[t]=[];return this},e}(Lr),qr={};"undefined"!=typeof window&&(qr.browser=function(t){var e,n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in n)if(n.hasOwnProperty(r)){var o=t.match(n[r]);if(o){e={},e[r]=!0,e[o[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||o[2],10);break}}return e}(window.navigator.userAgent));var Wr={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},Gr=qr.browser,$r=function(t){var e=Object.keys(Wr);e.push("transparent");var n=new RegExp("^("+e.join("|")+")(\\W|$)","i");return $r=function(t){return n.exec(t)},n.exec(t)},Yr=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toHSV=function(){return this},e.prototype.toRGB=function(){return this},e.prototype.toHex=function(){return this.toBytes().toHex()},e.prototype.toBytes=function(){return this},e.prototype.toCss=function(){return"#"+this.toHex()},e.prototype.toCssRgba=function(){var t=this.toBytes();return"rgba("+t.r+", "+t.g+", "+t.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},e.prototype.toDisplay=function(){return Gr.msie&&Gr.version<9?this.toCss():this.toCssRgba()},e.prototype.equals=function(t){return t===this||null!==t&&this.toCssRgba()===y(t).toCssRgba()},e.prototype.diff=function(t){if(null===t)return NaN;var e=this.toBytes(),n=t.toBytes();return Math.sqrt(Math.pow(.3*(e.r-n.r),2)+Math.pow(.59*(e.g-n.g),2)+Math.pow(.11*(e.b-n.b),2))},e.prototype.clone=function(){var t=this.toBytes();return t===this&&(t=new Jr(t.r,t.g,t.b,t.a)),t},e}(Lr),Xr=function(t){function e(e,n,r,o){t.call(this),this.r=e,this.g=n,this.b=r,this.a=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toHSV=function(){var t,e,n=this,r=n.r,o=n.g,i=n.b,s=Math.min(r,o,i),a=Math.max(r,o,i),l=a-s,c=a;return 0===l?new Zr(0,0,c,this.a):(0!==a?(e=l/a,t=r===a?(o-i)/l:o===a?2+(i-r)/l:4+(r-o)/l,t*=60,t<0&&(t+=360)):(e=0,t=-1),new Zr(t,e,c,this.a))},e.prototype.toHSL=function(){var t,e,n=this,r=n.r,o=n.g,i=n.b,s=Math.max(r,o,i),a=Math.min(r,o,i),l=(s+a)/2;if(s===a)t=e=0;else{var c=s-a;switch(e=l>.5?c/(2-s-a):c/(s+a),s){case r:t=(o-i)/c+(o<i?6:0);break;case o:t=(i-r)/c+2;break;case i:t=(r-o)/c+4}}return new Qr(60*t,100*e,100*l,this.a)},e.prototype.toBytes=function(){return new Jr(255*this.r,255*this.g,255*this.b,this.a)},e}(Yr),Jr=function(t){function e(e,n,r,o){t.call(this,Math.round(e),Math.round(n),Math.round(r),o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toRGB=function(){return new t(this.r/255,this.g/255,this.b/255,this.a)},e.prototype.toHSV=function(){return this.toRGB().toHSV()},e.prototype.toHSL=function(){return this.toRGB().toHSL()},e.prototype.toHex=function(){return d(this.r,2)+d(this.g,2)+d(this.b,2)},e.prototype.toBytes=function(){return this},e}(Xr),Zr=function(t){function e(e,n,r,o){t.call(this),this.h=e,this.s=n,this.v=r,this.a=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toRGB=function(){var t,e,n,r=this,o=r.h,i=r.s,s=r.v;if(0===i)t=e=n=s;else{o/=60;var a=Math.floor(o),l=o-a,c=s*(1-i),u=s*(1-i*l),p=s*(1-i*(1-l));switch(a){case 0:t=s,e=p,n=c;break;case 1:t=u,e=s,n=c;break;case 2:t=c,e=s,n=p;break;case 3:t=c,e=u,n=s;break;case 4:t=p,e=c,n=s;break;default:t=s,e=c,n=u}}return new Xr(t,e,n,this.a)},e.prototype.toHSL=function(){return this.toRGB().toHSL()},e.prototype.toBytes=function(){return this.toRGB().toBytes()},e}(Yr),Qr=function(t){function e(e,n,r,o){t.call(this),this.h=e,this.s=n,this.l=r,this.a=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toRGB=function(){var t,e,n,r=this.h/360,o=this.s/100,i=this.l/100;if(0===o)t=e=n=i;else{var s=i<.5?i*(1+o):i+o-i*o,a=2*i-s;t=v(a,s,r+1/3),e=v(a,s,r),n=v(a,s,r-1/3)}return new Xr(t,e,n,this.a)},e.prototype.toHSV=function(){return this.toRGB().toHSV()},e.prototype.toBytes=function(){return this.toRGB().toBytes()},e}(Yr),to=180,eo=function(t){function e(n){var r=this;if(t.call(this),1===arguments.length)for(var o=e.formats,i=this.resolveColor(n),s=0;s<o.length;s++){var a=o[s].re,l=o[s].process,c=a.exec(i);if(c){var u=l(c);r.r=u[0],r.g=u[1],r.b=u[2]}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toHex=function(){var t=this.padDigit,e=this.r.toString(16),n=this.g.toString(16),r=this.b.toString(16);return"#"+t(e)+t(n)+t(r)},e.prototype.resolveColor=function(t){var n=t||"black";return"#"===n.charAt(0)&&(n=n.substr(1,6)),n=n.replace(/ /g,""),n=n.toLowerCase(),n=e.namedColors[n]||n},e.prototype.normalizeByte=function(t){return t<0||isNaN(t)?0:t>255?255:t},e.prototype.padDigit=function(t){return 1===t.length?"0"+t:t},e.prototype.brightness=function(t){var e=Math.round;return this.r=e(this.normalizeByte(this.r*t)),this.g=e(this.normalizeByte(this.g*t)),this.b=e(this.normalizeByte(this.b*t)),this},e.prototype.percBrightness=function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)},e.prototype.isDark=function(){return this.percBrightness()<to},e.fromBytes=function(t,e,n,r){return new Jr(t,e,n,null!=r?r:1)},e.fromRGB=function(t,e,n,r){return new Xr(t,e,n,null!=r?r:1)},e.fromHSV=function(t,e,n,r){return new Zr(t,e,n,null!=r?r:1)},e.fromHSL=function(t,e,n,r){return new Qr(t,e,n,null!=r?r:1)},e}(Lr);eo.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],eo.namedColors=Wr;var no,ro={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"},oo="undefined",io=1,so=Math.PI/180,ao=Number.MAX_VALUE,lo=-Number.MAX_VALUE,co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",uo=String.fromCharCode,po=function(t){function e(e){t.call(this),this._size=e,this._length=0,this._map={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.put=function(t,e){var n=this._map,r={key:t,value:e};n[t]=r,this._head?(this._tail.newer=r,r.older=this._tail,this._tail=r):this._head=this._tail=r,this._length>=this._size?(n[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},e.prototype.get=function(t){var e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value},e}(Lr),ho=/\r?\n|\r|\t/g,fo=" ",vo={baselineMarkerSize:1};"undefined"!=typeof document&&(no=document.createElement("div"),no.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var yo=function(t){function e(e){t.call(this),this._cache=new po(1e3),this.options=Object.assign({},vo,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.measure=function(t,e,n){if(void 0===n&&(n={}),!t)return q();var r=U(e),o=K(t+r),i=this._cache.get(o);if(i)return i;var s=q(),a=n.box||no,l=this._baselineMarker().cloneNode(!1);for(var c in e){var u=e[c];"undefined"!=typeof u&&(a.style[c]=u)}var p=n.normalizeText!==!1?H(t):String(t);return a.textContent=p,a.appendChild(l),document.body.appendChild(a),p.length&&(s.width=a.offsetWidth-this.options.baselineMarkerSize,s.height=a.offsetHeight,s.baseline=l.offsetTop+this.options.baselineMarkerSize),s.width>0&&s.height>0&&this._cache.put(o,s),a.parentNode.removeChild(a),s},e.prototype._baselineMarker=function(){var t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t},e}(Lr);yo.current=new yo;var go=Object.freeze({append:g,arabicToRoman:m,createPromise:b,defined:w,definitionId:_,deg:x,encodeBase64:S,eventCoordinates:O,eventElement:C,isTransparent:M,last:T,limitValue:E,mergeSort:P,promiseAll:A,rad:j,round:R,valueOrDefault:I,bindEvents:z,elementOffset:F,elementSize:B,elementStyles:L,unbindEvents:V,DEG_TO_RAD:so,MAX_NUM:ao,MIN_NUM:lo,LRUCache:po,TextMetrics:yo,measureText:W,objectKey:U,hashKey:K,normalizeText:H}),mo={}.toString,bo=function(t){function e(e,n){var r=this;void 0===n&&(n=""),t.call(this),this.prefix=n;for(var o in e){var i=e[o];i=r._wrap(i,o),r[o]=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){for(var e=t.split("."),n=this;e.length&&n;){var r=e.shift();n=n[r]}return n},e.prototype.set=function(t,e){var n=this.get(t);n!==e&&(this._set(t,this._wrap(e,t)),this.optionsChange({field:this.prefix+t,value:e}))},e.prototype._set=function(t,n){var r=this,o=t.indexOf(".")>=0,i=this,s=t;if(o){for(var a=s.split("."),l=this.prefix;a.length>1;){s=a.shift(),l+=s+".";var c=i[s];c||(c=new e({},l),c.addObserver(r),i[s]=c),i=c}s=a[0]}i._clear(s),i[s]=n},e.prototype._clear=function(t){var e=this[t];e&&e.removeObserver&&e.removeObserver(this)},e.prototype._wrap=function(n,r){var o=mo.call(n),i=n;return null!==i&&w(i)&&"[object Object]"===o&&(n instanceof e||n instanceof t||(i=new e(i,this.prefix+r+".")),i.addObserver(this)),i},e}(Lr);Ir.extend(bo.prototype);var wo=function(t){function e(e,n,r,o,i,s){void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),t.call(this),this.a=e,this.b=n,this.c=r,this.d=o,this.e=i,this.f=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.multiplyCopy=function(t){return new e(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)},e.prototype.invert=function(){var t=this,n=t.a,r=t.b,o=t.c,i=t.d,s=t.e,a=t.f,l=n*i-r*o;return 0===l?null:new e(i/l,-r/l,-o/l,n/l,(o*a-i*s)/l,(r*s-n*a)/l)},e.prototype.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},e.prototype.equals=function(t){return!!t&&(this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f)},e.prototype.round=function(t){return this.a=R(this.a,t),this.b=R(this.b,t),this.c=R(this.c,t),this.d=R(this.d,t),this.e=R(this.e,t),this.f=R(this.f,t),this},e.prototype.toArray=function(t){var e=[this.a,this.b,this.c,this.d,this.e,this.f];if(w(t))for(var n=0;n<e.length;n++)e[n]=R(e[n],t);return e},e.prototype.toString=function(t,e){return void 0===e&&(e=","),this.toArray(t).join(e)},e.translate=function(t,n){return new e(1,0,0,1,t,n)},e.unit=function(){return new e(1,0,0,1,0,0)},e.rotate=function(t,n,r){var o=new e;return o.a=Math.cos(j(t)),o.b=Math.sin(j(t)),o.c=-o.b,o.d=o.a,o.e=n-n*o.a+r*o.b||0,o.f=r-r*o.a-n*o.b||0,o},e.scale=function(t,n){return new e(t,0,0,n,0,0)},e}(Lr);wo.IDENTITY=wo.unit();var _o=function(t){function e(e,n){t.call(this),this.x=e||0,this.y=n||0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={ZERO:{}};return e.prototype.equals=function(t){return t&&t.x===this.x&&t.y===this.y},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.rotate=function(t,n){var r=e.create(n)||e.ZERO;return this.transform(wo.rotate(t,r.x,r.y))},e.prototype.translate=function(t,e){return this.x+=t,this.y+=e,this.geometryChange(),this},e.prototype.translateWith=function(t){return this.translate(t.x,t.y)},e.prototype.move=function(t,e){return this.x=this.y=0,this.translate(t,e)},e.prototype.scale=function(t,e){return void 0===e&&(e=t),this.x*=t,this.y*=e,this.geometryChange(),this},e.prototype.scaleCopy=function(t,e){return this.clone().scale(t,e)},e.prototype.transform=function(t){var e=X(t),n=this,r=n.x,o=n.y;return this.x=e.a*r+e.c*o+e.e,this.y=e.b*r+e.d*o+e.f,this.geometryChange(),this},e.prototype.transformCopy=function(t){var e=this.clone();return t&&e.transform(t),e},e.prototype.distanceTo=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},e.prototype.round=function(t){return this.x=R(this.x,t),this.y=R(this.y,t),this.geometryChange(),this},e.prototype.toArray=function(t){var e=w(t),n=e?R(this.x,t):this.x,r=e?R(this.y,t):this.y;return[n,r]},e.prototype.toString=function(t,e){void 0===e&&(e=" ");var n=this,r=n.x,o=n.y;return w(t)&&(r=R(r,t),o=R(o,t)),r+e+o},e.create=function(t,n){if(w(t))return t instanceof e?t:1===arguments.length&&2===t.length?new e(t[0],t[1]):new e(t,n)},e.min=function(){for(var t=arguments,n=ao,r=ao,o=0;o<arguments.length;o++){var i=t[o];n=Math.min(i.x,n),r=Math.min(i.y,r)}return new e(n,r)},e.max=function(){for(var t=arguments,n=lo,r=lo,o=0;o<arguments.length;o++){var i=t[o];n=Math.max(i.x,n),r=Math.max(i.y,r)}return new e(n,r)},e.minPoint=function(){return new e(lo,lo)},e.maxPoint=function(){return new e(ao,ao)},n.ZERO.get=function(){return new e(0,0)},Object.defineProperties(e,n),e}(Lr);Y(_o.prototype,["x","y"]),Ir.extend(_o.prototype);var xo=function(t){function e(e,n){t.call(this),this.width=e||0,this.height=n||0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={ZERO:{}};return e.prototype.equals=function(t){return t&&t.width===this.width&&t.height===this.height},e.prototype.clone=function(){return new e(this.width,this.height)},e.prototype.toArray=function(t){var e=w(t),n=e?R(this.width,t):this.width,r=e?R(this.height,t):this.height;return[n,r]},e.create=function(t,n){if(w(t))return t instanceof e?t:1===arguments.length&&2===t.length?new e(t[0],t[1]):new e(t,n)},n.ZERO.get=function(){return new e(0,0)},Object.defineProperties(e,n),e}(Lr);Y(xo.prototype,["width","height"]),Ir.extend(xo.prototype);var ko=function(t){function e(e,n){void 0===e&&(e=new _o),void 0===n&&(n=new xo),t.call(this),this.setOrigin(e),this.setSize(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.origin.clone(),this.size.clone())},e.prototype.equals=function(t){return t&&t.origin.equals(this.origin)&&t.size.equals(this.size)},e.prototype.setOrigin=function(t){return this._observerField("origin",_o.create(t)),this.geometryChange(),this},e.prototype.getOrigin=function(){return this.origin},e.prototype.setSize=function(t){return this._observerField("size",xo.create(t)),this.geometryChange(),this},e.prototype.getSize=function(){return this.size},e.prototype.width=function(){return this.size.width},e.prototype.height=function(){return this.size.height},e.prototype.topLeft=function(){return this.origin.clone()},e.prototype.bottomRight=function(){return this.origin.clone().translate(this.width(),this.height())},e.prototype.topRight=function(){return this.origin.clone().translate(this.width(),0)},e.prototype.bottomLeft=function(){return this.origin.clone().translate(0,this.height())},e.prototype.center=function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},e.prototype.bbox=function(t){var n=this.topLeft().transformCopy(t),r=this.topRight().transformCopy(t),o=this.bottomRight().transformCopy(t),i=this.bottomLeft().transformCopy(t);return e.fromPoints(n,r,o,i)},e.prototype.transformCopy=function(t){return e.fromPoints(this.topLeft().transform(t),this.bottomRight().transform(t))},e.prototype.expand=function(t,e){return void 0===e&&(e=t),this.size.width+=2*t,this.size.height+=2*e,this.origin.translate(-t,-e),this},e.prototype.expandCopy=function(t,e){return this.clone().expand(t,e)},e.prototype.containsPoint=function(t){var e=this.origin,n=this.bottomRight();return!(t.x<e.x||t.y<e.y||n.x<t.x||n.y<t.y)},e.prototype._isOnPath=function(t,e){var n=this.expandCopy(e,e),r=this.expandCopy(-e,-e);return n.containsPoint(t)&&!r.containsPoint(t)},e.fromPoints=function(){var t=_o.min.apply(null,arguments),n=_o.max.apply(null,arguments),r=new xo(n.x-t.x,n.y-t.y);return new e(t,r)},e.union=function(t,n){return e.fromPoints(_o.min(t.topLeft(),n.topLeft()),_o.max(t.bottomRight(),n.bottomRight()))},e.intersect=function(t,n){var r={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y},o={left:n.topLeft().x,top:n.topLeft().y,right:n.bottomRight().x,bottom:n.bottomRight().y};if(r.left<=o.right&&o.left<=r.right&&r.top<=o.bottom&&o.top<=r.bottom)return e.fromPoints(new _o(Math.max(r.left,o.left),Math.max(r.top,o.top)),new _o(Math.min(r.right,o.right),Math.min(r.bottom,o.bottom)))},e}(Lr);Ir.extend(ko.prototype);var So=function(t){function e(e){void 0===e&&(e=wo.unit()),t.call(this),this._matrix=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this._matrix.clone())},e.prototype.equals=function(t){return t&&t._matrix.equals(this._matrix)},e.prototype.translate=function(t,e){return this._matrix=this._matrix.multiplyCopy(wo.translate(t,e)),this._optionsChange(),this},e.prototype.scale=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=null);var r=n;return r&&(r=_o.create(r),this._matrix=this._matrix.multiplyCopy(wo.translate(r.x,r.y))),this._matrix=this._matrix.multiplyCopy(wo.scale(t,e)),r&&(this._matrix=this._matrix.multiplyCopy(wo.translate(-r.x,-r.y))),this._optionsChange(),this},e.prototype.rotate=function(t,e){var n=_o.create(e)||_o.ZERO;return this._matrix=this._matrix.multiplyCopy(wo.rotate(t,n.x,n.y)),this._optionsChange(),this},e.prototype.multiply=function(t){var e=X(t);return this._matrix=this._matrix.multiplyCopy(e),this._optionsChange(),this},e.prototype.matrix=function(t){return t?(this._matrix=t,this._optionsChange(),this):this._matrix},e.prototype._optionsChange=function(){this.optionsChange({field:"transform",value:this})},e}(Lr);Ir.extend(So.prototype);var Oo=function(t){function e(e){t.call(this),this._initOptions(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initOptions=function(t){void 0===t&&(t={});var e=t.clip,n=t.transform;n&&(t.transform=J(n)),e&&!e.id&&(e.id=_()),this.options=new bo(t),this.options.addObserver(this)},e.prototype.transform=function(t){return w(t)?void this.options.set("transform",J(t)):this.options.get("transform")},e.prototype.parentTransform=function(){for(var t,e=this;e.parent;){e=e.parent;var n=e.transform();n&&(t=n.matrix().multiplyCopy(t||wo.unit()))}if(t)return J(t)},e.prototype.currentTransform=function(t){void 0===t&&(t=this.parentTransform());var e,n=this.transform(),r=X(n),o=X(t);if(e=r&&o?o.multiplyCopy(r):r||o)return J(e)},e.prototype.visible=function(t){return w(t)?(this.options.set("visible",t),this):this.options.get("visible")!==!1},e.prototype.clip=function(t){var e=this.options;return w(t)?(t&&!t.id&&(t.id=_()),e.set("clip",t),this):e.get("clip")},e.prototype.opacity=function(t){return w(t)?(this.options.set("opacity",t),this):I(this.options.get("opacity"),1)},e.prototype.clippedBBox=function(t){var e=this._clippedBBox(t);if(e){var n=this.clip();return n?ko.intersect(e,n.bbox(t)):e}},e.prototype.containsPoint=function(t,e){if(this.visible()){var n=this.currentTransform(e),r=t;return n&&(r=t.transformCopy(n.matrix().invert())),
this._hasFill()&&this._containsPoint(r)||this._isOnPath&&this._hasStroke()&&this._isOnPath(r)}return!1},e.prototype._hasFill=function(){var t=this.options.fill;return t&&!M(t.color)},e.prototype._hasStroke=function(){var t=this.options.stroke;return t&&t.width>0&&!M(t.color)},e.prototype._clippedBBox=function(t){return this.bbox(t)},e}(Lr);Oo.prototype.nodeType="Element",Ir.extend(Oo.prototype);var Co=Math.PI/2,Mo=function(t){function e(e,n){void 0===e&&(e=new _o),void 0===n&&(n=0),t.call(this),this.setCenter(e),this.setRadius(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setCenter=function(t){return this._observerField("center",_o.create(t)),this.geometryChange(),this},e.prototype.getCenter=function(){return this.center},e.prototype.equals=function(t){return t&&t.center.equals(this.center)&&t.radius===this.radius},e.prototype.clone=function(){return new e(this.center.clone(),this.radius)},e.prototype.pointAt=function(t){return this._pointAt(j(t))},e.prototype.bbox=function(t){for(var e=this,n=Z(this.center,this.radius,this.radius,t),r=_o.maxPoint(),o=_o.minPoint(),i=0;i<4;i++){var s=e._pointAt(n.x+i*Co).transformCopy(t),a=e._pointAt(n.y+i*Co).transformCopy(t),l=new _o(s.x,a.y);r=_o.min(r,l),o=_o.max(o,l)}return ko.fromPoints(r,o)},e.prototype._pointAt=function(t){var e=this,n=e.center,r=e.radius;return new _o(n.x+r*Math.cos(t),n.y+r*Math.sin(t))},e.prototype.containsPoint=function(t){var e=this,n=e.center,r=e.radius,o=Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)<=Math.pow(r,2);return o},e.prototype._isOnPath=function(t,e){var n=this,r=n.center,o=n.radius,i=r.distanceTo(t);return o-e<=i&&i<=o+e},e}(Lr);Y(Mo.prototype,["radius"]),Ir.extend(Mo.prototype);var To="Gradient",Eo={extend:function(t){t.fill=this.fill,t.stroke=this.stroke},fill:function(t,e){var n=this.options;if(w(t)){if(t&&t.nodeType!==To){var r={color:t};w(e)&&(r.opacity=e),n.set("fill",r)}else n.set("fill",t);return this}return n.get("fill")},stroke:function(t,e,n){return w(t)?(this.options.set("stroke.color",t),w(e)&&this.options.set("stroke.width",e),w(n)&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")}},Po=wo.IDENTITY.toString(),Ao={extend:function(t){t.bbox=this.bbox,t.geometryChange=this.geometryChange},bbox:function(t){var e,n=X(this.currentTransform(t)),r=n?n.toString():Po;this._bboxCache&&this._matrixHash===r?e=this._bboxCache.clone():(e=this._bbox(n),this._bboxCache=e?e.clone():null,this._matrixHash=r);var o=this.options.get("stroke.width");return o&&e&&e.expand(o/2),e},geometryChange:function(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}},jo="#000",Do=function(t){function e(e,n){void 0===e&&(e=new Mo),void 0===n&&(n={}),t.call(this,n),this.geometry(e),w(this.options.stroke)||this.stroke(jo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.rawBBox=function(){return this._geometry.bbox()},e.prototype._bbox=function(t){return this._geometry.bbox(t)},e.prototype._containsPoint=function(t){return this.geometry().containsPoint(t)},e.prototype._isOnPath=function(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)},e}(Oo);Do.prototype.nodeType="Circle",Eo.extend(Do.prototype),Ao.extend(Do.prototype),tt(Do.prototype,["geometry"]);var Ro=10,Io=45,zo=Math.pow,Fo=function(t){function e(e,n){void 0===e&&(e=new _o),void 0===n&&(n={}),t.call(this),this.setCenter(e),this.radiusX=n.radiusX,this.radiusY=n.radiusY||n.radiusX,this.startAngle=n.startAngle,this.endAngle=n.endAngle,this.anticlockwise=n.anticlockwise||!1,this.xRotation=n.xRotation}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},e.prototype.setCenter=function(t){return this._observerField("center",_o.create(t)),this.geometryChange(),this},e.prototype.getCenter=function(){return this.center},e.prototype.pointAt=function(t){var e=this.center,n=j(t);return new _o(e.x+this.radiusX*Math.cos(n),e.y+this.radiusY*Math.sin(n))},e.prototype.curvePoints=function t(){var e,n=this,r=this.startAngle,o=this.anticlockwise?-1:1,t=[this.pointAt(r)],i=this._arcInterval(),s=i.endAngle-i.startAngle,a=Math.ceil(s/Io),l=s/a,c=r;this.xRotation&&(e=J().rotate(this.xRotation,this.center));for(var u=1;u<=a;u++){var p=c+o*l,h=n._intervalCurvePoints(c,p,e);t.push(h.cp1,h.cp2,h.p2),c=p}return t},e.prototype.bbox=function(t){for(var e=this,n=this._arcInterval(),r=n.startAngle,o=n.endAngle,i=Z(this.center,this.radiusX,this.radiusY,t),s=x(i.x),a=x(i.y),l=this.pointAt(o).transformCopy(t),c=st(s,r),u=st(a,r),p=this.pointAt(r).transformCopy(t),h=_o.min(p,l),f=_o.max(p,l);c<o||u<o;){var d=void 0;c<o&&(d=e.pointAt(c).transformCopy(t),c+=90);var v=void 0;u<o&&(v=e.pointAt(u).transformCopy(t),u+=90),p=new _o(d.x,v.y),h=_o.min(h,p),f=_o.max(f,p)}return ko.fromPoints(h,f)},e.prototype._arcInterval=function(){var t=this,e=t.startAngle,n=t.endAngle,r=t.anticlockwise;if(r){var o=e;e=n,n=o}return(e>n||r&&e===n)&&(n+=360),{startAngle:e,endAngle:n}},e.prototype._intervalCurvePoints=function(t,e,n){var r=this.pointAt(t),o=this.pointAt(e),i=this._derivativeAt(t),s=this._derivativeAt(e),a=(j(e)-j(t))/3,l=new _o(r.x+a*i.x,r.y+a*i.y),c=new _o(o.x-a*s.x,o.y-a*s.y);return n&&(r.transform(n),o.transform(n),l.transform(n),c.transform(n)),{p1:r,cp1:l,cp2:c,p2:o}},e.prototype._derivativeAt=function(t){var e=j(t);return new _o(-this.radiusX*Math.sin(e),this.radiusY*Math.cos(e))},e.prototype.containsPoint=function t(e){var t,n=this._arcInterval(),r=n.endAngle-n.startAngle,o=this,i=o.center,s=o.radiusX,a=o.radiusY,l=i.distanceTo(e),c=Math.atan2(e.y-i.y,e.x-i.x),u=s*a/Math.sqrt(zo(s,2)*zo(Math.sin(c),2)+zo(a,2)*zo(Math.cos(c),2)),p=this.pointAt(this.startAngle).round(Ro),h=this.pointAt(this.endAngle).round(Ro),f=rt(i,e.round(Ro),p,h);if(r<180)t=f&&nt(i.distanceTo(f),l)&&nt(l,u);else{var d=ot(i.x,i.y,s,a,e.x,e.y);360!==d&&(d=(360+d)%360);var v=n.startAngle<=d&&d<=n.endAngle;t=v&&nt(l,u)||!v&&(!f||f.equals(e))}return t},e.prototype._isOnPath=function(t,e){var n=this._arcInterval(),r=this.center,o=ot(r.x,r.y,this.radiusX,this.radiusY,t.x,t.y);360!==o&&(o=(360+o)%360);var i=n.startAngle<=o&&o<=n.endAngle;return i&&this.pointAt(o).distanceTo(t)<=e},e.fromPoints=function(t,n,r,o,i,s,a){var l=it({x1:t.x,y1:t.y,x2:n.x,y2:n.y,rx:r,ry:o,largeArc:i,swipe:s,rotation:a});return new e(l.center,{startAngle:l.startAngle,endAngle:l.endAngle,radiusX:l.radiusX,radiusY:l.radiusY,xRotation:l.xRotation,anticlockwise:0===s})},e}(Lr);Y(Fo.prototype,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),Ir.extend(Fo.prototype);var Lo=[].push,No=[].pop,Bo=[].splice,Vo=[].shift,Ho=[].slice,Uo=[].unshift,Ko=function(t){function e(e){void 0===e&&(e=[]),t.call(this),this.length=0,this._splice(0,e.length,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.elements=function(t){return t?(this._splice(0,this.length,t),this._change(),this):this.slice(0)},e.prototype.push=function(){var t=arguments,e=Lo.apply(this,t);return this._add(t),e},e.prototype.slice=function(){return Ho.call(this)},e.prototype.pop=function(){var t=this.length,e=No.apply(this);return t&&this._remove([e]),e},e.prototype.splice=function(t,e){var n=Ho.call(arguments,2),r=this._splice(t,e,n);return this._change(),r},e.prototype.shift=function(){var t=this.length,e=Vo.apply(this);return t&&this._remove([e]),e},e.prototype.unshift=function(){var t=arguments,e=Uo.apply(this,t);return this._add(t),e},e.prototype.indexOf=function(t){for(var e=this,n=this.length,r=0;r<n;r++)if(e[r]===t)return r;return-1},e.prototype._splice=function(t,e,n){var r=Bo.apply(this,[t,e].concat(n));return this._clearObserver(r),this._setObserver(n),r},e.prototype._add=function(t){this._setObserver(t),this._change()},e.prototype._remove=function(t){this._clearObserver(t),this._change()},e.prototype._setObserver=function(t){for(var e=this,n=0;n<t.length;n++)t[n].addObserver(e)},e.prototype._clearObserver=function(t){for(var e=this,n=0;n<t.length;n++)t[n].removeObserver(e)},e.prototype._change=function(){},e}(Lr);Ir.extend(Ko.prototype);var qo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._change=function(){this.geometryChange()},e}(Ko),Wo=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=0),t.call(this),this.real=e,this.img=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.add=function(t){return new e(R(this.real+t.real,Ro),R(this.img+t.img,Ro))},e.prototype.addConstant=function(t){return new e(this.real+t,this.img)},e.prototype.negate=function(){return new e(-this.real,-this.img)},e.prototype.multiply=function(t){return new e(this.real*t.real-this.img*t.img,this.real*t.img+this.img*t.real)},e.prototype.multiplyConstant=function(t){return new e(this.real*t,this.img*t)},e.prototype.nthRoot=function(t){var n=Math.atan2(this.img,this.real),r=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),o=Math.pow(r,1/t);return new e(o*Math.cos(n/t),o*Math.sin(n/t))},e.prototype.equals=function(t){return this.real===t.real&&this.img===t.img},e.prototype.isReal=function(){return 0===this.img},e}(Lr),Go=function(t){function e(e,n,r){t.call(this),this.anchor(e||new _o),this.controlIn(n),this.controlOut(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bboxTo=function(t,e){var n,r=this.anchor().transformCopy(e),o=t.anchor().transformCopy(e);return n=this.controlOut()&&t.controlIn()?this._curveBoundingBox(r,this.controlOut().transformCopy(e),t.controlIn().transformCopy(e),o):this._lineBoundingBox(r,o)},e.prototype._lineBoundingBox=function(t,e){return ko.fromPoints(t,e)},e.prototype._curveBoundingBox=function(t,e,n,r){var o=[t,e,n,r],i=this._curveExtremesFor(o,"x"),s=this._curveExtremesFor(o,"y"),a=mt([i.min,i.max,t.x,r.x]),l=mt([s.min,s.max,t.y,r.y]);return ko.fromPoints(new _o(a.min,l.min),new _o(a.max,l.max))},e.prototype._curveExtremesFor=function(t,e){var n=this._curveExtremes(t[0][e],t[1][e],t[2][e],t[3][e]);return{min:ut(n.min,e,t),max:ut(n.max,e,t)}},e.prototype._curveExtremes=function(t,e,n,r){var o=t-3*e+3*n-r,i=-2*(t-2*e+n),s=t-e,a=Math.sqrt(i*i-4*o*s),l=0,c=1;0===o?0!==i&&(l=c=-s/i):isNaN(a)||(l=(-i+a)/(2*o),c=(-i-a)/(2*o));var u=Math.max(Math.min(l,c),0);(u<0||u>1)&&(u=0);var p=Math.min(Math.max(l,c),1);return(p>1||p<0)&&(p=1),{min:u,max:p}},e.prototype._intersectionsTo=function(t,e){var n;return n=this.controlOut()&&t.controlIn()?yt([this.anchor(),this.controlOut(),t.controlIn(),t.anchor()],e,this.bboxTo(t)):gt(this.anchor(),t.anchor(),e)},e.prototype._isOnCurveTo=function(t,e,n,r){var o=this.bboxTo(t).expand(n,n);if(o.containsPoint(e)){var i=this.anchor(),s=this.controlOut(),a=t.controlIn(),l=t.anchor();if("start"===r&&i.distanceTo(e)<=n)return!ct(i,s,e);if("end"===r&&l.distanceTo(e)<=n)return!ct(l,a,e);var c=[i,s,a,l];if(vt(c,e,"x","y",n)||vt(c,e,"y","x",n))return!0;var u=J().rotate(45,e),p=[i.transformCopy(u),s.transformCopy(u),a.transformCopy(u),l.transformCopy(u)];return vt(p,e,"x","y",n)||vt(p,e,"y","x",n)}},e.prototype._isOnLineTo=function(t,e,n){var r=this.anchor(),o=t.anchor(),i=x(Math.atan2(o.y-r.y,o.x-r.x)),s=new ko([r.x,r.y-n/2],[r.distanceTo(o),n]);return s.containsPoint(e.transformCopy(J().rotate(-i,r)))},e.prototype._isOnPathTo=function(t,e,n,r){var o;return o=this.controlOut()&&t.controlIn()?this._isOnCurveTo(t,e,n/2,r):this._isOnLineTo(t,e,n)},e}(Lr);lt(Go.prototype,["anchor","controlIn","controlOut"]),Ir.extend(Go.prototype);var $o=function(t){function e(e){t.call(this,e),this.paths=new qo,this.paths.addObserver(this),w(this.options.stroke)||this.stroke("#000")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.moveTo=function(t,e){var n=new ni;return n.moveTo(t,e),this.paths.push(n),this},e.prototype.lineTo=function(t,e){return this.paths.length>0&&T(this.paths).lineTo(t,e),this},e.prototype.curveTo=function(t,e,n){return this.paths.length>0&&T(this.paths).curveTo(t,e,n),this},e.prototype.arc=function(t,e,n,r,o){return this.paths.length>0&&T(this.paths).arc(t,e,n,r,o),this},e.prototype.arcTo=function(t,e,n,r,o,i){return this.paths.length>0&&T(this.paths).arcTo(t,e,n,r,o,i),this},e.prototype.close=function(){return this.paths.length>0&&T(this.paths).close(),this},e.prototype._bbox=function(t){return bt(this.paths,!0,t)},e.prototype.rawBBox=function(){return bt(this.paths,!1)},e.prototype._containsPoint=function(t){for(var e=this.paths,n=0;n<e.length;n++)if(e[n]._containsPoint(t))return!0;return!1},e.prototype._isOnPath=function(t){for(var e=this.paths,n=this.options.stroke.width,r=0;r<e.length;r++)if(e[r]._isOnPath(t,n))return!0;return!1},e.prototype._clippedBBox=function(t){return wt(this.paths,this.currentTransform(t))},e}(Oo);$o.prototype.nodeType="MultiPath",Eo.extend($o.prototype),Ao.extend($o.prototype);var Yo={l:function(t,e){for(var n=e.parameters,r=e.position,o=0;o<n.length;o+=2){var i=new _o(n[o],n[o+1]);e.isRelative&&i.translateWith(r),t.lineTo(i.x,i.y),r.x=i.x,r.y=i.y}},c:function(t,e){for(var n=e.parameters,r=e.position,o=0;o<n.length;o+=6){var i=new _o(n[o],n[o+1]),s=new _o(n[o+2],n[o+3]),a=new _o(n[o+4],n[o+5]);e.isRelative&&(s.translateWith(r),i.translateWith(r),a.translateWith(r)),t.curveTo(i,s,a),r.x=a.x,r.y=a.y}},v:function(t,e){var n=e.isRelative?0:e.position.x;_t(e.parameters,!0,n),this.l(t,e)},h:function(t,e){var n=e.isRelative?0:e.position.y;_t(e.parameters,!1,n),this.l(t,e)},a:function(t,e){for(var n=e.parameters,r=e.position,o=0;o<n.length;o+=7){var i=n[o],s=n[o+1],a=n[o+2],l=n[o+3],c=n[o+4],u=new _o(n[o+5],n[o+6]);e.isRelative&&u.translateWith(r),r.x===u.x&&r.y===u.y||(t.arcTo(u,i,s,l,c,a),r.x=u.x,r.y=u.y)}},s:function(t,e){var n,r=e.parameters,o=e.position,i=e.previousCommand;"s"!==i&&"c"!==i||(n=T(T(t.paths).segments).controlIn());for(var s=0;s<r.length;s+=4){var a=new _o(r[s],r[s+1]),l=new _o(r[s+2],r[s+3]),c=void 0;e.isRelative&&(a.translateWith(o),l.translateWith(o)),c=n?xt(n,o):o.clone(),n=a,t.curveTo(c,a,l),o.x=l.x,o.y=l.y}},q:function(t,e){for(var n=e.parameters,r=e.position,o=0;o<n.length;o+=4){var i=new _o(n[o],n[o+1]),s=new _o(n[o+2],n[o+3]);e.isRelative&&(i.translateWith(r),s.translateWith(r));var a=kt(r,i,s);t.curveTo(a.controlOut,a.controlIn,s),r.x=s.x,r.y=s.y}},t:function(t,e){var n,r=e.parameters,o=e.position,i=e.previousCommand;if("q"===i||"t"===i){var s=T(T(t.paths).segments);n=s.controlIn().clone().translateWith(o.scaleCopy(-1/3)).scale(1.5)}for(var a=0;a<r.length;a+=2){var l=new _o(r[a],r[a+1]);e.isRelative&&l.translateWith(o),n=n?xt(n,o):o.clone();var c=kt(o,n,l);t.curveTo(c.controlOut,c.controlIn,l),o.x=l.x,o.y=l.y}}},Xo=1/3,Jo=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,Zo=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,Qo="m",ti="z",ei=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parse=function(t,e){var n,r=new $o(e),o=new _o;return t.replace(Jo,function(t,e,i,s){var a=e.toLowerCase(),l=a===e,c=St(i.trim());if(a===Qo&&(l?(o.x+=c[0],o.y+=c[1]):(o.x=c[0],o.y=c[1]),r.moveTo(o.x,o.y),c.length>2&&(a="l",c.splice(0,2))),Yo[a])Yo[a](r,{parameters:c,position:o,isRelative:l,previousCommand:n}),s&&s.toLowerCase()===ti&&r.close();else if(a!==Qo)throw new Error("Error while parsing SVG path. Unsupported command: "+a);n=a}),r},e}(Lr);ei.current=new ei;var ni=function(t){function e(e){t.call(this,e),this.segments=new qo,this.segments.addObserver(this),w(this.options.stroke)||(this.stroke("#000"),w(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.moveTo=function(t,e){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(t,e),this},e.prototype.lineTo=function(t,e){var n=w(e)?new _o(t,e):t,r=new Go(n);return this.segments.push(r),this},e.prototype.curveTo=function(t,e,n){if(this.segments.length>0){var r=T(this.segments),o=new Go(n,e);this.suspend(),r.controlOut(t),this.resume(),this.segments.push(o)}return this},e.prototype.arc=function t(e,n,r,o,i){if(this.segments.length>0){var s=T(this.segments),a=s.anchor(),l=j(e),c=new _o(a.x-r*Math.cos(l),a.y-o*Math.sin(l)),t=new Fo(c,{startAngle:e,endAngle:n,radiusX:r,radiusY:o,anticlockwise:i});this._addArcSegments(t)}return this},e.prototype.arcTo=function(t,e,n,r,o,i){if(this.segments.length>0){var s=T(this.segments),a=s.anchor(),l=Fo.fromPoints(a,t,e,n,r,o,i);this._addArcSegments(l)}return this},e.prototype._addArcSegments=function(t){var e=this;this.suspend();for(var n=t.curvePoints(),r=1;r<n.length;r+=3)e.curveTo(n[r],n[r+1],n[r+2]);this.resume(),this.geometryChange()},e.prototype.close=function(){return this.options.closed=!0,this.geometryChange(),this},e.prototype.rawBBox=function(){return this._bbox()},e.prototype._containsPoint=function(t){for(var e,n,r=this.segments,o=r.length,i=0,s=1;s<o;s++)e=r[s-1],n=r[s],i+=e._intersectionsTo(n,t);return!this.options.closed&&r[0].anchor().equals(r[o-1].anchor())||(i+=gt(r[0].anchor(),r[o-1].anchor(),t)),i%2!==0},e.prototype._isOnPath=function(t,e){var n=this.segments,r=n.length,o=e||this.options.stroke.width;if(r>1){if(n[0]._isOnPathTo(n[1],t,o,"start"))return!0;for(var i=2;i<=r-2;i++)if(n[i-1]._isOnPathTo(n[i],t,o))return!0;if(n[r-2]._isOnPathTo(n[r-1],t,o,"end"))return!0}return!1},e.prototype._bbox=function(t){var e,n=this.segments,r=n.length;if(1===r){var o=n[0].anchor().transformCopy(t);e=new ko(o,xo.ZERO)}else if(r>0)for(var i=1;i<r;i++){var s=n[i-1].bboxTo(n[i],t);e=e?ko.union(e,s):s}return e},e.fromRect=function(t,n){return new e(n).moveTo(t.topLeft()).lineTo(t.topRight()).lineTo(t.bottomRight()).lineTo(t.bottomLeft()).close()},e.fromPoints=function(t,n){if(t){for(var r=new e(n),o=0;o<t.length;o++){var i=_o.create(t[o]);i&&(0===o?r.moveTo(i):r.lineTo(i))}return r}},e.fromArc=function(t,n){var r=new e(n),o=t.startAngle,i=t.pointAt(o);return r.moveTo(i.x,i.y),r.arc(o,t.endAngle,t.radiusX,t.radiusY,t.anticlockwise),r},e}(Oo);ni.prototype.nodeType="Path",Eo.extend(ni.prototype),Ao.extend(ni.prototype),ni.parse=function(t,e){return ei.current.parse(t,e)};var ri="#000",oi=function(t){function e(e,n){void 0===e&&(e=new Fo),void 0===n&&(n={}),t.call(this,n),this.geometry(e),w(this.options.stroke)||this.stroke(ri)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._bbox=function(t){return this._geometry.bbox(t)},e.prototype.rawBBox=function(){return this.geometry().bbox()},e.prototype.toPath=function(){var t=new ni,e=this.geometry().curvePoints();if(e.length>0){t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n+=3)t.curveTo(e[n],e[n+1],e[n+2])}return t},e.prototype._containsPoint=function(t){return this.geometry().containsPoint(t)},e.prototype._isOnPath=function(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)},e}(Oo);oi.prototype.nodeType="Arc",Eo.extend(oi.prototype),Ao.extend(oi.prototype),tt(oi.prototype,["geometry"]);var ii="12px sans-serif",si="#000",ai=function(t){function e(e,n,r){void 0===n&&(n=new _o),void 0===r&&(r={}),t.call(this,r),this.content(e),this.position(n),this.options.font||(this.options.font=ii),w(this.options.fill)||this.fill(si)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.content=function(t){return w(t)?(this.options.set("content",t),this):this.options.get("content")},e.prototype.measure=function(){var t=W(this.content(),{font:this.options.get("font")});return t},e.prototype.rect=function(){var t=this.measure(),e=this.position().clone();return new ko(e,[t.width,t.height])},e.prototype.bbox=function(t){var e=X(this.currentTransform(t));return this.rect().bbox(e)},e.prototype.rawBBox=function(){return this.rect().bbox()},e.prototype._containsPoint=function(t){return this.rect().containsPoint(t)},e}(Oo);ai.prototype.nodeType="Text",Eo.extend(ai.prototype),lt(ai.prototype,["position"]);var li=function(t){function e(e,n,r){void 0===n&&(n=new ko),void 0===r&&(r={}),t.call(this,r),this.src(e),this.rect(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.src=function(t){return w(t)?(this.options.set("src",t),this):this.options.get("src")},e.prototype.bbox=function(t){var e=X(this.currentTransform(t));return this._rect.bbox(e)},e.prototype.rawBBox=function(){return this._rect.bbox()},e.prototype._containsPoint=function(t){return this._rect.containsPoint(t)},e.prototype._hasFill=function(){return this.src()},e}(Oo);li.prototype.nodeType="Image",tt(li.prototype,["rect"]);var ci={extend:function(t,e){t.traverse=function(t){for(var n=this[e],r=0;r<n.length;r++){var o=n[r];o.traverse?o.traverse(t):t(o)}return this}}},ui=function(t){function e(e){t.call(this,e),this.children=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.childrenChange=function(t,e,n){this.trigger("childrenChange",{action:t,items:e,index:n})},e.prototype.append=function(){return g(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this},e.prototype.insert=function(t,e){return this.children.splice(t,0,e),e.parent=this,this.childrenChange("add",[e],t),this},e.prototype.insertAt=function(t,e){return this.insert(e,t)},e.prototype.remove=function(t){var e=this.children.indexOf(t);return e>=0&&(this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)),this},e.prototype.removeAt=function(t){if(0<=t&&t<this.children.length){var e=this.children[t];this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)}return this},e.prototype.clear=function(){var t=this.children;return this.children=[],this._reparent(t,null),this.childrenChange("remove",t,0),this},e.prototype.bbox=function(t){return bt(this.children,!0,this.currentTransform(t))},e.prototype.rawBBox=function(){return bt(this.children,!1)},e.prototype._clippedBBox=function(t){return wt(this.children,this.currentTransform(t))},e.prototype.currentTransform=function(e){return t.prototype.currentTransform.call(this,e)||null},e.prototype.containsPoint=function(t,e){if(this.visible())for(var n=this.children,r=this.currentTransform(e),o=0;o<n.length;o++)if(n[o].containsPoint(t,r))return!0;return!1},e.prototype._reparent=function(t,e){for(var n=this,r=0;r<t.length;r++){var o=t[r],i=o.parent;i&&i!==n&&i.remove&&i.remove(o),o.parent=e}},e}(Oo);ui.prototype.nodeType="Group",ci.extend(ui.prototype,"children");var pi={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},hi=function(t,e){t.forEach(e)},fi=function(t,e){for(var n=t.length,r=n-1;r>=0;r--)e(t[r],r)},di=function(t){function e(e,n){t.call(this,Object.assign({},pi,n)),this._rect=e,this._fieldMap={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.rect=function(t){return t?(this._rect=t,this):this._rect},e.prototype._initMap=function(){var t=this.options,e=this._fieldMap;"horizontal"===t.orientation?(e.sizeField="width",e.groupsSizeField="height",e.groupAxis="x",e.groupsAxis="y"):(e.sizeField="height",e.groupsSizeField="width",e.groupAxis="y",e.groupsAxis="x"),t.reverse?(this.forEach=fi,this.justifyAlign=Mt):(this.forEach=hi,this.justifyAlign=Ct)},e.prototype.reflow=function(){var t=this;if(this._rect&&0!==this.children.length){this._initMap(),this.options.transform&&this.transform(null);for(var e,n,r,o=this.options,i=this._rect,s=this._initGroups(),a=s.groups,l=s.groupsSize,c=this._fieldMap,u=c.sizeField,p=c.groupsSizeField,h=c.groupAxis,f=c.groupsAxis,d=new _o,v=new _o,y=new xo,g=Ct(l,i,o.alignContent,f,p),m=function(t,i){var s=n.elements[i];v[h]=e,v[f]=Ct(t.size[p],r,o.alignItems,f,p),Ot(v,t,s),e+=t.size[u]+o.spacing},b=0;b<a.length;b++)n=a[b],d[h]=e=t.justifyAlign(n.size,i,o.justifyContent,h,u),d[f]=g,y[u]=n.size,y[p]=n.lineSize,r=new ko(d,y),t.forEach(n.bboxes,m),g+=n.lineSize+o.lineSpacing;if(!o.wrap&&n.size>i.size[u]){var w=i.size[u]/r.size[u],_=r.topLeft().scale(w,w),x=r.size[p]*w,k=Ct(x,i,o.alignContent,f,p),S=J();"x"===h?S.translate(i.origin.x-_.x,k-_.y):S.translate(k-_.x,i.origin.y-_.y),S.scale(w,w),this.transform(S)}}},e.prototype._initGroups=function(){for(var t=this,e=this,n=e.options,r=e.children,o=n.lineSpacing,i=n.wrap,s=n.spacing,a=this._fieldMap.sizeField,l=this._newGroup(),c=[],u=function(){c.push(l),p+=l.lineSize+o},p=-o,h=0;h<r.length;h++){var f=r[h],d=r[h].clippedBBox();f.visible()&&d&&(i&&l.size+d.size[a]+s>t._rect.size[a]?0===l.bboxes.length?(t._addToGroup(l,d,f),u(),l=t._newGroup()):(u(),l=t._newGroup(),t._addToGroup(l,d,f)):t._addToGroup(l,d,f))}return l.bboxes.length&&u(),{groups:c,groupsSize:p}},e.prototype._addToGroup=function(t,e,n){t.size+=e.size[this._fieldMap.sizeField]+this.options.spacing,t.lineSize=Math.max(e.size[this._fieldMap.groupsSizeField],t.lineSize),t.bboxes.push(e),t.elements.push(n)},e.prototype._newGroup=function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}},e}(ui),vi=function(t){function e(e,n){void 0===e&&(e=new ko),void 0===n&&(n={}),t.call(this,n),this.geometry(e),w(this.options.stroke)||this.stroke("#000")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._bbox=function(t){return this._geometry.bbox(t)},e.prototype.rawBBox=function(){return this._geometry.bbox()},e.prototype._containsPoint=function(t){return this._geometry.containsPoint(t)},e.prototype._isOnPath=function(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)},e}(Oo);vi.prototype.nodeType="Rect",Eo.extend(vi.prototype),Ao.extend(vi.prototype),tt(vi.prototype,["geometry"]);var yi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._change=function(){this.optionsChange({field:"stops"})},e}(Ko),gi=function(t){function e(e,n,r){t.call(this),this.options=new bo({offset:e,color:n,opacity:w(r)?r:1}),this.options.addObserver(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t){if(w(t)){var n;return n=t instanceof e?t:t.length>1?new e(t[0],t[1],t[2]):new e(t.offset,t.color,t.opacity)}},e}(Lr);Vt(gi.prototype,["offset","color","opacity"]),Ir.extend(gi.prototype);var mi=function(t){function e(e){void 0===e&&(e={}),t.call(this),this.stops=new yi(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.userSpace=function(t){return w(t)?(this._userSpace=t,this.optionsChange(),this):this._userSpace},e.prototype._createStops=function(t){void 0===t&&(t=[]);for(var e=[],n=0;n<t.length;n++)e.push(gi.create(t[n]));return e},e.prototype.addStop=function(t,e,n){this.stops.push(new gi(t,e,n))},e.prototype.removeStop=function(t){var e=this.stops.indexOf(t);e>=0&&this.stops.splice(e,1)},e}(Lr);mi.prototype.nodeType="Gradient",Ir.extend(mi.prototype),Object.assign(mi.prototype,{optionsChange:function(t){this.trigger("optionsChange",{field:"gradient"+(t?"."+t.field:""),value:this})},geometryChange:function(){this.optionsChange()}});var bi=function(t){function e(e){void 0===e&&(e={}),t.call(this,e),this.start(e.start||new _o),this.end(e.end||new _o(1,0))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mi);lt(bi.prototype,["start","end"]);var wi=function(t){function e(e){void 0===e&&(e={}),t.call(this,e),this.center(e.center||new _o),this._radius=w(e.radius)?e.radius:1,this._fallbackFill=e.fallbackFill}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.radius=function(t){return w(t)?(this._radius=t,this.geometryChange(),this):this._radius},e.prototype.fallbackFill=function(t){return w(t)?(this._fallbackFill=t,this.optionsChange(),this):this._fallbackFill},e}(mi);lt(wi.prototype,["center"]);var _i=Object.freeze({swing:Ht,linear:Ut,easeOutElastic:Kt}),xi=function(t){function e(){t.call(this),this._items=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e){this._items.push({name:t,type:e})},e.prototype.create=function(t,e){var n,r=this._items;if(e&&e.type)for(var o=e.type.toLowerCase(),i=0;i<r.length;i++)if(r[i].name.toLowerCase()===o){n=r[i];break}if(n)return new n.type(t,e)},e}(Lr);xi.current=new xi;var ki=Date.now||function(){return(new Date).getTime()},Si=function(t){function e(e,n){t.call(this),this.options=Object.assign({},this.options,n),this.element=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){},e.prototype.step=function(){},e.prototype.play=function(){var t=this,e=this.options,n=e.duration,o=e.delay;void 0===o&&(o=0);var i=_i[e.easing],s=ki()+o,a=s+n;0===n?(this.step(1),this.abort()):setTimeout(function(){var e=function(){if(!t._stopped){var o=ki(),l=E(o-s,0,n),c=l/n,u=i(c,l,0,1,n);t.step(u),o<a?r(e):t.abort()}};e()},o)},e.prototype.abort=function(){this._stopped=!0},e.prototype.destroy=function(){this.abort()},e}(Lr);Si.prototype.options={duration:500,easing:"swing"},Si.create=function(t,e,n){return xi.current.create(t,e,n)};var Oi=function(t){function e(){t.call(this),this._items=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e,n){var r=this._items,o=r[0],i={name:t,type:e,order:n};!o||n<o.order?r.unshift(i):r.push(i)},e.prototype.create=function(t,e){var n=this._items,r=n[0];if(e&&e.type)for(var o=e.type.toLowerCase(),s=0;s<n.length;s++)if(n[s].name===o){r=n[s];break}return r?new r.type(t,e):void i("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: "+navigator.userAgent)},e}(Lr);Oi.current=new Oi;var Ci=["click","mouseenter","mouseleave","mousemove","resize"],Mi=function(t){function e(e,n){t.call(this),this.options=Object.assign({},n),this.element=e,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new ui,B(e,this.options),this.bind(Ci,this.options),this._enableTracking()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.draw=function(t){this._visual.children.push(t)},e.prototype.clear=function(){this._visual.children=[]},e.prototype.destroy=function(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()},e.prototype.eventTarget=function(t){for(var e,n=this,r=C(t);!e&&r&&(e=r._kendoNode,r!==n.element);)r=r.parentElement;if(e)return e.srcElement},e.prototype.exportVisual=function(){return this._visual},e.prototype.getSize=function(){return B(this.element)},e.prototype.currentSize=function(t){return t?void(this._size=t):this._size},e.prototype.setSize=function(t){B(this.element,t),this.currentSize(t),this._resize()},e.prototype.resize=function(t){var e=this.getSize(),n=this.currentSize();(t||(e.width>0||e.height>0)&&(!n||e.width!==n.width||e.height!==n.height))&&(this.currentSize(e),this._resize(e,t),this.trigger("resize",e))},e.prototype.size=function(t){return t?void this.setSize(t):this.getSize()},e.prototype.suspendTracking=function(){this._suspendedTracking=!0},e.prototype.resumeTracking=function(){
this._suspendedTracking=!1},e.prototype._enableTracking=function(){},e.prototype._resize=function(){},e.prototype._handler=function(t){var e=this;return function(n){var r=e.eventTarget(n);r&&!e._suspendedTracking&&e.trigger(t,{element:r,originalEvent:n,type:t})}},e.prototype._elementOffset=function(){var t=this.element,e=L(t,["paddingLeft","paddingTop"]),n=e.paddingLeft,r=e.paddingTop,o=F(t),i=o.left,s=o.top;return{left:i+parseInt(n,10),top:s+parseInt(r,10)}},e.prototype._surfacePoint=function(t){var e=this._elementOffset(),n=O(t),r=n.x-e.left,o=n.y-e.top;return new _o(r,o)},e}(Kr);Mi.create=function(t,e){return Oi.current.create(t,e)},Mi.support={};var Ti=function(t){function e(e){t.call(this),this.childNodes=[],this.parent=null,e&&(this.srcElement=e,this.observe())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){var t=this;this.srcElement&&this.srcElement.removeObserver(this);for(var e=this.childNodes,n=0;n<e.length;n++)t.childNodes[n].destroy();this.parent=null},e.prototype.load=function(){},e.prototype.observe=function(){this.srcElement&&this.srcElement.addObserver(this)},e.prototype.append=function(t){this.childNodes.push(t),t.parent=this},e.prototype.insertAt=function(t,e){this.childNodes.splice(e,0,t),t.parent=this},e.prototype.remove=function(t,e){for(var n=this,r=t+e,o=t;o<r;o++)n.childNodes[o].removeSelf();this.childNodes.splice(t,e)},e.prototype.removeSelf=function(){this.clear(),this.destroy()},e.prototype.clear=function(){this.remove(0,this.childNodes.length)},e.prototype.invalidate=function(){this.parent&&this.parent.invalidate()},e.prototype.geometryChange=function(){this.invalidate()},e.prototype.optionsChange=function(){this.invalidate()},e.prototype.childrenChange=function(t){"add"===t.action?this.load(t.items,t.index):"remove"===t.action&&this.remove(t.index,t.items.length),this.invalidate()},e}(Lr),Ei={},Pi="http://www.w3.org/2000/svg",Ai="none",ji=function(t,e){t.innerHTML=e};if("undefined"!=typeof document){var Di="<svg xmlns='"+Pi+"'></svg>",Ri=document.createElement("div"),Ii="undefined"!=typeof DOMParser;Ri.innerHTML=Di,Ii&&Ri.firstChild.namespaceURI!==Pi&&(ji=function(t,e){var n=new DOMParser,r=n.parseFromString(e,"text/xml"),o=document.adoptNode(r.documentElement);t.innerHTML="",t.appendChild(o)})}var zi=ji,Fi="transform",Li={clip:"clip-path",fill:"fill"},Ni=function(t){function e(e,n){t.call(this,e),this.definitions={},this.options=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),t.prototype.destroy.call(this)},e.prototype.load=function(t,e){for(var n=this,r=0;r<t.length;r++){var o=t[r],i=o.children,s=new Ei[o.nodeType](o,n.options);w(e)?n.insertAt(s,e):n.append(s),s.createDefinitions(),i&&i.length>0&&s.load(i);var a=n.element;a&&s.attachTo(a,e)}},e.prototype.root=function t(){for(var t=this;t.parent;)t=t.parent;return t},e.prototype.attachTo=function(t,e){var n=document.createElement("div");zi(n,"<svg xmlns='"+Pi+"' version='1.1'>"+this.render()+"</svg>");var r=n.firstChild.firstChild;r&&(w(e)?t.insertBefore(r,t.childNodes[e]||null):t.appendChild(r),this.setElement(r))},e.prototype.setElement=function(t){this.element&&(this.element._kendoNode=null),this.element=t,this.element._kendoNode=this;for(var e=this.childNodes,n=0;n<e.length;n++){var r=t.childNodes[n];e[n].setElement(r)}},e.prototype.clear=function(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");for(var t=this.childNodes,e=0;e<t.length;e++)t[e].destroy();this.childNodes=[]},e.prototype.removeSelf=function(){if(this.element){var e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}t.prototype.removeSelf.call(this)},e.prototype.template=function(){return this.renderChildren()},e.prototype.render=function(){return this.template()},e.prototype.renderChildren=function(){for(var t=this.childNodes,e="",n=0;n<t.length;n++)e+=t[n].render();return e},e.prototype.optionsChange=function(e){var n=e.field,r=e.value;"visible"===n?this.css("display",r?"":Ai):Li[n]&&$t(n,r)?this.updateDefinition(n,r):"opacity"===n?this.attr("opacity",r):"cursor"===n?this.css("cursor",r):"id"===n&&(r?this.attr("id",r):this.removeAttr("id")),t.prototype.optionsChange.call(this,e)},e.prototype.attr=function(t,e){this.element&&this.element.setAttribute(t,e)},e.prototype.allAttr=function(t){for(var e=this,n=0;n<t.length;n++)e.attr(t[n][0],t[n][1])},e.prototype.css=function(t,e){this.element&&(this.element.style[t]=e)},e.prototype.allCss=function(t){for(var e=this,n=0;n<t.length;n++)e.css(t[n][0],t[n][1])},e.prototype.removeAttr=function(t){this.element&&this.element.removeAttribute(t)},e.prototype.mapTransform=function(t){var e=[];return t&&e.push([Fi,"matrix("+t.matrix().toString(6)+")"]),e},e.prototype.renderTransform=function(){return Wt(this.mapTransform(this.srcElement.transform()))},e.prototype.transformChange=function(t){t?this.allAttr(this.mapTransform(t)):this.removeAttr(Fi)},e.prototype.mapStyle=function(){var t=this.srcElement.options,e=[["cursor",t.cursor]];return t.visible===!1&&e.push(["display",Ai]),e},e.prototype.renderStyle=function(){return qt("style",Gt(this.mapStyle(!0)))},e.prototype.renderOpacity=function(){return qt("opacity",this.srcElement.options.opacity)},e.prototype.renderId=function(){return qt("id",this.srcElement.options.id)},e.prototype.createDefinitions=function(){var t=this.srcElement,e=this.definitions;if(t){var n,r=t.options;for(var o in Li){var i=r.get(o);i&&$t(o,i)&&(e[o]=i,n=!0)}n&&this.definitionChange({action:"add",definitions:e})}},e.prototype.definitionChange=function(t){this.parent&&this.parent.definitionChange(t)},e.prototype.updateDefinition=function(t,e){var n=this.definitions,r=n[t],o=Li[t],i={};r&&(i[t]=r,this.definitionChange({action:"remove",definitions:i}),delete n[t]),e?(i[t]=e,this.definitionChange({action:"add",definitions:i}),n[t]=e,this.attr(o,this.refUrl(e.id))):r&&this.removeAttr(o)},e.prototype.clearDefinitions=function(){var t=this.definitions;this.definitionChange({action:"remove",definitions:t}),this.definitions={}},e.prototype.renderDefinitions=function(){return Wt(this.mapDefinitions())},e.prototype.mapDefinitions=function(){var t=this,e=this.definitions,n=[];for(var r in e)n.push([Li[r],t.refUrl(e[r].id)]);return n},e.prototype.refUrl=function(t){var e=(this.options||{}).skipBaseHref,n=this.baseUrl().replace(/'/g,"\\'"),r=e?"":n;return"url("+r+"#"+t+")"},e.prototype.baseUrl=function(){return Yt()},e}(Ti),Bi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<stop "+this.renderOffset()+" "+this.renderStyle()+" />"},e.prototype.renderOffset=function(){return qt("offset",this.srcElement.offset())},e.prototype.mapStyle=function(){var t=this.srcElement;return[["stop-color",t.color()],["stop-opacity",t.opacity()]]},e.prototype.optionsChange=function(t){"offset"===t.field?this.attr(t.field,t.value):"color"!==t.field&&"opacity"!==t.field||this.css("stop-"+t.field,t.value)},e}(Ni),Vi=function(t){function e(e){t.call(this,e),this.id=e.id,this.loadStops()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadStops=function(){for(var t=this,e=this.srcElement.stops,n=this.element,r=0;r<e.length;r++){var o=new Bi(e[r]);t.append(o),n&&o.attachTo(n)}},e.prototype.optionsChange=function(t){"gradient.stops"===t.field?(Ti.prototype.clear.call(this),this.loadStops()):"gradient"===t.field&&this.allAttr(this.mapCoordinates())},e.prototype.renderCoordinates=function(){return Wt(this.mapCoordinates())},e.prototype.mapSpace=function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]},e}(Ni),Hi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<linearGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</linearGradient>"},e.prototype.mapCoordinates=function(){var t=this.srcElement,e=t.start(),n=t.end(),r=[["x1",e.x],["y1",e.y],["x2",n.x],["y2",n.y],this.mapSpace()];return r},e}(Vi),Ui=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<radialGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</radialGradient>"},e.prototype.mapCoordinates=function(){var t=this.srcElement,e=t.center(),n=t.radius(),r=[["cx",e.x],["cy",e.y],["r",n],this.mapSpace()];return r},e}(Vi),Ki=function(t){function e(e){t.call(this),this.srcElement=e,this.id=e.id,this.load([e])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<clipPath id='"+this.id+"'>"+this.renderChildren()+"</clipPath>"},e}(Ni),qi=function(t){function e(){t.call(this),this.definitionMap={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.attachTo=function(t){this.element=t},e.prototype.template=function(){return"<defs>"+this.renderChildren()+"</defs>"},e.prototype.definitionChange=function(t){var e=t.definitions,n=t.action;"add"===n?this.addDefinitions(e):"remove"===n&&this.removeDefinitions(e)},e.prototype.createDefinition=function(t,e){var n;return"clip"===t?n=Ki:"fill"===t&&(e instanceof bi?n=Hi:e instanceof wi&&(n=Ui)),new n(e)},e.prototype.addDefinitions=function(t){var e=this;for(var n in t)e.addDefinition(n,t[n])},e.prototype.addDefinition=function(t,e){var n=this,r=n.element,o=n.definitionMap,i=e.id,s=o[i];if(s)s.count++;else{var a=this.createDefinition(t,e);o[i]={element:a,count:1},this.append(a),r&&a.attachTo(this.element)}},e.prototype.removeDefinitions=function(t){var e=this;for(var n in t)e.removeDefinition(t[n])},e.prototype.removeDefinition=function(t){var e=this.definitionMap,n=t.id,r=e[n];r&&(r.count--,0===r.count&&(this.remove(this.childNodes.indexOf(r.element),1),delete e[n]))},e}(Ni),Wi=function(t){function e(e){t.call(this),this.options=e,this.defs=new qi}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.attachTo=function(t){this.element=t,this.defs.attachTo(t.firstElementChild)},e.prototype.clear=function(){Ti.prototype.clear.call(this)},e.prototype.template=function(){return this.defs.render()+this.renderChildren()},e.prototype.definitionChange=function(t){this.defs.definitionChange(t)},e}(Ni),Gi="rtl",$i=function(t){function e(e,n){t.call(this,e,n),this._root=new Wi(Object.assign({rtl:L(e,"direction").direction===Gi},this.options)),zi(this.element,this._template()),this._rootElement=this.element.firstElementChild,Xt(this._rootElement),this._root.attachTo(this._rootElement),z(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,V(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),t.prototype.destroy.call(this)},e.prototype.translate=function(t){var e=Math.round(t.x)+" "+Math.round(t.y)+" "+this._size.width+" "+this._size.height;this._offset=t,this._rootElement.setAttribute("viewBox",e)},e.prototype.draw=function(e){t.prototype.draw.call(this,e),this._root.load([e])},e.prototype.clear=function(){t.prototype.clear.call(this),this._root.clear()},e.prototype.svg=function(){return"<?xml version='1.0' ?>"+this._template()},e.prototype.exportVisual=function(){var t=this,e=t._visual,n=t._offset;if(n){var r=new ui;r.children.push(e),r.transform(J().translate(-n.x,-n.y)),e=r}return e},e.prototype._resize=function(){this._offset&&this.translate(this._offset)},e.prototype._template=function(){return"<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+Pi+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+this._root.render()+"</svg>"},e}(Mi);$i.prototype.type="svg","undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(Mi.support.svg=!0,Oi.current.register("svg",$i,10));var Yi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<g"+(this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions())+">"+this.renderChildren()+"</g>"},e.prototype.optionsChange=function(e){"transform"===e.field&&this.transformChange(e.value),t.prototype.optionsChange.call(this,e)},e}(Ni);Ei.Group=Yi;var Xi={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Ji="solid",Zi="butt",Qi={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},ts=" ",es=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){this.attr("d",this.renderData()),this.invalidate()},e.prototype.optionsChange=function(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(e.value);break;default:var n=Qi[e.field];n&&this.attr(n,e.value)}t.prototype.optionsChange.call(this,e)},e.prototype.content=function(){this.element&&(this.element.textContent=this.srcElement.content())},e.prototype.renderData=function(){return this.printPath(this.srcElement)},e.prototype.printPath=function(t){var e=this,n=t.segments,r=n.length;if(r>0){for(var o,i,s=[],a=1;a<r;a++){var l=e.segmentType(n[a-1],n[a]);l!==i&&(i=l,s.push(l)),"L"===l?s.push(e.printPoints(n[a].anchor())):s.push(e.printPoints(n[a-1].controlOut(),n[a].controlIn(),n[a].anchor()))}return o="M"+this.printPoints(n[0].anchor())+ts+s.join(ts),t.options.closed&&(o+="Z"),o}},e.prototype.printPoints=function(){for(var t=arguments,e=t.length,n=[],r=0;r<e;r++)n.push(t[r].toString(3));return n.join(" ")},e.prototype.segmentType=function(t,e){return t.controlOut()&&e.controlIn()?"C":"L"},e.prototype.mapStroke=function(t){var e=[];return t&&!M(t.color)?(e.push(["stroke",t.color]),e.push(["stroke-width",t.width]),e.push(["stroke-linecap",this.renderLinecap(t)]),e.push(["stroke-linejoin",t.lineJoin]),w(t.opacity)&&e.push(["stroke-opacity",t.opacity]),w(t.dashType)&&e.push(["stroke-dasharray",this.renderDashType(t)])):e.push(["stroke",Ai]),e},e.prototype.renderStroke=function(){return Wt(this.mapStroke(this.srcElement.options.stroke))},e.prototype.renderDashType=function(t){var e=t.dashType,n=t.width;if(void 0===n&&(n=1),e&&e!==Ji){for(var r=Xi[e.toLowerCase()],o=[],i=0;i<r.length;i++)o.push(r[i]*n);return o.join(" ")}},e.prototype.renderLinecap=function(t){var e=t.dashType,n=t.lineCap;return e&&"solid"!==e?Zi:n},e.prototype.mapFill=function(t){var e=[];return t&&"Gradient"===t.nodeType||(t&&!M(t.color)?(e.push(["fill",t.color]),w(t.opacity)&&e.push(["fill-opacity",t.opacity])):e.push(["fill",Ai])),e},e.prototype.renderFill=function(){return Wt(this.mapFill(this.srcElement.options.fill))},e.prototype.template=function(){return"<path "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" "+qt("d",this.renderData())+this.renderStroke()+this.renderFill()+this.renderDefinitions()+this.renderTransform()+"></path>"},e}(Ni);Ei.Path=es;var ns=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderData=function(){return this.printPath(this.srcElement.toPath())},e}(es);Ei.Arc=ns;var rs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){var t=this.center();this.attr("cx",t.x),this.attr("cy",t.y),this.attr("r",this.radius()),this.invalidate()},e.prototype.center=function(){return this.srcElement.geometry().center},e.prototype.radius=function(){return this.srcElement.geometry().radius},e.prototype.template=function(){return"<circle "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+"cx='"+this.center().x+"' cy='"+this.center().y+"' r='"+this.radius()+"'"+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+this.renderTransform()+" ></circle>"},e}(es);Ei.Circle=rs;var os=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){var t=this.srcElement.geometry();this.attr("x",t.origin.x),this.attr("y",t.origin.y),this.attr("width",t.size.width),this.attr("height",t.size.height),this.invalidate()},e.prototype.size=function(){return this.srcElement.geometry().size},e.prototype.origin=function(){return this.srcElement.geometry().origin},e.prototype.template=function(){return"<rect "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" x='"+this.origin().x+"' y='"+this.origin().y+"' width='"+this.size().width+"' height='"+this.size().height+"' "+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+" "+this.renderTransform()+" />"},e}(es);Ei.Rect=os;var is=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){this.allAttr(this.mapPosition()),this.invalidate()},e.prototype.optionsChange=function(e){"src"===e.field&&this.allAttr(this.mapSource()),t.prototype.optionsChange.call(this,e)},e.prototype.mapPosition=function(){var t=this.srcElement.rect(),e=t.topLeft();return[["x",e.x],["y",e.y],["width",t.width()+"px"],["height",t.height()+"px"]]},e.prototype.renderPosition=function(){return Wt(this.mapPosition())},e.prototype.mapSource=function(t){var e=this.srcElement.src();return t&&(e=o(e)),[["xlink:href",e]]},e.prototype.renderSource=function(){return Wt(this.mapSource(!0))},e.prototype.template=function(){return"<image preserveAspectRatio='none' "+this.renderId()+" "+this.renderStyle()+" "+this.renderTransform()+" "+this.renderOpacity()+this.renderPosition()+" "+this.renderSource()+" "+this.renderDefinitions()+"></image>"},e}(es);Ei.Image=is;var ss=/&(?:[a-zA-Z]+|#\d+);/g;"undefined"!=typeof document&&(Jt._element=document.createElement("span"));var as=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){var t=this.pos();this.attr("x",t.x),this.attr("y",t.y),this.invalidate()},e.prototype.optionsChange=function(e){"font"===e.field?(this.attr("style",Gt(this.mapStyle())),this.geometryChange()):"content"===e.field&&t.prototype.content.call(this,this.srcElement.content()),t.prototype.optionsChange.call(this,e)},e.prototype.mapStyle=function(e){var n=t.prototype.mapStyle.call(this,e),r=this.srcElement.options.font;return e&&(r=o(r)),n.push(["font",r],["white-space","pre"]),n},e.prototype.pos=function t(){var t=this.srcElement.position(),e=this.srcElement.measure();return t.clone().setY(t.y+e.baseline)},e.prototype.renderContent=function(){var t=this.srcElement.content();return t=Jt(t),t=o(t),H(t)},e.prototype.renderTextAnchor=function(){var t;return!(this.options||{}).rtl||qr.browser.msie||qr.browser.edge||(t="end"),qt("text-anchor",t)},e.prototype.template=function(){return"<text "+this.renderId()+" "+this.renderTextAnchor()+" "+this.renderStyle()+" "+this.renderOpacity()+"x='"+this.pos().x+"' y='"+this.pos().y+"' "+this.renderStroke()+" "+this.renderTransform()+" "+this.renderDefinitions()+this.renderFill()+">"+this.renderContent()+"</text>"},e}(es);Ei.Text=as;var ls=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderData=function(){var t=this,e=this.srcElement.paths;if(e.length>0){for(var n=[],r=0;r<e.length;r++)n.push(t.printPath(e[r]));return n.join(" ")}},e}(es);Ei.MultiPath=ls;var cs=Object.freeze({Circle:Mo,Arc:Fo,Rect:ko,Point:_o,Segment:Go,Matrix:wo,Size:xo,toMatrix:X,Transformation:So,transform:J}),us=Object.freeze({Surface:$i,RootNode:Wi,Node:Ni,GroupNode:Yi,ArcNode:ns,CircleNode:rs,RectNode:os,ImageNode:is,TextNode:as,PathNode:es,MultiPathNode:ls,DefinitionNode:qi,ClipNode:Ki,GradientStopNode:Bi,LinearGradientNode:Hi,RadialGradientNode:Ui,exportGroup:Zt}),ps={},hs=function(t){function e(e){t.call(this,e),e&&this.initClip()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initClip=function(){var t=this.srcElement.clip();t&&(this.clip=t,t.addObserver(this))},e.prototype.clear=function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),t.prototype.clear.call(this)},e.prototype.clearClip=function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)},e.prototype.setClip=function(t){this.clip&&(t.beginPath(),Qt(t,this.clip),t.clip())},e.prototype.optionsChange=function(e){"clip"===e.field&&(this.clearClip(),this.initClip()),t.prototype.optionsChange.call(this,e)},e.prototype.setTransform=function(t){if(this.srcElement){var e=this.srcElement.transform();e&&t.transform.apply(t,e.matrix().toArray(6))}},e.prototype.loadElements=function(t,e,n){for(var r=this,o=0;o<t.length;o++){var i=t[o],s=i.children,a=new ps[i.nodeType](i,n);s&&s.length>0&&a.load(s,e,n),w(e)?r.insertAt(a,e):r.append(a)}},e.prototype.load=function(t,e,n){this.loadElements(t,e,n),this.invalidate()},e.prototype.setOpacity=function(t){if(this.srcElement){var e=this.srcElement.opacity();w(e)&&this.globalAlpha(t,e)}},e.prototype.globalAlpha=function(t,e){var n=e;n&&t.globalAlpha&&(n*=t.globalAlpha),t.globalAlpha=n},e.prototype.visible=function(){var t=this.srcElement;return!t||t&&t.options.visible!==!1},e}(Ti),fs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderTo=function(t){if(this.visible()){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t);for(var e=this.childNodes,n=0;n<e.length;n++){var r=e[n];r.visible()&&r.renderTo(t)}t.restore()}},e}(hs);ci.extend(fs.prototype,"childNodes"),ps.Group=fs;var ds=1e3/60,vs=function(t){function e(e,n){t.call(this),this.canvas=e,this.size=n,this.ctx=e.getContext("2d");var o=this._invalidate.bind(this);this.invalidate=f(function(){r(o)},ds)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){t.prototype.destroy.call(this),this.canvas=null,this.ctx=null},e.prototype.load=function(t,e,n){this.loadElements(t,e,n),this._invalidate()},e.prototype._rescale=function(){var t=this,e=t.canvas,n=t.size,r=1;"number"==typeof window.devicePixelRatio&&(r=window.devicePixelRatio),e.width=n.width*r,e.height=n.height*r,this.ctx.scale(r,r)},e.prototype._invalidate=function(){this.ctx&&(this._rescale(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx))},e}(fs);ci.extend(vs.prototype,"childNodes");var ys=function(t){function e(){t.call(this),this.shapes=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._add=function(t,e){this.shapes.push({bbox:e,shape:t}),t._quadNode=this},e.prototype.pointShapes=function(t){for(var e=this.shapes,n=e.length,r=[],o=0;o<n;o++)e[o].bbox.containsPoint(t)&&r.push(e[o].shape);return r},e.prototype.insert=function(t,e){this._add(t,e)},e.prototype.remove=function(t){for(var e=this.shapes,n=e.length,r=0;r<n;r++)if(e[r].shape===t){e.splice(r,1);break}},e}(Lr),gs=function(t){function e(e){t.call(this),this.children=[],this.rect=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.inBounds=function t(e){var n=this.rect,r=n.bottomRight(),o=e.bottomRight(),t=n.origin.x<=e.origin.x&&n.origin.y<=e.origin.y&&o.x<=r.x&&o.y<=r.y;return t},e.prototype.pointShapes=function(e){for(var n=this.children,r=n.length,o=t.prototype.pointShapes.call(this,e),i=0;i<r;i++)g(o,n[i].pointShapes(e));return o},e.prototype.insert=function(t,e){var n=this.children,r=!1;if(this.inBounds(e)){if(this.shapes.length<4)this._add(t,e);else{n.length||this._initChildren();for(var o=0;o<n.length;o++)if(n[o].insert(t,e)){r=!0;break}r||this._add(t,e)}r=!0}return r},e.prototype._initChildren=function(){var t=this,n=t.rect,r=t.children,o=n.center(),i=n.width()/2,s=n.height()/2;r.push(new e(new ko([n.origin.x,n.origin.y],[i,s])),new e(new ko([o.x,n.origin.y],[i,s])),new e(new ko([n.origin.x,o.y],[i,s])),new e(new ko([o.x,o.y],[i,s])))},e}(ys),ms=3e3,bs=1e4,ws=75,_s=function(t){function e(){t.call(this),this.initRoots()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initRoots=function(){this.rootMap={},this.root=new ys,this.rootElements=[]},e.prototype.clear=function(){for(var t=this,e=this.rootElements,n=0;n<e.length;n++)t.remove(e[n]);this.initRoots()},e.prototype.pointShape=function(t){var e=(this.rootMap[Math.floor(t.x/ms)]||{})[Math.floor(t.y/ms)],n=this.root.pointShapes(t);e&&(n=n.concat(e.pointShapes(t))),this.assignZindex(n),n.sort(te);for(var r=0;r<n.length;r++)if(n[r].containsPoint(t))return n[r]},e.prototype.assignZindex=function(t){for(var e=this,n=0;n<t.length;n++){for(var r=t[n],o=0,i=Math.pow(bs,ws),s=[];r;)s.push(r),r=r.parent;for(;s.length;)r=s.pop(),o+=((r.parent?r.parent.children:e.rootElements).indexOf(r)+1)*i,i/=bs;t[n]._zIndex=o}},e.prototype.optionsChange=function(t){"transform"!==t.field&&"stroke.width"!==t.field||this.bboxChange(t.element)},e.prototype.geometryChange=function(t){this.bboxChange(t.element)},e.prototype.bboxChange=function(t){var e=this;if("Group"===t.nodeType)for(var n=0;n<t.children.length;n++)e.bboxChange(t.children[n]);else t._quadNode&&t._quadNode.remove(t),this._insertShape(t)},e.prototype.add=function(t){var e=Array.isArray(t)?t.slice(0):[t];g(this.rootElements,e),this._insert(e)},e.prototype.childrenChange=function(t){var e=this;if("remove"===t.action)for(var n=0;n<t.items.length;n++)e.remove(t.items[n]);else this._insert(Array.prototype.slice.call(t.items,0))},e.prototype._insert=function(t){for(var e,n=this;t.length>0;)e=t.pop(),e.addObserver(n),"Group"===e.nodeType?g(t,e.children):n._insertShape(e)},e.prototype._insertShape=function(t){var e=t.bbox();if(e){var n=this.getSectors(e),r=n[0][0],o=n[1][0];if(this.inRoot(n))this.root.insert(t,e);else{var i=this.rootMap;i[r]||(i[r]={}),i[r][o]||(i[r][o]=new gs(new ko([r*ms,o*ms],[ms,ms]))),i[r][o].insert(t,e)}}},e.prototype.remove=function(t){var e=this;if(t.removeObserver(this),"Group"===t.nodeType)for(var n=t.children,r=0;r<n.length;r++)e.remove(n[r]);else t._quadNode&&(t._quadNode.remove(t),delete t._quadNode)},e.prototype.inRoot=function(t){return t[0].length>1||t[1].length>1},e.prototype.getSectors=function(t){for(var e=t.bottomRight(),n=Math.floor(e.x/ms),r=Math.floor(e.y/ms),o=[[],[]],i=Math.floor(t.origin.x/ms);i<=n;i++)o[0].push(i);for(var s=Math.floor(t.origin.y/ms);s<=r;s++)o[1].push(s);return o},e}(Lr),xs=function(t){t.bind("mouseenter",this._mouseenter.bind(this)),t.bind("mouseleave",this._mouseleave.bind(this)),this.element=t.element};xs.prototype.clear=function(){this._resetCursor()},xs.prototype.destroy=function(){this._resetCursor(),delete this.element},xs.prototype._mouseenter=function(t){var e=this._shapeCursor(t);e?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(e)):this._resetCursor()},xs.prototype._mouseleave=function(){this._resetCursor()},xs.prototype._shapeCursor=function(t){for(var e=t.element;e&&!w(e.options.cursor);)e=e.parent;if(e)return e.options.cursor},xs.prototype._getCursor=function(){if(this.element)return this.element.style.cursor},xs.prototype._setCursor=function(t){this.element&&(this.element.style.cursor=t,this._current=t)},xs.prototype._resetCursor=function(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)};var ks=function(t){function e(e,n){t.call(this,e,n),this.element.innerHTML=this._template(this);var r=this.element.firstElementChild,o=B(e);r.width=o.width,r.height=o.height,this._rootElement=r,this._root=new vs(r,o),this._mouseTrackHandler=this._trackMouse.bind(this),z(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){t.prototype.destroy.call(this),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),V(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})},e.prototype.draw=function(e){t.prototype.draw.call(this,e),this._root.load([e],void 0,this.options.cors),this._searchTree&&this._searchTree.add([e])},e.prototype.clear=function(){t.prototype.clear.call(this),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()},e.prototype.eventTarget=function(t){if(this._searchTree){var e=this._surfacePoint(t),n=this._searchTree.pointShape(e);return n}},e.prototype.image=function(){var t=this,e=t._root,n=t._rootElement,r=[];e.traverse(function(t){t.loading&&r.push(t.loading)});var o=b(),i=function(){e._invalidate();try{var t=n.toDataURL();o.resolve(t)}catch(t){o.reject(t)}};return A(r).then(i,i),o},e.prototype.suspendTracking=function(){t.prototype.suspendTracking.call(this),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)},e.prototype.resumeTracking=function(){if(t.prototype.resumeTracking.call(this),!this._searchTree){this._searchTree=new _s;for(var e=this._root.childNodes,n=[],r=0;r<e.length;r++)n.push(e[r].srcElement);this._searchTree.add(n)}},e.prototype._resize=function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()},e.prototype._template=function(){return"<canvas style='width: 100%; height: 100%;'></canvas>"},e.prototype._enableTracking=function(){this._searchTree=new _s,this._cursor=new xs(this),t.prototype._enableTracking.call(this)},e.prototype._trackMouse=function(t){if(!this._suspendedTracking){var e=this.eventTarget(t);if("click"!==t.type){var n=this._currentShape;n&&n!==e&&this.trigger("mouseleave",{element:n,originalEvent:t,type:"mouseleave"}),e&&n!==e&&this.trigger("mouseenter",{element:e,originalEvent:t,type:"mouseenter"}),this.trigger("mousemove",{element:e,originalEvent:t,type:"mousemove"}),this._currentShape=e}else e&&this.trigger("click",{element:e,originalEvent:t,type:"click"})}},e}(Mi);ks.prototype.type="canvas","undefined"!=typeof document&&document.createElement("canvas").getContext&&(Mi.support.canvas=!0,Oi.current.register("canvas",ks,20));var Ss=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderTo=function(t){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),this.renderPoints(t,this.srcElement),this.setLineDash(t),this.setLineCap(t),this.setLineJoin(t),this.setFill(t),
this.setStroke(t),t.restore()},e.prototype.setFill=function(t){var e=this.srcElement.options.fill,n=!1;return e&&("Gradient"===e.nodeType?(this.setGradientFill(t,e),n=!0):M(e.color)||(t.fillStyle=e.color,t.save(),this.globalAlpha(t,e.opacity),t.fill(),t.restore(),n=!0)),n},e.prototype.setGradientFill=function(t,e){var n,r=this.srcElement.rawBBox();if(e instanceof bi){var o=e.start(),i=e.end();n=t.createLinearGradient(o.x,o.y,i.x,i.y)}else if(e instanceof wi){var s=e.center();n=t.createRadialGradient(s.x,s.y,0,s.x,s.y,e.radius())}ee(n,e.stops),t.save(),e.userSpace()||t.transform(r.width(),0,0,r.height(),r.origin.x,r.origin.y),t.fillStyle=n,t.fill(),t.restore()},e.prototype.setStroke=function(t){var e=this.srcElement.options.stroke;if(e&&!M(e.color)&&e.width>0)return t.strokeStyle=e.color,t.lineWidth=I(e.width,1),t.save(),this.globalAlpha(t,e.opacity),t.stroke(),t.restore(),!0},e.prototype.dashType=function(){var t=this.srcElement.options.stroke;if(t&&t.dashType)return t.dashType.toLowerCase()},e.prototype.setLineDash=function(t){var e=this.dashType();if(e&&e!==Ji){var n=Xi[e];t.setLineDash?t.setLineDash(n):(t.mozDash=n,t.webkitLineDash=n)}},e.prototype.setLineCap=function(t){var e=this.dashType(),n=this.srcElement.options.stroke;e&&e!==Ji?t.lineCap=Zi:n&&n.lineCap&&(t.lineCap=n.lineCap)},e.prototype.setLineJoin=function(t){var e=this.srcElement.options.stroke;e&&e.lineJoin&&(t.lineJoin=e.lineJoin)},e.prototype.renderPoints=function(t,e){Qt(t,e)},e}(hs);ps.Path=Ss;var Os=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderPoints=function(t){var e=this.srcElement.toPath();Qt(t,e)},e}(Ss);ps.Arc=Os;var Cs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderPoints=function(t){var e=this.srcElement.geometry(),n=e.center,r=e.radius;t.arc(n.x,n.y,r,0,2*Math.PI)},e}(Ss);ps.Circle=Cs;var Ms=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderPoints=function(t){var e=this.srcElement.geometry(),n=e.origin,r=e.size;t.rect(n.x,n.y,r.width,r.height)},e}(Ss);ps.Rect=Ms;var Ts=function(t){function e(e,n){t.call(this,e),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=b();var r=this.img=new Image;n&&!/^data:/i.test(e.src())&&(r.crossOrigin=n),r.src=e.src(),r.complete?this.onLoad():(r.onload=this.onLoad,r.onerror=this.onError)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderTo=function(t){"resolved"===this.loading.state()&&(t.save(),this.setTransform(t),this.setClip(t),this.drawImage(t),t.restore())},e.prototype.optionsChange=function(e){"src"===e.field?(this.loading=b(),this.img.src=this.srcElement.src()):t.prototype.optionsChange.call(this,e)},e.prototype.onLoad=function(){this.loading.resolve(),this.invalidate()},e.prototype.onError=function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},e.prototype.drawImage=function(t){var e=this.srcElement.rect(),n=e.topLeft();t.drawImage(this.img,n.x,n.y,e.width(),e.height())},e}(Ss);ps.Image=Ts;var Es=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderTo=function(t){var e=this.srcElement,n=e.position(),r=e.measure();t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),t.font=e.options.font,t.textAlign="left",this.setFill(t)&&t.fillText(e.content(),n.x,n.y+r.baseline),this.setStroke(t)&&(this.setLineDash(t),t.strokeText(e.content(),n.x,n.y+r.baseline)),t.restore()},e}(Ss);ps.Text=Es;var Ps=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderPoints=function(t){for(var e=this.srcElement.paths,n=0;n<e.length;n++)Qt(t,e[n])},e}(Ss);ps.MultiPath=Ps;var As=Object.freeze({Surface:ks,RootNode:vs,Node:hs,GroupNode:fs,ArcNode:Os,CircleNode:Cs,RectNode:Ms,ImageNode:Ts,TextNode:Es,PathNode:Ss,MultiPathNode:Ps}),js=Object.freeze({svg:us,canvas:As,util:go,PathParser:ei,Surface:Mi,BaseNode:Ti,SurfaceFactory:Oi,OptionsStore:bo,exportImage:ne,exportSVG:re,QuadNode:gs,ShapesQuadTree:_s,ObserversMixin:Ir,Element:Oo,Circle:Do,Arc:oi,Path:ni,MultiPath:$o,Text:ai,Image:li,Group:ui,Layout:di,Rect:vi,align:Et,vAlign:Pt,stack:Dt,vStack:Rt,wrap:Ft,vWrap:Lt,fit:Nt,LinearGradient:bi,RadialGradient:wi,GradientStop:gi,Gradient:mi,Animation:Si,AnimationFactory:xi}),Ds="undefined"!=typeof Uint8Array&&qr.browser&&(!qr.browser.msie||qr.browser.version>9),Rs=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(e){for(var n=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=0,o=n.length,i=[];r<o;){var s=t.indexOf(n.charAt(r++)),a=t.indexOf(n.charAt(r++)),l=t.indexOf(n.charAt(r++)),c=t.indexOf(n.charAt(r++)),u=s<<2|a>>>4,p=(15&a)<<4|l>>>2,h=(3&l)<<6|c;i.push(u),64!=l&&i.push(p),64!=c&&i.push(h)}return i},encode:function(e){for(var n=0,r=e.length,o="";n<r;){var i=e[n++],s=e[n++],a=e[n++],l=i>>>2,c=(3&i)<<4|s>>>4,u=(15&s)<<2|a>>>6,p=63&a;n-r==2?u=p=64:n-r==1&&(p=64),o+=t.charAt(l)+t.charAt(c)+t.charAt(u)+t.charAt(p)}return o}}}();he.prototype={readTable:function(t,e){var n=this.tables[t];if(!n)throw new Error("Table "+t+" not found in directory");return this[t]=n.table=new e(this,n)},render:function(t){var e=this,n=Object.keys(t).length,r=Math.pow(2,Math.floor(Math.log(n)/Math.LN2)),o=16*r,i=Math.floor(Math.log(r)/Math.LN2),s=16*n-o,a=oe();a.writeLong(this.scalerType),a.writeShort(n),a.writeShort(o),a.writeShort(i),a.writeShort(s);var l=16*n,c=a.offset()+l,u=null,p=oe();for(var h in t)if(ue(t,h)){var f=t[h];for(a.writeString(h),a.writeLong(e.checksum(f)),a.writeLong(c),a.writeLong(f.length),p.write(f),"head"==h&&(u=c),c+=f.length;c%4;)p.writeByte(0),c++}a.write(p.get());var d=this.checksum(a.get()),v=2981146554-d;return a.offset(u+8),a.writeLong(v),a.get()},checksum:function(t){t=oe(t);for(var e=0;!t.eof();)e+=t.readLong();return 4294967295&e}};var Is=fe({parse:function(t){t.offset(this.offset),this.version=t.readLong(),this.revision=t.readLong(),this.checkSumAdjustment=t.readLong(),this.magicNumber=t.readLong(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.read(8),this.modified=t.read(8),this.xMin=t.readShort_(),this.yMin=t.readShort_(),this.xMax=t.readShort_(),this.yMax=t.readShort_(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort_(),this.indexToLocFormat=t.readShort_(),this.glyphDataFormat=t.readShort_()},render:function(t){var e=oe();return e.writeLong(this.version),e.writeLong(this.revision),e.writeLong(0),e.writeLong(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.write(this.created),e.write(this.modified),e.writeShort_(this.xMin),e.writeShort_(this.yMin),e.writeShort_(this.xMax),e.writeShort_(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort_(this.fontDirectionHint),e.writeShort_(t),e.writeShort_(this.glyphDataFormat),e.get()}}),zs=fe({parse:function(t){t.offset(this.offset);var e=this.file.head.indexToLocFormat;0===e?this.offsets=t.times(this.length/2,function(){return 2*t.readShort()}):this.offsets=t.times(this.length/4,t.readLong)},offsetOf:function(t){return this.offsets[t]},lengthOf:function(t){return this.offsets[t+1]-this.offsets[t]},render:function(t){for(var e=oe(),n=t[t.length-1]>65535,r=0;r<t.length;++r)n?e.writeLong(t[r]):e.writeShort(t[r]/2);return{format:n?1:0,table:e.get()}}}),Fs=fe({parse:function(t){t.offset(this.offset),this.version=t.readLong(),this.ascent=t.readShort_(),this.descent=t.readShort_(),this.lineGap=t.readShort_(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort_(),this.minRightSideBearing=t.readShort_(),this.xMaxExtent=t.readShort_(),this.caretSlopeRise=t.readShort_(),this.caretSlopeRun=t.readShort_(),this.caretOffset=t.readShort_(),t.skip(8),this.metricDataFormat=t.readShort_(),this.numOfLongHorMetrics=t.readShort()},render:function(t){var e=oe();return e.writeLong(this.version),e.writeShort_(this.ascent),e.writeShort_(this.descent),e.writeShort_(this.lineGap),e.writeShort(this.advanceWidthMax),e.writeShort_(this.minLeftSideBearing),e.writeShort_(this.minRightSideBearing),e.writeShort_(this.xMaxExtent),e.writeShort_(this.caretSlopeRise),e.writeShort_(this.caretSlopeRun),e.writeShort_(this.caretOffset),e.write([0,0,0,0,0,0,0,0]),e.writeShort_(this.metricDataFormat),e.writeShort(t.length),e.get()}}),Ls=fe({parse:function(t){t.offset(this.offset),this.version=t.readLong(),this.numGlyphs=t.readShort(),this.maxPoints=t.readShort(),this.maxContours=t.readShort(),this.maxComponentPoints=t.readShort(),this.maxComponentContours=t.readShort(),this.maxZones=t.readShort(),this.maxTwilightPoints=t.readShort(),this.maxStorage=t.readShort(),this.maxFunctionDefs=t.readShort(),this.maxInstructionDefs=t.readShort(),this.maxStackElements=t.readShort(),this.maxSizeOfInstructions=t.readShort(),this.maxComponentElements=t.readShort(),this.maxComponentDepth=t.readShort()},render:function(t){var e=oe();return e.writeLong(this.version),e.writeShort(t.length),e.writeShort(this.maxPoints),e.writeShort(this.maxContours),e.writeShort(this.maxComponentPoints),e.writeShort(this.maxComponentContours),e.writeShort(this.maxZones),e.writeShort(this.maxTwilightPoints),e.writeShort(this.maxStorage),e.writeShort(this.maxFunctionDefs),e.writeShort(this.maxInstructionDefs),e.writeShort(this.maxStackElements),e.writeShort(this.maxSizeOfInstructions),e.writeShort(this.maxComponentElements),e.writeShort(this.maxComponentDepth),e.get()}}),Ns=fe({parse:function(t){t.offset(this.offset);var e=this.file,n=e.hhea;this.metrics=t.times(n.numOfLongHorMetrics,function(){return{advance:t.readShort(),lsb:t.readShort_()}});var r=e.maxp.numGlyphs-e.hhea.numOfLongHorMetrics;this.leftSideBearings=t.times(r,t.readShort_)},forGlyph:function(t){var e=this.metrics,n=e.length;return t<n?e[t]:{advance:e[n-1].advance,lsb:this.leftSideBearings[t-n]}},render:function(t){for(var e=this,n=oe(),r=0;r<t.length;++r){var o=e.forGlyph(t[r]);n.writeShort(o.advance),n.writeShort_(o.lsb)}return n.get()}}),Bs=function(){function t(t){this.raw=t}function e(t){this.raw=t;for(var e=this.glyphIds=[],a=this.idOffsets=[];;){var l=t.readShort();if(a.push(t.offset()),e.push(t.readShort()),!(l&o))break;t.skip(l&n?4:2),l&s?t.skip(8):l&i?t.skip(4):l&r&&t.skip(2)}}t.prototype={compound:!1,render:function(){return this.raw.get()}};var n=1,r=8,o=32,i=64,s=128;return e.prototype={compound:!0,render:function(t){for(var e=this,n=oe(this.raw.get()),r=0;r<this.glyphIds.length;++r){var o=e.glyphIds[r];n.offset(e.idOffsets[r]),n.writeShort(t[o])}return n.get()}},fe({parse:function(){this.cache={}},glyphFor:function(n){var r=this.cache;if(ue(r,n))return r[n];var o=this.file.loca,i=o.lengthOf(n);if(0===i)return r[n]=null;var s=this.rawData,a=this.offset+o.offsetOf(n),l=oe(s.slice(a,i)),c=l.readShort_(),u=l.readShort_(),p=l.readShort_(),h=l.readShort_(),f=l.readShort_(),d=r[n]=c==-1?new e(l):new t(l);return d.numberOfContours=c,d.xMin=u,d.yMin=p,d.xMax=h,d.yMax=f,d},render:function(t,e,n){for(var r=oe(),o=[],i=0;i<e.length;++i){var s=e[i],a=t[s];o.push(r.offset()),a&&r.write(a.render(n))}return o.push(r.offset()),{table:r.get(),offsets:o}}})}(),Vs=function(){function t(t,e){this.text=t,this.length=t.length,this.platformID=e.platformID,this.platformSpecificID=e.platformSpecificID,this.languageID=e.languageID,this.nameID=e.nameID}return fe({parse:function(e){e.offset(this.offset),e.readShort();for(var n=e.readShort(),r=this.offset+e.readShort(),o=e.times(n,function(){return{platformID:e.readShort(),platformSpecificID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:e.readShort()+r}}),i=this.strings={},s=0;s<o.length;++s){var a=o[s];e.offset(a.offset);var l=e.readString(a.length);i[a.nameID]||(i[a.nameID]=[]),i[a.nameID].push(new t(l,a))}this.postscriptEntry=i[6][0],this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(e){var n=this,r=this.strings,o=0;for(var i in r)ue(r,i)&&(o+=r[i].length);var s=oe(),a=oe();s.writeShort(0),s.writeShort(o),s.writeShort(6+12*o);for(i in r)if(ue(r,i))for(var l=6==i?[new t(e,n.postscriptEntry)]:r[i],c=0;c<l.length;++c){var u=l[c];s.writeShort(u.platformID),s.writeShort(u.platformSpecificID),s.writeShort(u.languageID),s.writeShort(u.nameID),s.writeShort(u.length),s.writeShort(a.offset()),a.writeString(u.text)}return s.write(a.get()),s.get()}})}(),Hs=function(){var t=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return fe({parse:function(t){var e=this;t.offset(this.offset),this.format=t.readLong(),this.italicAngle=t.readFixed_(),this.underlinePosition=t.readShort_(),this.underlineThickness=t.readShort_(),this.isFixedPitch=t.readLong(),this.minMemType42=t.readLong(),this.maxMemType42=t.readLong(),this.minMemType1=t.readLong(),this.maxMemType1=t.readLong();var n;switch(this.format){case 65536:case 196608:break;case 131072:n=t.readShort(),this.glyphNameIndex=t.times(n,t.readShort),this.names=[];for(var r=this.offset+this.length;t.offset()<r;)e.names.push(t.readString(t.readByte()));break;case 151552:n=t.readShort(),this.offsets=t.read(n);break;case 262144:this.map=t.times(this.file.maxp.numGlyphs,t.readShort)}},glyphFor:function(e){switch(this.format){case 65536:return t[e]||".notdef";case 131072:var n=this.glyphNameIndex[e];return n<t.length?t[n]:this.names[n-t.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[e]||65535}},render:function(e){var n=this;if(196608==this.format)return this.raw();var r=oe(this.rawData.slice(this.offset,32));r.writeLong(131072),r.offset(32);for(var o=[],i=[],s=0;s<e.length;++s){var a=e[s],l=n.glyphFor(a),c=t.indexOf(l);c>=0?o.push(c):(o.push(t.length+i.length),i.push(l))}for(r.writeShort(e.length),s=0;s<o.length;++s)r.writeShort(o[s]);for(s=0;s<i.length;++s)r.writeByte(i[s].length),r.writeString(i[s]);return r.get()}})}(),Us=function(){function t(t,e,n){var r=this;r.platformID=t.readShort(),r.platformSpecificID=t.readShort(),r.offset=e+t.readLong(),t.saveExcursion(function(){var e;switch(t.offset(r.offset),r.format=t.readShort(),r.format){case 0:r.length=t.readShort(),r.language=t.readShort();for(var o=0;o<256;++o)n[o]=t.readByte();break;case 4:r.length=t.readShort(),r.language=t.readShort();var i=t.readShort()/2;t.skip(6);var s=t.times(i,t.readShort);t.skip(2);var a=t.times(i,t.readShort),l=t.times(i,t.readShort_),c=t.times(i,t.readShort),u=(r.length+r.offset-t.offset())/2,p=t.times(u,t.readShort);for(o=0;o<i;++o){var h=a[o],f=s[o];for(e=h;e<=f;++e){var d;if(0===c[o])d=e+l[o];else{var v=c[o]/2-(i-o)+(e-h);d=p[v]||0,0!==d&&(d+=l[o])}n[e]=65535&d}}break;case 6:r.length=t.readShort(),r.language=t.readShort(),e=t.readShort();for(var y=t.readShort();y-- >0;)n[e++]=t.readShort();break;case 12:t.readShort(),r.length=t.readLong(),r.language=t.readLong();for(var g=t.readLong();g-- >0;){e=t.readLong();for(var m=t.readLong(),b=t.readLong();e<=m;)n[e++]=b++}break;default:window.console&&window.console.error("Unhandled CMAP format: "+r.format)}})}function e(t,e){function n(n){return e[t[n]]}for(var r=pe(t),o=[],i=[],s=null,a=null,l=0;l<r.length;++l){var c=r[l],u=n(c),p=u-c;null!=s&&p===a||(s&&i.push(s),o.push(c),a=p),s=c}s&&i.push(s),i.push(65535),o.push(65535);var h=o.length,f=2*h,d=2*Math.pow(2,Math.floor(Math.log(h)/Math.LN2)),v=Math.log(d/2)/Math.LN2,y=f-d,g=[],m=[],b=[];for(l=0;l<h;++l){var w=o[l],_=i[l];if(65535==w){g.push(0),m.push(0);break}var x=n(w);if(w-x>=32768){g.push(0),m.push(2*(b.length+h-l));for(var k=w;k<=_;++k)b.push(n(k))}else g.push(x-w),m.push(0)}var S=oe();return S.writeShort(3),S.writeShort(1),S.writeLong(12),S.writeShort(4),S.writeShort(16+8*h+2*b.length),S.writeShort(0),S.writeShort(f),S.writeShort(d),S.writeShort(v),S.writeShort(y),i.forEach(S.writeShort),S.writeShort(0),o.forEach(S.writeShort),g.forEach(S.writeShort_),m.forEach(S.writeShort),b.forEach(S.writeShort),S.get()}return fe({parse:function(e){var n=this,r=n.offset;e.offset(r),n.codeMap={},n.version=e.readShort();var o=e.readShort();n.tables=e.times(o,function(){return new t(e,r,n.codeMap)})},render:function(t,n){var r=oe();return r.writeShort(0),r.writeShort(1),r.write(e(t,n)),r.get()}})}(),Ks=fe({parse:function(t){t.offset(this.offset),this.version=t.readShort(),this.averageCharWidth=t.readShort_(),this.weightClass=t.readShort(),this.widthClass=t.readShort(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort_(),this.ySubscriptYSize=t.readShort_(),this.ySubscriptXOffset=t.readShort_(),this.ySubscriptYOffset=t.readShort_(),this.ySuperscriptXSize=t.readShort_(),this.ySuperscriptYSize=t.readShort_(),this.ySuperscriptXOffset=t.readShort_(),this.ySuperscriptYOffset=t.readShort_(),this.yStrikeoutSize=t.readShort_(),this.yStrikeoutPosition=t.readShort_(),this.familyClass=t.readShort_(),this.panose=t.times(10,t.readByte),this.charRange=t.times(4,t.readLong),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort_(),this.descent=t.readShort_(),this.lineGap=t.readShort_(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=t.times(2,t.readLong),this.version>1&&(this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()))},render:function(){return this.raw()}}),qs=1e5;ve.prototype={use:function(t){var e=this;if("string"==typeof t)return ie(t).reduce(function(t,n){return t+String.fromCharCode(e.use(n))},"");var n=e.unicodes[t];if(!n){n=e.next++,e.subset[n]=t,e.unicodes[t]=n;var r=e.font.cmap.codeMap[t];if(r&&(e.ncid2ogid[n]=r,null==e.ogid2ngid[r])){var o=e.nextGid++;e.ogid2ngid[r]=o,e.ngid2ogid[o]=r}}return n},encodeText:function(t){return this.use(t)},glyphIds:function(){return pe(this.ogid2ngid)},glyphsFor:function(t,e){var n=this;e||(e={});for(var r=0;r<t.length;++r){var o=t[r];if(!e[o]){var i=e[o]=n.font.glyf.glyphFor(o);i&&i.compound&&n.glyphsFor(i.glyphIds,e)}}return e},render:function(){var t=this,e=this.glyphsFor(this.glyphIds());for(var n in e)if(ue(e,n)&&(n=parseInt(n,10),null==t.ogid2ngid[n])){var r=t.nextGid++;t.ogid2ngid[n]=r,t.ngid2ogid[r]=n}var o=pe(this.ngid2ogid),i=o.map(function(t){return this.ngid2ogid[t]},this),s=this.font,a=s.glyf.render(e,i,this.ogid2ngid),l=s.loca.render(a.offsets);this.lastChar=this.next-1;var c={cmap:Us.render(this.ncid2ogid,this.ogid2ngid),glyf:a.table,loca:l.table,hmtx:s.hmtx.render(i),hhea:s.hhea.render(i),maxp:s.maxp.render(i),post:s.post.render(i),name:s.name.render(this.psName),head:s.head.render(l.format),"OS/2":s.os2.render()};return this.font.directory.render(c)},cidToGidMap:function(){for(var t=this,e=oe(),n=0,r=this.firstChar;r<this.next;++r){for(;n<r;)e.writeShort(0),n++;var o=t.ncid2ogid[r];if(o){var i=t.ogid2ngid[o];e.writeShort(i)}else e.writeShort(0);n++}return e.get()}},ye.prototype={parse:function(){var t=this.directory=new he(this.contents);this.head=t.readTable("head",Is),this.loca=t.readTable("loca",zs),this.hhea=t.readTable("hhea",Fs),this.maxp=t.readTable("maxp",Ls),this.hmtx=t.readTable("hmtx",Ns),this.glyf=t.readTable("glyf",Bs),this.name=t.readTable("name",Vs),this.post=t.readTable("post",Hs),this.cmap=t.readTable("cmap",Us),this.os2=t.readTable("OS/2",Ks),this.psName=this.name.postscriptName,this.ascent=this.os2.ascent||this.hhea.ascent,this.descent=this.os2.descent||this.hhea.descent,this.lineGap=this.os2.lineGap||this.hhea.lineGap,this.scale=1e3/this.head.unitsPerEm},widthOfGlyph:function(t){return this.hmtx.forGlyph(t).advance*this.scale},makeSubset:function(){return new ve(this)}};var Ws=Rr.deflate,Gs=qr.browser,$s="\n",Ys=0,Xs={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]},Js={"Times-Roman":!0,"Times-Bold":!0,"Times-Italic":!0,"Times-BoldItalic":!0,Helvetica:!0,"Helvetica-Bold":!0,"Helvetica-Oblique":!0,"Helvetica-BoldOblique":!0,Courier:!0,"Courier-Bold":!0,"Courier-Oblique":!0,"Courier-BoldOblique":!0,Symbol:!0,ZapfDingbats:!0},Zs={},Qs=Ce(ke),ta=function(t,e){function n(){0===--o&&e()}var r=Object.keys(t),o=r.length;return 0===o?e():void r.forEach(function(e){Oe(e,t[e],n)})};_e.prototype={loadFonts:Qs,loadImages:ta,getFont:function(t){var e=this.FONTS[t];if(!e){if(e=Js[t],!e)throw new Error("Font "+t+" has not been loaded");e=e===!0?this.attach(new pa(t)):this.attach(new ha(this,e)),this.FONTS[t]=e}return e},getImage:function(t){var e=this.IMAGES[t];if(!e){if(e=Zs[t],!e)throw new Error("Image "+t+" has not been loaded");if("ERROR"===e)return null;e=this.IMAGES[t]=this.attach(e.asStream(this))}return e},getOpacityGS:function(t,e){var n=parseFloat(t).toFixed(3);t=parseFloat(n),n+=e?"S":"F";var r=this._opacityGSCache||(this._opacityGSCache={}),o=r[n];if(!o){var i={Type:Ne("ExtGState")};e?i.CA=t:i.ca=t,o=this.attach(new sa(i)),o._resourceName=Ne("GS"+ ++Ys),r[n]=o}return o},dict:function(t){return new sa(t)},name:function(t){return Ne(t)},stream:function(t,e){return new aa(e,t)}};var ea=Array.isArray||function(t){return t instanceof Array};Fe.prototype.beforeRender=function(){};var na=Le(function(t){this.value=t},{render:function(t){for(var e="",n=this.value,r=0;r<n.length;++r)e+=String.fromCharCode(255&n.charCodeAt(r));t("(",e.replace(/([\(\)\\])/g,"\\$1"),")")},toString:function(){return this.value}}),ra=Le(function(t){this.value=t},{render:function(t){var e=this;t("<");for(var n=0;n<this.value.length;++n)t(Te(e.value.charCodeAt(n).toString(16),4));t(">")}},na),oa=Le(function(t){this.name=t},{render:function(t){t("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,function(t){return"#"+Te(t.charCodeAt(0).toString(16),2)})},toString:function(){return this.name}}),ia={};oa.get=Ne;var sa=Le(function(t){this.props=t},{render:function(t){var e=this.props,n=!0;t("<<"),t.withIndent(function(){for(var r in e)Ee(e,r)&&!/^_/.test(r)&&(n=!1,t.indent(Ne(r)," ",e[r]))}),n||t.indent(),t(">>")}}),aa=Le(function(t,e,n){if("string"==typeof t){var r=oe();r.write(t),t=r}this.data=t,this.props=e||{},this.compress=n},{render:function(t){var e=this.data.get(),n=this.props;this.compress&&ge()&&(n.Filter?n.Filter instanceof Array||(n.Filter=[n.Filter]):n.Filter=[],n.Filter.unshift(Ne("FlateDecode")),e=Ws(e)),n.Length=e.length,t(new sa(n)," stream",$s),t.writeData(e),t($s,"endstream")}}),la=Le(function(){this.props={Type:Ne("Catalog")}},{setPages:function(t){this.props.Pages=t}},sa),ca=Le(function(){this.props={Type:Ne("Pages"),Kids:[],Count:0}},{addPage:function(t){this.props.Kids.push(t),this.props.Count++}},sa),ua=[192,193,194,195,197,198,199,201,202,203,205,206,207],pa=Le(function(t){this.props={Type:Ne("Font"),Subtype:Ne("Type1"),BaseFont:Ne(t)},this._resourceName=Ne("F"+ ++Ys)},{encodeText:function(t){return new na(String(t))}},sa),ha=Le(function(t,e,n){n=this.props=n||{},n.Type=Ne("Font"),n.Subtype=Ne("Type0"),n.Encoding=Ne("Identity-H"),this._pdf=t,this._font=e,this._sub=e.makeSubset(),this._resourceName=Ne("F"+ ++Ys);var r=e.head;this.name=e.psName;var o=this.scale=e.scale;this.bbox=[r.xMin*o,r.yMin*o,r.xMax*o,r.yMax*o],this.italicAngle=e.post.italicAngle,this.ascent=e.ascent*o,this.descent=e.descent*o,this.lineGap=e.lineGap*o,this.capHeight=e.os2.capHeight||this.ascent,this.xHeight=e.os2.xHeight||0,this.stemV=0,this.familyClass=(e.os2.familyClass||0)>>8,this.isSerif=this.familyClass>=1&&this.familyClass<=7,this.isScript=10==this.familyClass,this.flags=(e.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(0!==this.italicAngle?64:0)|32},{encodeText:function(t){return new ra(this._sub.encodeText(String(t)))},getTextWidth:function(t,e){for(var n=this,r=0,o=this._font.cmap.codeMap,i=0;i<e.length;++i){var s=o[e.charCodeAt(i)];r+=n._font.widthOfGlyph(s||0)}return r*t/1e3},beforeRender:function(){var t=this,e=t._sub,n=e.render(),r=new aa(oe(n),{Length1:n.length},!0),o=t._pdf.attach(new sa({Type:Ne("FontDescriptor"),FontName:Ne(t._sub.psName),FontBBox:t.bbox,Flags:t.flags,StemV:t.stemV,ItalicAngle:t.italicAngle,Ascent:t.ascent,Descent:t.descent,CapHeight:t.capHeight,XHeight:t.xHeight,FontFile2:t._pdf.attach(r)})),i=e.ncid2ogid,s=e.firstChar,a=e.lastChar,l=[];!function e(n,r){if(n<=a){var o=i[n];null==o?e(n+1):(r||l.push(n,r=[]),r.push(t._font.widthOfGlyph(o)),e(n+1,r))}}(s);var c=new sa({Type:Ne("Font"),Subtype:Ne("CIDFontType2"),BaseFont:Ne(t._sub.psName),CIDSystemInfo:new sa({Registry:new na("Adobe"),Ordering:new na("Identity"),Supplement:0}),FontDescriptor:o,FirstChar:s,LastChar:a,DW:Math.round(t._font.widthOfGlyph(0)),W:l,CIDToGIDMap:t._pdf.attach(t._makeCidToGidMap())}),u=t.props;u.BaseFont=Ne(t._sub.psName),u.DescendantFonts=[t._pdf.attach(c)];var p=new fa(s,a,e.subset),h=new aa(me(),null,!0);h.data(p),u.ToUnicode=t._pdf.attach(h)},_makeCidToGidMap:function(){return new aa(oe(this._sub.cidToGidMap()),null,!0)}},sa),fa=Le(function(t,e,n){this.firstChar=t,this.lastChar=e,this.map=n},{render:function(t){t.indent("/CIDInit /ProcSet findresource begin"),t.indent("12 dict begin"),t.indent("begincmap"),t.indent("/CIDSystemInfo <<"),t.indent("  /Registry (Adobe)"),t.indent("  /Ordering (UCS)"),t.indent("  /Supplement 0"),t.indent(">> def"),t.indent("/CMapName /Adobe-Identity-UCS def"),t.indent("/CMapType 2 def"),t.indent("1 begincodespacerange"),t.indent("  <0000><ffff>"),t.indent("endcodespacerange");var e=this;t.indent(e.lastChar-e.firstChar+1," beginbfchar"),t.withIndent(function(){for(var n=e.firstChar;n<=e.lastChar;++n){var r=e.map[n],o=se([r]);t.indent("<",Te(n.toString(16),4),">","<");for(var i=0;i<o.length;++i)t(Te(o.charCodeAt(i).toString(16),4));t(">")}}),t.indent("endbfchar"),t.indent("endcmap"),t.indent("CMapName currentdict /CMap defineresource pop"),t.indent("end"),t.indent("end")}}),da=Le(function(t,e){this._pdf=t,this._rcount=0,this._textMode=!1,this._fontResources={},this._gsResources={},this._xResources={},this._patResources={},this._shResources={},this._opacity=1,this._matrix=[1,0,0,1,0,0],this._annotations=[],this._font=null,this._fontSize=null,this._contextStack=[],e=this.props=e||{},e.Type=Ne("Page"),e.ProcSet=[Ne("PDF"),Ne("Text"),Ne("ImageB"),Ne("ImageC"),Ne("ImageI")],e.Resources=new sa({Font:new sa(this._fontResources),ExtGState:new sa(this._gsResources),XObject:new sa(this._xResources),Pattern:new sa(this._patResources),Shading:new sa(this._shResources)}),e.Annots=this._annotations},{_out:function(){this._content.data.apply(null,arguments)},transform:function(t,e,n,r,o,i){en(arguments)||(this._matrix=tn(arguments,this._matrix),this._out(t," ",e," ",n," ",r," ",o," ",i," cm"),this._out($s))},translate:function(t,e){this.transform(1,0,0,1,t,e)},scale:function(t,e){this.transform(t,0,0,e,0,0)},rotate:function(t){var e=Math.cos(t),n=Math.sin(t);this.transform(e,n,-n,e,0,0)},beginText:function(){this._textMode=!0,this._out("BT",$s)},endText:function(){this._textMode=!1,this._out("ET",$s)},_requireTextMode:function(){if(!this._textMode)throw new Error("Text mode required; call page.beginText() first")},_requireFont:function(){if(!this._font)throw new Error("No font selected; call page.setFont() first")},setFont:function(t,e){this._requireTextMode(),null==t?t=this._font:t instanceof ha||(t=this._pdf.getFont(t)),null==e&&(e=this._fontSize),this._fontResources[t._resourceName]=t,this._font=t,this._fontSize=e,this._out(t._resourceName," ",e," Tf",$s)},setTextLeading:function(t){this._requireTextMode(),this._out(t," TL",$s)},setTextRenderingMode:function(t){this._requireTextMode(),this._out(t," Tr",$s)},showText:function(t,e){if(this._requireFont(),t.length>1&&e&&this._font instanceof ha){var n=this._font.getTextWidth(this._fontSize,t),r=e/n*100;this._out(r," Tz ")}this._out(this._font.encodeText(t)," Tj",$s)},showTextNL:function(t){this._requireFont(),this._out(this._font.encodeText(t)," '",$s)},addLink:function(t,e){var n=this._toPage({x:e.left,y:e.bottom}),r=this._toPage({x:e.right,y:e.top});this._annotations.push(new sa({Type:Ne("Annot"),Subtype:Ne("Link"),Rect:[n.x,n.y,r.x,r.y],Border:[0,0,0],A:new sa({Type:Ne("Action"),S:Ne("URI"),URI:new na(t)})}))},setStrokeColor:function(t,e,n){this._out(t," ",e," ",n," RG",$s)},setOpacity:function(t){this.setFillOpacity(t),this.setStrokeOpacity(t),this._opacity*=t},setStrokeOpacity:function(t){if(t<1){var e=this._pdf.getOpacityGS(this._opacity*t,!0);this._gsResources[e._resourceName]=e,this._out(e._resourceName," gs",$s)}},setFillColor:function(t,e,n){this._out(t," ",e," ",n," rg",$s)},setFillOpacity:function(t){if(t<1){var e=this._pdf.getOpacityGS(this._opacity*t,!1);this._gsResources[e._resourceName]=e,this._out(e._resourceName," gs",$s)}},gradient:function(t,e){this.save(),this.rect(e.left,e.top,e.width,e.height),this.clip(),t.userSpace||this.transform(e.width,0,0,e.height,e.left,e.top);var n,r=$e(this._pdf,t,e),o=r.shading._resourceName;this._shResources[o]=r.shading,r.hasAlpha&&(n=r.opacity._resourceName,this._gsResources[n]=r.opacity,this._out("/"+n+" gs ")),this._out("/"+o+" sh",$s),this.restore()},setDashPattern:function(t,e){this._out(t," ",e," d",$s)},setLineWidth:function(t){this._out(t," w",$s)},setLineCap:function(t){this._out(t," J",$s)},setLineJoin:function(t){
this._out(t," j",$s)},setMitterLimit:function(t){this._out(t," M",$s)},save:function(){this._contextStack.push(this._context()),this._out("q",$s)},restore:function(){this._out("Q",$s),this._context(this._contextStack.pop())},moveTo:function(t,e){this._out(t," ",e," m",$s)},lineTo:function(t,e){this._out(t," ",e," l",$s)},bezier:function(t,e,n,r,o,i){this._out(t," ",e," ",n," ",r," ",o," ",i," c",$s)},bezier1:function(t,e,n,r){this._out(t," ",e," ",n," ",r," y",$s)},bezier2:function(t,e,n,r){this._out(t," ",e," ",n," ",r," v",$s)},close:function(){this._out("h",$s)},rect:function(t,e,n,r){this._out(t," ",e," ",n," ",r," re",$s)},ellipse:function(t,e,n,r){function o(e){return t+e}function i(t){return e+t}var s=.5522847498307936;this.moveTo(o(0),i(r)),this.bezier(o(n*s),i(r),o(n),i(r*s),o(n),i(0)),this.bezier(o(n),i(-r*s),o(n*s),i(-r),o(0),i(-r)),this.bezier(o(-n*s),i(-r),o(-n),i(-r*s),o(-n),i(0)),this.bezier(o(-n),i(r*s),o(-n*s),i(r),o(0),i(r))},circle:function(t,e,n){this.ellipse(t,e,n,n)},stroke:function(){this._out("S",$s)},nop:function(){this._out("n",$s)},clip:function(){this._out("W n",$s)},clipStroke:function(){this._out("W S",$s)},closeStroke:function(){this._out("s",$s)},fill:function(){this._out("f",$s)},fillStroke:function(){this._out("B",$s)},drawImage:function(t){var e=this._pdf.getImage(t);e&&(this._xResources[e._resourceName]=e,this._out(e._resourceName," Do",$s))},comment:function(t){var e=this;t.split(/\r?\n/g).forEach(function(t){e._out("% ",t,$s)})},_context:function(t){return null==t?{opacity:this._opacity,matrix:this._matrix}:(this._opacity=t.opacity,void(this._matrix=t.matrix))},_toPage:function(t){var e=this._matrix,n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],a=e[5];return{x:n*t.x+o*t.y+s,y:r*t.x+i*t.y+a}}},sa),va={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};Ze("Times New Roman","serif"),Ze("Courier New","monospace"),Ze("Arial","sans-serif"),Ze("Helvetica","sans-serif"),Ze("Verdana","sans-serif"),Ze("Tahoma","sans-serif"),Ze("Georgia","sans-serif"),Ze("Monaco","monospace"),Ze("Andale Mono","monospace");var ya={fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7},ga=ya,ma={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]},ba={butt:0,round:1,square:2},wa={miter:0,round:1,bevel:2},_a=Object.freeze({Document:_e,BinaryStream:oe,defineFont:Qe,parseFontDef:Xe,getFontURL:Je,loadFonts:Qs,loadImages:ta,getPaperOptions:we,clearImageCache:Se,TEXT_RENDERING_MODE:ya,exportPDF:Mn,saveAs:sn,toDataURL:rn,toBlob:on,render:nn}),xa=qr.browser||{},ka="KENDO-PSEUDO-ELEMENT",Sa={},Oa={};Oa._root=Oa;var Ca="undefined"!=typeof window,Ma=!!Ca&&(xa.msie||xa.edge),Ta=function(t){function e(e,n,r){t.call(this,e,n.getOrigin(),r),this._pdfRect=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.rect=function(){return this._pdfRect},e.prototype.rawBBox=function(){return this._pdfRect},e}(ai),Ea="undefined"!=typeof Element&&Element.prototype&&function(t){return t.matches?function(t,e){return t.matches(e)}:t.webkitMatchesSelector?function(t,e){return t.webkitMatchesSelector(e)}:t.mozMatchesSelector?function(t,e){return t.mozMatchesSelector(e)}:t.msMatchesSelector?function(t,e){return t.msMatchesSelector(e)}:function(t){return[].indexOf.call(document.querySelectorAll(t),this)!==-1}}(Element.prototype),Pa=function(t){return t?function e(n){var r=n.cloneNode(!1);if(1==n.nodeType){var o,i=t(n),s=t(r),a=i.data();for(o in a)s.data(o,a[o]);for(/^canvas$/i.test(n.tagName)?r.getContext("2d").drawImage(n,0,0):/^(?:input|select|textarea|option)$/i.test(n.tagName)&&(r.removeAttribute("id"),r.removeAttribute("name"),r.value=n.value,r.checked=n.checked,r.selected=n.selected),o=n.firstChild;o;o=o.nextSibling)r.appendChild(e(o))}return r}:function(t){var e=function t(e){var n=e.cloneNode(!1);e._kendoExportVisual&&(n._kendoExportVisual=e._kendoExportVisual);for(var r=e.firstChild;r;r=r.nextSibling)n.appendChild(t(r));return n}(t),n=t.querySelectorAll("canvas");n.length&&Tn(e.querySelectorAll("canvas")).forEach(function(t,e){t.getContext("2d").drawImage(n[e],0,0)});var r=t.querySelectorAll("input, select, textarea, option");return Tn(e.querySelectorAll("input, select, textarea, option")).forEach(function(t,e){t.removeAttribute("id"),t.removeAttribute("name"),t.value=r[e].value,t.checked=r[e].checked,t.selected=r[e].selected}),e}}("undefined"!=typeof window&&window.kendo&&window.kendo.jQuery);Rn.getFontFaces=In,Rn.drawText=function(t){var e=new ui;return Oa._clipbox=!1,Oa._matrix=wo.unit(),Oa._stackingContext={element:t,group:e},Gn(t,Zn(t),e),3==t.firstChild.nodeType?Pr(t,t.firstChild,e):wr(t,e),$n(),e};var Aa=function(){function t(t){function f(){var e=s.exec(t);e&&(t=t.substr(e[1].length))}function d(e){f();var n=e.exec(t);if(n)return t=t.substr(n[1].length),n[1]}function v(){var e,o,i=y(t,!0);if(i){var s=/^#[0-9a-f]+/i.exec(t)||/^rgba?\(.*?\)/i.exec(t)||/^..*?\b/.exec(t);return t=t.substr(s[0].length),i=i.toRGB(),(e=d(r))||(o=d(n)),{color:i,length:e,percent:o}}}function g(e){var r,s,u,p=[],h=!1;if(d(a)){if(r=d(i),"0"==r&&(r="0deg"),r?(r=lr(r),d(c)):(s=d(o),"to"==s?s=d(o):s&&/^-/.test(e)&&(h=!0),u=d(o),d(c)),/-moz-/.test(e)&&null==r&&null==s){var f=d(n),y=d(n);h=!0,"0%"==f?s="left":"100%"==f&&(s="right"),"0%"==y?u="top":"100%"==y&&(u="bottom"),d(c)}for(;t&&!d(l);){var g=v();if(!g)break;p.push(g),d(c)}return{type:"linear",angle:r,to:s&&u?s+" "+u:s?s:u?u:null,stops:p,reverse:h}}}function m(){if(d(a)){var t=d(p);return t=t.replace(/^['"]+|["']+$/g,""),d(l),{type:"url",url:t}}}var b=t;if(zn(h,b))return h[b];var w;return(w=d(e))?w=g(w):(w=d(u))&&(w=m()),h[b]=w||{type:"none"}}var e=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,n=/^([-0-9.]+%)/,r=/^([-0-9.]+px)/,o=/^(left|right|top|bottom|to|center)\W/,i=/^([-0-9.]+(deg|grad|rad|turn)|0)/,s=/^(\s+)/,a=/^(\()/,l=/^(\))/,c=/^(,)/,u=/^(url)\(/,p=/^(.*?)\)/,h={},f={};return function(e){return zn(f,e)?f[e]:f[e]=ja(e).map(t)}}(),ja=function(){var t={};return function(e,n){function r(t){return s=t.exec(e.substr(c))}function o(t){return t.replace(/^\s+|\s+$/g,"")}n||(n=/^\s*,\s*/);var i=e+n;if(zn(t,i))return t[i];for(var s,a=[],l=0,c=0,u=0,p=!1;c<e.length;)!p&&r(/^[\(\[\{]/)?(u++,c++):!p&&r(/^[\)\]\}]/)?(u--,c++):!p&&r(/^[\"\']/)?(p=s[0],c++):"'"==p&&r(/^\\\'/)?c+=2:'"'==p&&r(/^\\\"/)?c+=2:"'"==p&&r(/^\'/)?(p=!1,c++):'"'==p&&r(/^\"/)?(p=!1,c++):r(n)?(!p&&!u&&c>l&&(a.push(o(e.substring(l,c))),l=c+s[0].length),c+=s[0].length):c++;return l<c&&a.push(o(e.substring(l,c))),t[i]=a}}(),Da=function(t){return function(e){var n=t[e];if(!n){var r;(r=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(e))?n=t[e]=r[2]:(r=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(e))&&(n=t[e]=r[2])}return n}}(Object.create(null)),Ra=function(t){return function(e){var n=t[e];return null==n&&(n=t[e]=W("Mapq",{font:e}).height),n}}(Object.create(null));e.drawing=js,e.geometry=cs,e.pdf=_a,e.exportPDF=Mn,e.exportImage=ne,e.exportSVG=re,e.animationFrame=r,e.Class=Lr,e.Color=eo,e.htmlEncode=o,e.logToConsole=i,e.Observable=Kr,e.saveAs=u,e.support=qr,e.template=p,e.throttle=f,e.parseColor=y,e.namedColors=Wr,e.Animation=Si,e.AnimationFactory=xi,e.Arc=oi,e.BaseNode=Ti,e.Circle=Do,e.Element=Oo,e.Gradient=mi,e.GradientStop=gi,e.Group=ui,e.Image=li,e.Layout=di,e.LinearGradient=bi,e.MultiPath=$o,e.ObserversMixin=Ir,e.OptionsStore=bo,e.Path=ni,e.PathParser=ei,e.QuadNode=gs,e.RadialGradient=wi,e.Rect=vi,e.ShapesQuadTree=_s,e.Surface=Mi,e.SurfaceFactory=Oi,e.Text=ai,e.align=Et,e.fit=Nt,e.stack=Dt,e.vAlign=Pt,e.vStack=Rt,e.vWrap=Lt,e.wrap=Ft,e.drawDOM=Rn},function(t,e){!function(n){if("object"==typeof e&&"undefined"!=typeof t)t.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.pako=n()}}(function(){return function(){function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n||t)},u,u.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}return t}()({1:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var o in n)r(n,o)&&(t[o]=n[o])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,o){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+r),o);for(var i=0;i<r;i++)t[o+i]=e[n+i]},flattenChunks:function(t){var e,n,r,o,i,s;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(s=new Uint8Array(r),o=0,e=0,n=t.length;e<n;e++)i=t[e],s.set(i,o),o+=i.length;return s}},s={arraySet:function(t,e,n,r,o){for(var i=0;i<r;i++)t[o+i]=e[n+i]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(o)},{}],2:[function(t,e,n){"use strict";function r(t,e){if(e<65534&&(t.subarray&&s||!t.subarray&&i))return String.fromCharCode.apply(null,o.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var o=t("./common"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var a=new o.Buf8(256),l=0;l<256;l++)a[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;a[254]=a[254]=1,n.string2buf=function(t){var e,n,r,i,s,a=t.length,l=0;for(i=0;i<a;i++)n=t.charCodeAt(i),55296===(64512&n)&&i+1<a&&(r=t.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new o.Buf8(l),s=0,i=0;s<l;i++)n=t.charCodeAt(i),55296===(64512&n)&&i+1<a&&(r=t.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},n.buf2binstring=function(t){return r(t,t.length)},n.binstring2buf=function(t){for(var e=new o.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,o,i,s,l=e||t.length,c=new Array(2*l);for(o=0,n=0;n<l;)if(i=t[n++],i<128)c[o++]=i;else if(s=a[i],s>4)c[o++]=65533,n+=s-1;else{for(i&=2===s?31:3===s?15:7;s>1&&n<l;)i=i<<6|63&t[n++],s--;s>1?c[o++]=65533:i<65536?c[o++]=i:(i-=65536,c[o++]=55296|i>>10&1023,c[o++]=56320|1023&i)}return r(c,o)},n.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e}},{"./common":1}],3:[function(t,e,n){"use strict";function r(t,e,n,r){for(var o=65535&t|0,i=t>>>16&65535|0,s=0;0!==n;){s=n>2e3?2e3:n,n-=s;do o=o+e[r++]|0,i=i+o|0;while(--s);o%=65521,i%=65521}return o|i<<16|0}e.exports=r},{}],4:[function(t,e,n){"use strict";function r(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function o(t,e,n,r){var o=i,s=r+n;t^=-1;for(var a=r;a<s;a++)t=t>>>8^o[255&(t^e[a])];return t^-1}var i=r();e.exports=o},{}],5:[function(t,e,n){"use strict";function r(t,e){return t.msg=R[e],e}function o(t){return(t<<1)-(t>4?9:0)}function i(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(P.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function a(t,e){A._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function l(t,e){t.pending_buf[t.pending++]=e}function c(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function u(t,e,n,r){var o=t.avail_in;return o>r&&(o=r),0===o?0:(t.avail_in-=o,P.arraySet(e,t.input,t.next_in,o,n),1===t.state.wrap?t.adler=j(t.adler,e,o,n):2===t.state.wrap&&(t.adler=D(t.adler,e,o,n)),t.next_in+=o,t.total_in+=o,o)}function p(t,e){var n,r,o=t.max_chain_length,i=t.strstart,s=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-pt?t.strstart-(t.w_size-pt):0,c=t.window,u=t.w_mask,p=t.prev,h=t.strstart+ut,f=c[i+s-1],d=c[i+s];t.prev_length>=t.good_match&&(o>>=2),a>t.lookahead&&(a=t.lookahead);do if(n=e,c[n+s]===d&&c[n+s-1]===f&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do;while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<h);if(r=ut-(h-i),i=h-ut,r>s){if(t.match_start=e,s=r,r>=a)break;f=c[i+s-1],d=c[i+s]}}while((e=p[e&u])>l&&0!==--o);return s<=t.lookahead?s:t.lookahead}function h(t){var e,n,r,o,i,s=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-pt)){P.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,n=t.hash_size,e=n;do r=t.head[--e],t.head[e]=r>=s?r-s:0;while(--n);n=s,e=n;do r=t.prev[--e],t.prev[e]=r>=s?r-s:0;while(--n);o+=s}if(0===t.strm.avail_in)break;if(n=u(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=ct)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+ct-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<ct)););}while(t.lookahead<pt&&0!==t.strm.avail_in)}function f(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(h(t),0===t.lookahead&&e===I)return wt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,a(t,!1),0===t.strm.avail_out))return wt;if(t.strstart-t.block_start>=t.w_size-pt&&(a(t,!1),0===t.strm.avail_out))return wt}return t.insert=0,e===L?(a(t,!0),0===t.strm.avail_out?xt:kt):t.strstart>t.block_start&&(a(t,!1),0===t.strm.avail_out)?wt:wt}function d(t,e){for(var n,r;;){if(t.lookahead<pt){if(h(t),t.lookahead<pt&&e===I)return wt;if(0===t.lookahead)break}if(n=0,t.lookahead>=ct&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-pt&&(t.match_length=p(t,n)),t.match_length>=ct)if(r=A._tr_tally(t,t.strstart-t.match_start,t.match_length-ct),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ct){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=A._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(a(t,!1),0===t.strm.avail_out))return wt}return t.insert=t.strstart<ct-1?t.strstart:ct-1,e===L?(a(t,!0),0===t.strm.avail_out?xt:kt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?wt:_t}function v(t,e){for(var n,r,o;;){if(t.lookahead<pt){if(h(t),t.lookahead<pt&&e===I)return wt;if(0===t.lookahead)break}if(n=0,t.lookahead>=ct&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ct-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-pt&&(t.match_length=p(t,n),t.match_length<=5&&(t.strategy===W||t.match_length===ct&&t.strstart-t.match_start>4096)&&(t.match_length=ct-1)),t.prev_length>=ct&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-ct,r=A._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ct),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ct-1,t.strstart++,r&&(a(t,!1),0===t.strm.avail_out))return wt}else if(t.match_available){if(r=A._tr_tally(t,0,t.window[t.strstart-1]),r&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return wt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=A._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ct-1?t.strstart:ct-1,e===L?(a(t,!0),0===t.strm.avail_out?xt:kt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?wt:_t}function y(t,e){for(var n,r,o,i,s=t.window;;){if(t.lookahead<=ut){if(h(t),t.lookahead<=ut&&e===I)return wt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ct&&t.strstart>0&&(o=t.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=t.strstart+ut;do;while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);t.match_length=ut-(i-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ct?(n=A._tr_tally(t,1,t.match_length-ct),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=A._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(a(t,!1),0===t.strm.avail_out))return wt}return t.insert=0,e===L?(a(t,!0),0===t.strm.avail_out?xt:kt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?wt:_t}function g(t,e){for(var n;;){if(0===t.lookahead&&(h(t),0===t.lookahead)){if(e===I)return wt;break}if(t.match_length=0,n=A._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(a(t,!1),0===t.strm.avail_out))return wt}return t.insert=0,e===L?(a(t,!0),0===t.strm.avail_out?xt:kt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?wt:_t}function m(t,e,n,r,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=o}function b(t){t.window_size=2*t.w_size,i(t.head),t.max_lazy_match=E[t.level].max_lazy,t.good_match=E[t.level].good_length,t.nice_match=E[t.level].nice_length,t.max_chain_length=E[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ct-1,t.match_available=0,t.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new P.Buf16(2*at),this.dyn_dtree=new P.Buf16(2*(2*it+1)),this.bl_tree=new P.Buf16(2*(2*st+1)),i(this.dyn_ltree),i(this.dyn_dtree),i(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new P.Buf16(lt+1),this.heap=new P.Buf16(2*ot+1),i(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new P.Buf16(2*ot+1),i(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=J,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ft:mt,t.adler=2===e.wrap?0:1,e.last_flush=I,A._tr_init(e),B):r(t,H)}function x(t){var e=_(t);return e===B&&b(t.state),e}function k(t,e){return t&&t.state?2!==t.state.wrap?H:(t.state.gzhead=e,B):H}function S(t,e,n,o,i,s){if(!t)return H;var a=1;if(e===q&&(e=6),o<0?(a=0,o=-o):o>15&&(a=2,o-=16),i<1||i>Q||n!==Z||o<8||o>15||e<0||e>9||s<0||s>Y)return r(t,H);8===o&&(o=9);var l=new w;return t.state=l,l.strm=t,l.wrap=a,l.gzhead=null,l.w_bits=o,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ct-1)/ct),l.window=new P.Buf8(2*l.w_size),l.head=new P.Buf16(l.hash_size),l.prev=new P.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new P.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=n,x(t)}function O(t,e){return S(t,e,Z,tt,et,X)}function C(t,e){var n,a,u,p;if(!t||!t.state||e>N||e<0)return t?r(t,H):H;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||a.status===bt&&e!==L)return r(t,0===t.avail_out?K:H);if(a.strm=t,n=a.last_flush,a.last_flush=e,a.status===ft)if(2===a.wrap)t.adler=0,l(a,31),l(a,139),l(a,8),a.gzhead?(l(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),l(a,255&a.gzhead.time),l(a,a.gzhead.time>>8&255),l(a,a.gzhead.time>>16&255),l(a,a.gzhead.time>>24&255),l(a,9===a.level?2:a.strategy>=G||a.level<2?4:0),l(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(l(a,255&a.gzhead.extra.length),l(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=D(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=dt):(l(a,0),l(a,0),l(a,0),l(a,0),l(a,0),l(a,9===a.level?2:a.strategy>=G||a.level<2?4:0),l(a,St),a.status=mt);else{var h=Z+(a.w_bits-8<<4)<<8,f=-1;f=a.strategy>=G||a.level<2?0:a.level<6?1:6===a.level?2:3,h|=f<<6,0!==a.strstart&&(h|=ht),h+=31-h%31,a.status=mt,c(a,h),0!==a.strstart&&(c(a,t.adler>>>16),c(a,65535&t.adler)),t.adler=1}if(a.status===dt)if(a.gzhead.extra){for(u=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>u&&(t.adler=D(t.adler,a.pending_buf,a.pending-u,u)),s(t),u=a.pending,a.pending!==a.pending_buf_size));)l(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>u&&(t.adler=D(t.adler,a.pending_buf,a.pending-u,u)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=vt)}else a.status=vt;if(a.status===vt)if(a.gzhead.name){u=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>u&&(t.adler=D(t.adler,a.pending_buf,a.pending-u,u)),s(t),u=a.pending,a.pending===a.pending_buf_size)){p=1;break}p=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,l(a,p)}while(0!==p);a.gzhead.hcrc&&a.pending>u&&(t.adler=D(t.adler,a.pending_buf,a.pending-u,u)),0===p&&(a.gzindex=0,a.status=yt)}else a.status=yt;if(a.status===yt)if(a.gzhead.comment){u=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>u&&(t.adler=D(t.adler,a.pending_buf,a.pending-u,u)),s(t),u=a.pending,a.pending===a.pending_buf_size)){p=1;break}p=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,l(a,p)}while(0!==p);a.gzhead.hcrc&&a.pending>u&&(t.adler=D(t.adler,a.pending_buf,a.pending-u,u)),0===p&&(a.status=gt)}else a.status=gt;if(a.status===gt&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(t),a.pending+2<=a.pending_buf_size&&(l(a,255&t.adler),l(a,t.adler>>8&255),t.adler=0,a.status=mt)):a.status=mt),0!==a.pending){if(s(t),0===t.avail_out)return a.last_flush=-1,B}else if(0===t.avail_in&&o(e)<=o(n)&&e!==L)return r(t,K);if(a.status===bt&&0!==t.avail_in)return r(t,K);if(0!==t.avail_in||0!==a.lookahead||e!==I&&a.status!==bt){var d=a.strategy===G?g(a,e):a.strategy===$?y(a,e):E[a.level].func(a,e);if(d!==xt&&d!==kt||(a.status=bt),d===wt||d===xt)return 0===t.avail_out&&(a.last_flush=-1),B;if(d===_t&&(e===z?A._tr_align(a):e!==N&&(A._tr_stored_block(a,0,0,!1),e===F&&(i(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(t),0===t.avail_out))return a.last_flush=-1,B}return e!==L?B:a.wrap<=0?V:(2===a.wrap?(l(a,255&t.adler),l(a,t.adler>>8&255),l(a,t.adler>>16&255),l(a,t.adler>>24&255),l(a,255&t.total_in),l(a,t.total_in>>8&255),l(a,t.total_in>>16&255),l(a,t.total_in>>24&255)):(c(a,t.adler>>>16),c(a,65535&t.adler)),s(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?B:V)}function M(t){var e;return t&&t.state?(e=t.state.status,e!==ft&&e!==dt&&e!==vt&&e!==yt&&e!==gt&&e!==mt&&e!==bt?r(t,H):(t.state=null,e===mt?r(t,U):B)):H}function T(t,e){var n,r,o,s,a,l,c,u,p=e.length;if(!t||!t.state)return H;if(n=t.state,s=n.wrap,2===s||1===s&&n.status!==ft||n.lookahead)return H;for(1===s&&(t.adler=j(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(i(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new P.Buf8(n.w_size),P.arraySet(u,e,p-n.w_size,n.w_size,0),e=u,p=n.w_size),a=t.avail_in,l=t.next_in,c=t.input,t.avail_in=p,t.next_in=0,t.input=e,h(n);n.lookahead>=ct;){r=n.strstart,o=n.lookahead-(ct-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+ct-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++;while(--o);n.strstart=r,n.lookahead=ct-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ct-1,n.match_available=0,t.next_in=l,t.input=c,t.avail_in=a,n.wrap=s,B}var E,P=t("../utils/common"),A=t("./trees"),j=t("./adler32"),D=t("./crc32"),R=t("./messages"),I=0,z=1,F=3,L=4,N=5,B=0,V=1,H=-2,U=-3,K=-5,q=-1,W=1,G=2,$=3,Y=4,X=0,J=2,Z=8,Q=9,tt=15,et=8,nt=29,rt=256,ot=rt+1+nt,it=30,st=19,at=2*ot+1,lt=15,ct=3,ut=258,pt=ut+ct+1,ht=32,ft=42,dt=69,vt=73,yt=91,gt=103,mt=113,bt=666,wt=1,_t=2,xt=3,kt=4,St=3;E=[new m(0,0,0,0,f),new m(4,4,8,4,d),new m(4,5,16,8,d),new m(4,6,32,32,d),new m(4,4,16,16,v),new m(8,16,32,32,v),new m(8,16,128,128,v),new m(8,32,128,256,v),new m(32,128,258,1024,v),new m(32,258,258,4096,v)],n.deflateInit=O,n.deflateInit2=S,n.deflateReset=x,n.deflateResetKeep=_,n.deflateSetHeader=k,n.deflate=C,n.deflateEnd=M,n.deflateSetDictionary=T,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(t,e,n){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function o(t,e,n,r,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=t&&t.length}function i(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function s(t){return t<256?lt[t]:lt[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function l(t,e,n){t.bi_valid>Y-n?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>Y-t.bi_valid,t.bi_valid+=n-Y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function c(t,e,n){l(t,n[2*e],n[2*e+1])}function u(t,e){var n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1}function p(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function h(t,e){var n,r,o,i,s,a,l=e.dyn_tree,c=e.max_code,u=e.stat_desc.static_tree,p=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,d=e.stat_desc.max_length,v=0;for(i=0;i<=$;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<G;n++)r=t.heap[n],i=l[2*l[2*r+1]+1]+1,i>d&&(i=d,v++),l[2*r+1]=i,r>c||(t.bl_count[i]++,s=0,r>=f&&(s=h[r-f]),a=l[2*r],t.opt_len+=a*(i+s),p&&(t.static_len+=a*(u[2*r+1]+s)));if(0!==v){do{for(i=d-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[d]--,v-=2}while(v>0);for(i=d;0!==i;i--)for(r=t.bl_count[i];0!==r;)o=t.heap[--n],o>c||(l[2*o+1]!==i&&(t.opt_len+=(i-l[2*o+1])*l[2*o],l[2*o+1]=i),r--)}}function f(t,e,n){var r,o,i=new Array($+1),s=0;for(r=1;r<=$;r++)i[r]=s=s+n[r-1]<<1;for(o=0;o<=e;o++){var a=t[2*o+1];0!==a&&(t[2*o]=u(i[a]++,a))}}function d(){var t,e,n,r,i,s=new Array($+1);for(n=0,r=0;r<H-1;r++)for(ut[r]=n,t=0;t<1<<et[r];t++)ct[n++]=r;for(ct[n-1]=r,i=0,r=0;r<16;r++)for(pt[r]=i,t=0;t<1<<nt[r];t++)lt[i++]=r;for(i>>=7;r<q;r++)for(pt[r]=i<<7,t=0;t<1<<nt[r]-7;t++)lt[256+i++]=r;for(e=0;e<=$;e++)s[e]=0;for(t=0;t<=143;)st[2*t+1]=8,t++,s[8]++;for(;t<=255;)st[2*t+1]=9,t++,s[9]++;for(;t<=279;)st[2*t+1]=7,t++,s[7]++;for(;t<=287;)st[2*t+1]=8,t++,s[8]++;for(f(st,K+1,s),t=0;t<q;t++)at[2*t+1]=5,at[2*t]=u(t,5);ht=new o(st,et,U+1,K,$),ft=new o(at,nt,0,q,$),dt=new o(new Array(0),rt,0,W,X)}function v(t){var e;for(e=0;e<K;e++)t.dyn_ltree[2*e]=0;for(e=0;e<q;e++)t.dyn_dtree[2*e]=0;for(e=0;e<W;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*J]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function y(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function g(t,e,n,r){y(t),r&&(a(t,n),a(t,~n)),j.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function m(t,e,n,r){var o=2*e,i=2*n;return t[o]<t[i]||t[o]===t[i]&&r[e]<=r[n]}function b(t,e,n){for(var r=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&m(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!m(e,r,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=r}function w(t,e,n){var r,o,i,a,u=0;if(0!==t.last_lit)do r=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],o=t.pending_buf[t.l_buf+u],u++,0===r?c(t,o,e):(i=ct[o],c(t,i+U+1,e),a=et[i],0!==a&&(o-=ut[i],l(t,o,a)),r--,i=s(r),c(t,i,n),a=nt[i],0!==a&&(r-=pt[i],l(t,r,a)));while(u<t.last_lit);c(t,J,e)}function _(t,e){var n,r,o,i=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=G,n=0;n<l;n++)0!==i[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):i[2*n+1]=0;for(;t.heap_len<2;)o=t.heap[++t.heap_len]=c<2?++c:0,i[2*o]=1,t.depth[o]=0,t.opt_len--,a&&(t.static_len-=s[2*o+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)b(t,i,n);o=l;do n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],b(t,i,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,i[2*o]=i[2*n]+i[2*r],t.depth[o]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,i[2*n+1]=i[2*r+1]=o,t.heap[1]=o++,b(t,i,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],h(t,e),f(i,c,t.bl_count)}function x(t,e,n){var r,o,i=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)o=s,s=e[2*(r+1)+1],++a<l&&o===s||(a<c?t.bl_tree[2*o]+=a:0!==o?(o!==i&&t.bl_tree[2*o]++,t.bl_tree[2*Z]++):a<=10?t.bl_tree[2*Q]++:t.bl_tree[2*tt]++,a=0,i=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))}function k(t,e,n){var r,o,i=-1,s=e[1],a=0,u=7,p=4;for(0===s&&(u=138,p=3),r=0;r<=n;r++)if(o=s,s=e[2*(r+1)+1],!(++a<u&&o===s)){if(a<p){do c(t,o,t.bl_tree);while(0!==--a)}else 0!==o?(o!==i&&(c(t,o,t.bl_tree),a--),c(t,Z,t.bl_tree),l(t,a-3,2)):a<=10?(c(t,Q,t.bl_tree),l(t,a-3,3)):(c(t,tt,t.bl_tree),l(t,a-11,7));a=0,i=o,0===s?(u=138,p=3):o===s?(u=6,p=3):(u=7,p=4)}}function S(t){var e;for(x(t,t.dyn_ltree,t.l_desc.max_code),x(t,t.dyn_dtree,t.d_desc.max_code),_(t,t.bl_desc),e=W-1;e>=3&&0===t.bl_tree[2*ot[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function O(t,e,n,r){var o;for(l(t,e-257,5),l(t,n-1,5),l(t,r-4,4),o=0;o<r;o++)l(t,t.bl_tree[2*ot[o]+1],3);k(t,t.dyn_ltree,e-1),k(t,t.dyn_dtree,n-1)}function C(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return R;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return I;for(e=32;e<U;e++)if(0!==t.dyn_ltree[2*e])return I;
return R}function M(t){vt||(d(),vt=!0),t.l_desc=new i(t.dyn_ltree,ht),t.d_desc=new i(t.dyn_dtree,ft),t.bl_desc=new i(t.bl_tree,dt),t.bi_buf=0,t.bi_valid=0,v(t)}function T(t,e,n,r){l(t,(F<<1)+(r?1:0),3),g(t,e,n,!0)}function E(t){l(t,L<<1,3),c(t,J,st),p(t)}function P(t,e,n,r){var o,i,s=0;t.level>0?(t.strm.data_type===z&&(t.strm.data_type=C(t)),_(t,t.l_desc),_(t,t.d_desc),s=S(t),o=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&e!==-1?T(t,e,n,r):t.strategy===D||i===o?(l(t,(L<<1)+(r?1:0),3),w(t,st,at)):(l(t,(N<<1)+(r?1:0),3),O(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),w(t,t.dyn_ltree,t.dyn_dtree)),v(t),r&&y(t)}function A(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(ct[n]+U+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1}var j=t("../utils/common"),D=4,R=0,I=1,z=2,F=0,L=1,N=2,B=3,V=258,H=29,U=256,K=U+1+H,q=30,W=19,G=2*K+1,$=15,Y=16,X=7,J=256,Z=16,Q=17,tt=18,et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],nt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],it=512,st=new Array(2*(K+2));r(st);var at=new Array(2*q);r(at);var lt=new Array(it);r(lt);var ct=new Array(V-B+1);r(ct);var ut=new Array(H);r(ut);var pt=new Array(q);r(pt);var ht,ft,dt,vt=!1;n._tr_init=M,n._tr_stored_block=T,n._tr_flush_block=P,n._tr_tally=A,n._tr_align=E},{"../utils/common":1}],8:[function(t,e,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=r},{}],"/lib/deflate.js":[function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=l.assign({level:m,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var n=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==v)throw new Error(u[n]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var o;if(o="string"==typeof e.dictionary?c.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=a.deflateSetDictionary(this.strm,o),n!==v)throw new Error(u[n]);this._dict_set=!0}}function o(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||u[n.err];return n.result}function i(t,e){return e=e||{},e.raw=!0,o(t,e)}function s(t,e){return e=e||{},e.gzip=!0,o(t,e)}var a=t("./zlib/deflate"),l=t("./utils/common"),c=t("./utils/strings"),u=t("./zlib/messages"),p=t("./zlib/zstream"),h=Object.prototype.toString,f=0,d=4,v=0,y=1,g=2,m=-1,b=0,w=8;r.prototype.push=function(t,e){var n,r,o=this.strm,i=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:e===!0?d:f,"string"==typeof t?o.input=c.string2buf(t):"[object ArrayBuffer]"===h.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new l.Buf8(i),o.next_out=0,o.avail_out=i),n=a.deflate(o,r),n!==y&&n!==v)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||r!==d&&r!==g)||("string"===this.options.to?this.onData(c.buf2binstring(l.shrinkBuf(o.output,o.next_out))):this.onData(l.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&n!==y);return r===d?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===v):r!==g||(this.onEnd(v),o.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===v&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=r,n.deflate=o,n.deflateRaw=i,n.gzip=s},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartInstanceObserver=void 0;var s=n(25);e.ChartInstanceObserver=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.handlerMap={showTooltip:"onObserverShowTooltip",hideTooltip:"onObserverHideTooltip",seriesClick:"onObserverSeriesClick"},i}return i(e,t),e}(s.InstanceObserver)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.StockChart=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(25),c=n(24),u=n(3),p={autoBindElements:!0,liveDrag:!1,partialRedraw:!0,tooltip:{visible:!1},seriesDefaults:{tooltip:{visible:!1}}};e.StockChart=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,[{key:"getChartConstructor",value:function(){return l.StockChart}},{key:"extendOptions",value:function(t){this.applyNavigatorDefaults(t),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"extendOptions",this).call(this,t)}},{key:"setOptions",value:function(t){this.applyNavigatorDefaults(t);var n=this.getThemeOptions();this.chartInstance.applyOptions(t,n),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setOptions",this).call(this,t)}},{key:"applyNavigatorDefaults",value:function(t){(0,u.deepExtend)(t.navigator,p)}}]),e}(c.Chart)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DomEventsBuilder=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(31);var i=n(32);e.DomEventsBuilder=function(){function t(){r(this,t)}return o(t,null,[{key:"create",value:function(t,e){var n=window.Hammer,r=new n(t,{recognizers:[[n.Tap],[n.Pan],[n.Pinch],[n.Press,{time:0}]]});return new i.DomEvents(r,e)}}]),t}()},function(t,e,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2016 Jorik Tangelder;
	 * Licensed under the MIT license */
!function(o,i,s,a){"use strict";function l(t,e,n){return setTimeout(f(t,n),e)}function c(t,e,n){return!!Array.isArray(t)&&(u(t,n[e],n),!0)}function u(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function p(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}function h(t,e,n){var r,o=e.prototype;r=t.prototype=Object.create(o),r.constructor=t,r._super=o,n&&vt(r,n)}function f(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==mt?t.apply(e?e[0]||a:a,e):t}function v(t,e){return t===a?e:t}function y(t,e,n){u(w(e),function(e){t.addEventListener(e,n,!1)})}function g(t,e,n){u(w(e),function(e){t.removeEventListener(e,n,!1)})}function m(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function b(t,e){return t.indexOf(e)>-1}function w(t){return t.trim().split(/\s+/g)}function _(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function k(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var s=e?t[i][e]:t[i];_(o,s)<0&&r.push(t[i]),o[i]=s,i++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function S(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),i=0;i<yt.length;){if(n=yt[i],r=n?n+o:e,r in t)return r;i++}return a}function O(){return St++}function C(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}function M(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){d(t.options.enable,[t])&&n.handler(e)},this.init()}function T(t){var e,n=t.options.inputClass;return new(e=n?n:Mt?H:Tt?q:Ct?G:V)(t,E)}function E(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=e&Rt&&r-o===0,s=e&(zt|Ft)&&r-o===0;n.isFirst=!!i,n.isFinal=!!s,i&&(t.session={}),n.eventType=e,P(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function P(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=D(e)),o>1&&!n.firstMultiple?n.firstMultiple=D(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,s=n.firstMultiple,a=s?s.center:i.center,l=e.center=R(r);e.timeStamp=_t(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=L(a,l),e.distance=F(a,l),A(n,e),e.offsetDirection=z(e.deltaX,e.deltaY);var c=I(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=wt(c.x)>wt(c.y)?c.x:c.y,e.scale=s?B(s.pointers,r):1,e.rotation=s?N(s.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,j(n,e);var u=t.element;m(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}function A(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};e.eventType!==Rt&&i.eventType!==zt||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}function j(t,e){var n,r,o,i,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=Ft&&(l>Dt||s.velocity===a)){var c=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,p=I(l,c,u);r=p.x,o=p.y,n=wt(p.x)>wt(p.y)?p.x:p.y,i=z(c,u),t.lastInterval=e}else n=s.velocity,r=s.velocityX,o=s.velocityY,i=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}function D(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:bt(t.pointers[n].clientX),clientY:bt(t.pointers[n].clientY)},n++;return{timeStamp:_t(),pointers:e,center:R(e),deltaX:t.deltaX,deltaY:t.deltaY}}function R(t){var e=t.length;if(1===e)return{x:bt(t[0].clientX),y:bt(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:bt(n/e),y:bt(r/e)}}function I(t,e,n){return{x:e/t||0,y:n/t||0}}function z(t,e){return t===e?Lt:wt(t)>=wt(e)?t<0?Nt:Bt:e<0?Vt:Ht}function F(t,e,n){n||(n=Wt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function L(t,e,n){n||(n=Wt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}function N(t,e){return L(e[1],e[0],Gt)+L(t[1],t[0],Gt)}function B(t,e){return F(e[0],e[1],Gt)/F(t[0],t[1],Gt)}function V(){this.evEl=Yt,this.evWin=Xt,this.pressed=!1,M.apply(this,arguments)}function H(){this.evEl=Qt,this.evWin=te,M.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function U(){this.evTarget=ne,this.evWin=re,this.started=!1,M.apply(this,arguments)}function K(t,e){var n=x(t.touches),r=x(t.changedTouches);return e&(zt|Ft)&&(n=k(n.concat(r),"identifier",!0)),[n,r]}function q(){this.evTarget=ie,this.targetIds={},M.apply(this,arguments)}function W(t,e){var n=x(t.touches),r=this.targetIds;if(e&(Rt|It)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,s=x(t.changedTouches),a=[],l=this.target;if(i=n.filter(function(t){return m(t.target,l)}),e===Rt)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<s.length;)r[s[o].identifier]&&a.push(s[o]),e&(zt|Ft)&&delete r[s[o].identifier],o++;return a.length?[k(i.concat(a),"identifier",!0),a]:void 0}function G(){M.apply(this,arguments);var t=f(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new V(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function $(t,e){t&Rt?(this.primaryTouch=e.changedPointers[0].identifier,Y.call(this,e)):t&(zt|Ft)&&Y.call(this,e)}function Y(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches,o=function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)};setTimeout(o,se)}}function X(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(e-o.x),s=Math.abs(n-o.y);if(i<=ae&&s<=ae)return!0}return!1}function J(t,e){this.manager=t,this.set(e)}function Z(t){if(b(t,fe))return fe;var e=b(t,de),n=b(t,ve);return e&&n?fe:e||n?e?de:ve:b(t,he)?he:pe}function Q(){if(!ce)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||o.CSS.supports("touch-action",n)}),t}function tt(t){this.options=vt({},this.defaults,t||{}),this.id=O(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=ge,this.simultaneous={},this.requireFail=[]}function et(t){return t&xe?"cancel":t&we?"end":t&be?"move":t&me?"start":""}function nt(t){return t==Ht?"down":t==Vt?"up":t==Nt?"left":t==Bt?"right":""}function rt(t,e){var n=e.manager;return n?n.get(t):t}function ot(){tt.apply(this,arguments)}function it(){ot.apply(this,arguments),this.pX=null,this.pY=null}function st(){ot.apply(this,arguments)}function at(){tt.apply(this,arguments),this._timer=null,this._input=null}function lt(){ot.apply(this,arguments)}function ct(){ot.apply(this,arguments)}function ut(){tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function pt(t,e){return e=e||{},e.recognizers=v(e.recognizers,pt.defaults.preset),new ht(t,e)}function ht(t,e){this.options=vt({},pt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=T(this),this.touchAction=new J(this,this.options.touchAction),ft(this,!0),u(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ft(t,e){var n=t.element;if(n.style){var r;u(t.options.cssProps,function(o,i){r=S(n.style,i),e?(t.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={})}}function dt(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var vt,yt=["","webkit","Moz","MS","ms","o"],gt=i.createElement("div"),mt="function",bt=Math.round,wt=Math.abs,_t=Date.now;vt="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==a&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var xt=p(function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===a)&&(t[r[o]]=e[r[o]]),o++;return t},"extend","Use `assign`."),kt=p(function(t,e){return xt(t,e,!0)},"merge","Use `assign`."),St=1,Ot=/mobile|tablet|ip(ad|hone|od)|android/i,Ct="ontouchstart"in o,Mt=S(o,"PointerEvent")!==a,Tt=Ct&&Ot.test(navigator.userAgent),Et="touch",Pt="pen",At="mouse",jt="kinect",Dt=25,Rt=1,It=2,zt=4,Ft=8,Lt=1,Nt=2,Bt=4,Vt=8,Ht=16,Ut=Nt|Bt,Kt=Vt|Ht,qt=Ut|Kt,Wt=["x","y"],Gt=["clientX","clientY"];M.prototype={handler:function(){},init:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(C(this.element),this.evWin,this.domHandler)}};var $t={mousedown:Rt,mousemove:It,mouseup:zt},Yt="mousedown",Xt="mousemove mouseup";h(V,M,{handler:function(t){var e=$t[t.type];e&Rt&&0===t.button&&(this.pressed=!0),e&It&&1!==t.which&&(e=zt),this.pressed&&(e&zt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:At,srcEvent:t}))}});var Jt={pointerdown:Rt,pointermove:It,pointerup:zt,pointercancel:Ft,pointerout:Ft},Zt={2:Et,3:Pt,4:At,5:jt},Qt="pointerdown",te="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(Qt="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),h(H,M,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),o=Jt[r],i=Zt[t.pointerType]||t.pointerType,s=i==Et,a=_(e,t.pointerId,"pointerId");o&Rt&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(zt|Ft)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(a,1))}});var ee={touchstart:Rt,touchmove:It,touchend:zt,touchcancel:Ft},ne="touchstart",re="touchstart touchmove touchend touchcancel";h(U,M,{handler:function(t){var e=ee[t.type];if(e===Rt&&(this.started=!0),this.started){var n=K.call(this,t,e);e&(zt|Ft)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Et,srcEvent:t})}}});var oe={touchstart:Rt,touchmove:It,touchend:zt,touchcancel:Ft},ie="touchstart touchmove touchend touchcancel";h(q,M,{handler:function(t){var e=oe[t.type],n=W.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Et,srcEvent:t})}});var se=2500,ae=25;h(G,M,{handler:function(t,e,n){var r=n.pointerType==Et,o=n.pointerType==At;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)$.call(this,e,n);else if(o&&X.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var le=S(gt.style,"touchAction"),ce=le!==a,ue="compute",pe="auto",he="manipulation",fe="none",de="pan-x",ve="pan-y",ye=Q();J.prototype={set:function(t){t==ue&&(t=this.compute()),ce&&this.manager.element.style&&ye[t]&&(this.manager.element.style[le]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return u(this.manager.recognizers,function(e){d(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Z(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,o=b(r,fe)&&!ye[fe],i=b(r,ve)&&!ye[ve],s=b(r,de)&&!ye[de];if(o){var a=1===t.pointers.length,l=t.distance<2,c=t.deltaTime<250;if(a&&l&&c)return}return s&&i?void 0:o||i&&n&Ut||s&&n&Kt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ge=1,me=2,be=4,we=8,_e=we,xe=16,ke=32;tt.prototype={defaults:{},set:function(t){return vt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(c(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=rt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return c(t,"dropRecognizeWith",this)?this:(t=rt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(c(t,"requireFailure",this))return this;var e=this.requireFail;return t=rt(t,this),_(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(c(t,"dropRequireFailure",this))return this;t=rt(t,this);var e=_(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<we&&e(n.options.event+et(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=we&&e(n.options.event+et(r))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ke)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ke|ge)))return!1;t++}return!0},recognize:function(t){var e=vt({},t);return d(this.options.enable,[this,e])?(this.state&(_e|xe|ke)&&(this.state=ge),this.state=this.process(e),void(this.state&(me|be|we|xe)&&this.tryEmit(e))):(this.reset(),void(this.state=ke))},process:function(t){},getTouchAction:function(){},reset:function(){}},h(ot,tt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(me|be),o=this.attrTest(t);return r&&(n&Ft||!o)?e|xe:r||o?n&zt?e|we:e&me?e|be:me:ke}}),h(it,ot,{defaults:{event:"pan",threshold:10,pointers:1,direction:qt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Ut&&e.push(ve),t&Kt&&e.push(de),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&Ut?(o=0===i?Lt:i<0?Nt:Bt,n=i!=this.pX,r=Math.abs(t.deltaX)):(o=0===s?Lt:s<0?Vt:Ht,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction},attrTest:function(t){return ot.prototype.attrTest.call(this,t)&&(this.state&me||!(this.state&me)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=nt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),h(st,ot,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[fe]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&me)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),h(at,tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[pe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(zt|Ft)&&!o)this.reset();else if(t.eventType&Rt)this.reset(),this._timer=l(function(){this.state=_e,this.tryEmit()},e.time,this);else if(t.eventType&zt)return _e;return ke},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===_e&&(t&&t.eventType&zt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=_t(),this.manager.emit(this.options.event,this._input)))}}),h(lt,ot,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[fe]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&me)}}),h(ct,ot,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ut|Kt,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Ut|Kt)?e=t.overallVelocity:n&Ut?e=t.overallVelocityX:n&Kt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&wt(e)>this.options.velocity&&t.eventType&zt},emit:function(t){var e=nt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),h(ut,tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[he]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Rt&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!=zt)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||F(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&i?this.count+=1:this.count=1,this._input=t;var a=this.count%e.taps;if(0===a)return this.hasRequireFailures()?(this._timer=l(function(){this.state=_e,this.tryEmit()},e.interval,this),me):_e}return ke},failTimeout:function(){return this._timer=l(function(){this.state=ke},this.options.interval,this),ke},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==_e&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),pt.VERSION="2.0.7",pt.defaults={domEvents:!1,touchAction:ue,enable:!0,inputTarget:null,inputClass:null,preset:[[lt,{enable:!1}],[st,{enable:!1},["rotate"]],[ct,{direction:Ut}],[it,{direction:Ut},["swipe"]],[ut],[ut,{event:"doubletap",taps:2},["tap"]],[at]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Se=1,Oe=2;ht.prototype={set:function(t){return vt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Oe:Se},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&_e)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],e.stopped===Oe||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(me|be|we)&&(o=e.curRecognizer=n),i++}},get:function(t){if(t instanceof tt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(c(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(c(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=_(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return u(w(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==a){var n=this.handlers;return u(w(t),function(t){e?n[t]&&n[t].splice(_(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&dt(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ft(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},vt(pt,{INPUT_START:Rt,INPUT_MOVE:It,INPUT_END:zt,INPUT_CANCEL:Ft,STATE_POSSIBLE:ge,STATE_BEGAN:me,STATE_CHANGED:be,STATE_ENDED:we,STATE_RECOGNIZED:_e,STATE_CANCELLED:xe,STATE_FAILED:ke,DIRECTION_NONE:Lt,DIRECTION_LEFT:Nt,DIRECTION_RIGHT:Bt,DIRECTION_UP:Vt,DIRECTION_DOWN:Ht,DIRECTION_HORIZONTAL:Ut,DIRECTION_VERTICAL:Kt,DIRECTION_ALL:qt,Manager:ht,Input:M,TouchAction:J,TouchInput:q,MouseInput:V,PointerEventInput:H,TouchMouseInput:G,SingleTouchInput:U,Recognizer:tt,AttrRecognizer:ot,Tap:ut,Pan:it,Swipe:ct,Pinch:st,Rotate:lt,Press:at,on:y,off:g,each:u,merge:kt,extend:xt,assign:vt,inherit:h,bindFn:f,prefixed:S});var Ce="undefined"!=typeof o?o:"undefined"!=typeof self?self:{};Ce.Hammer=pt,r=function(){return pt}.call(e,n,e,t),!(r!==a&&(t.exports=r))}(window,document,"Hammer")},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<t.length;n++)if(e[t[n]])return!0;return!1}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){var e={x:{location:t.pageX},y:{location:t.pageY}};return e},s=function(t,e){var n=t.pointers,r=n[0],o=r.pageX,s=r.pageY,a=0;if(n.length>1){var l=n[0],c=n[1];a=Math.sqrt(Math.pow(l.pageX-c.pageX,2)+Math.pow(l.pageY-c.pageY,2))}return{distance:a,event:t.srcEvent,preventDefault:function(){t.preventDefault()},target:t.target,touches:n.map(i),type:t.type,x:{delta:e?o-e.x.location:0,initialDelta:t.deltaX,location:o,startLocation:o-t.deltaX},y:{delta:e?s-e.y.location:0,initialDelta:t.deltaY,location:s,startLocation:s-t.deltaY}}},a=[{end:"panend",move:"panmove",start:"panstart"},{gesturechange:"pinchmove",gestureend:"pinchend",gesturestart:"pinchstart"},{press:"press"},{tap:"tap"}];e.DomEvents=function(){function t(e,r){n(this,t),this.hammerInstance=e,this.eventHandlers={},this.tap=this.tap.bind(this),this.press=this.press.bind(this),this.panstart=this.panstart.bind(this),this.panmove=this.panmove.bind(this),this.panend=this.panend.bind(this),this.pinchstart=this.pinchstart.bind(this),this.pinchmove=this.pinchmove.bind(this),this.pinchend=this.pinchend.bind(this),r&&this.bind(r)}return o(t,[{key:"tap",value:function(t){this.trigger("tap",t)}},{key:"press",value:function(t){this.trigger("press",t)}},{key:"panstart",value:function(t){delete this.previous,this.previous=this.trigger("start",t)}},{key:"panmove",value:function(t){this.previous=this.trigger("move",t)}},{key:"panend",value:function(t){this.trigger("end",t),delete this.previous}},{key:"pinchstart",value:function(t){this.trigger("gesturestart",t)}},{key:"pinchmove",value:function(t){this.trigger("gesturechange",t)}},{key:"pinchend",value:function(t){this.trigger("gestureend",t)}},{key:"trigger",value:function(t,e){var n=s(e,this.previous);return this.eventHandlers[t]&&this.eventHandlers[t](n),n}},{key:"bind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.unbind(),this.eventHandlers=t;for(var e=0;e<a.length;e++){var n=a[e],o=Object.keys(n);if(r(o,t))for(var i=0;i<o.length;i++){var s=n[o[i]];this.hammerInstance.on(s,this[s])}}}},{key:"unbind",value:function(){this.hammerInstance&&this.hammerInstance.off(),this.eventHandlers={}}},{key:"destroy",value:function(){this.hammerInstance&&(this.hammerInstance.destroy(),delete this.hammerInstance),delete this.eventHandlers}},{key:"toggleDrag",value:function(t){this.toggle("pan",t)}},{key:"toggleZoom",value:function(t){this.toggle("pinch",t)}},{key:"toggle",value:function(t,e){if(this.hammerInstance){var n=this.hammerInstance.get(t);n.set({enable:e})}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(34);Object.defineProperty(e,"IntlService",{enumerable:!0,get:function(){return r.IntlService}});var o=n(36);Object.defineProperty(e,"TemplateService",{enumerable:!0,get:function(){return o.TemplateService}});var i=n(38);Object.defineProperty(e,"ThemeService",{enumerable:!0,get:function(){return i.ThemeService}})},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.IntlService=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(35),a=r(s),l=n(1),c=function(){function t(){o(this,t)}return i(t,null,[{key:"setLocale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,l.deepExtend)({},a.localeInfo("en"),t);a.setData(e),this.localeId=t.name}},{key:"format",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return a.format(t,n,this.localeId)}},{key:"toString",value:function(t,e,n){var r=new RegExp("^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$"),o=t;return r.test(t)&&(o=new Date(t)),a.toString(o,e,this.localeId||n)}},{key:"parseDate",value:function(t,e,n){return a.parseDate(t,e,this.localeId||n)}}]),t}();e.IntlService=c},function(t,e){"use strict";function n(t){return"string"==typeof t}function r(t,e){var n=t.split("-"),r=n[0],o=n[1],i=n[2];return pe[t]||e.indexOf(i)!==-1&&pe[r+"-"+i]||e.indexOf(o)!==-1&&pe[r+"-"+o]||pe[r]}function o(t,e){for(var n=pe.supplemental.likelySubtags,r=0;r<e.length;r++){var o=n[t+"-"+e[r]];if(o)return o}if(n[t])return n[t]}function i(t){var e;return e=n(t)?s(t):t}function s(t){if(pe[t])return pe[t];var e=pe.supplemental.likelySubtags;if(e){var n=t.split("-"),i=n[0],s=n.slice(1),a=o(i,s),l=a?r(a,s):null;if(l)return l}throw ue.NoLocale.error(t)}function a(t){return Me.lastIndex=0,t.replace(Te,ge).replace(Me,be).split(we)}function l(t){Me.lastIndex=0;var e=Me.exec(t.split(we)[0])[0].split(xe),n=e[0],r=n.split(_e).slice(1).map(function(t){return t.length}).reverse();return r}function c(t,e){for(var n in e)n.startsWith("unitPattern")&&(t[n]=e[n].replace("{0}",be).replace("{1}",ge))}function u(t,e){var n=pe[t],r=n.numbers=n.numbers||{};r.symbols=r.symbols||{};for(var o in e)if(o===Ce)Object.assign(r.symbols,e[o]);else if(o.includes(Oe)){var i=o.substr(0,o.indexOf(Oe)),s=e[o].standard;r[i]={patterns:a(s)},i===fe?(r[i].groupSize=l((e[he+Oe]||e[o]).standard),c(r[i],e[o]),r[de]={patterns:a(e[o][de]),groupSize:r[i].groupSize}):r[i].groupSize=l(s)}else"currencies"===o&&(r.currencies=e[o])}function p(t){for(var e=[],n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=t[n[r]];e.push(o)}return e}function h(t,e){var n={};for(var r in t){var o=n[r]={};for(var i in t[r]){var s=t[r][i];o[i]=e?s:p(s)}}return n}function f(t){var e={},n=e.format={},r={eraAbbr:"abbreviated",eraNames:"wide",eraNarrow:"narrow"};for(var o in t){var i=r[o];n[i]=t[o]}return e}function d(t,e){var n=pe[t].calendar;n.days=h(e.days),n.months=h(e.months),n.quarters=h(e.quarters),n.dayPeriods=h(e.dayPeriods,!0),n.eras=f(e.eras)}function v(t,e){var n=pe[t].calendar,r={};for(var o in e){var i=o.split("-"),s=i[0],a=i[1];void 0===a&&(a="wide");var l=r[s]||{},c=e[o].displayName;c&&(l[a]=c,r[s]=l)}n.dateFields=r}function y(t,e){for(var n=[],r=0;r<t.length;r++){for(var o=t[r],i=e,s=0;s<o.length;s++)i=i[o[s]];n.push(i)}return n.join(" ")}function g(t,e){var n=pe[t].calendar,r=n.patterns={};r.d=y(Ae,e).replace(Pe,"y");for(var o in je)r[o]=y(je[o],e);for(var i in Ee)r[i]=Ee[i];var s=e.dateTimeFormats;n.dateTimeFormats={full:s.full,long:s.long,medium:s.medium,short:s.short,availableFormats:s.availableFormats},n.timeFormats=e.timeFormats,n.dateFormats=e.dateFormats}function m(t,e){var n=pe[t].calendar=pe[t].calendar||{};for(var r in e)"timeZoneNames"===r?(n.gmtFormat=e[r].gmtFormat,n.gmtZeroFormat=e[r].gmtZeroFormat):"calendars"===r&&e[r].gregorian?(g(t,e[r].gregorian),d(t,e[r].gregorian)):"fields"===r&&v(t,e.fields)}function b(t,e){var n=pe.supplemental.likelySubtags,r=t.split("-");if(n){var o=n[t]||n[r[0]];o&&(r=o.split("-"))}if(e)for(var i=r.length-1;i>=1;i--){var s=r[i];s!==e.variant&&s!==e.script||r.splice(i,1)}var a=r.length;if(a>1){var l=r[a-1];return l.toUpperCase()}}function w(t){if(t.territory)return t.territory;var e,n=t.name,r=t.identity;return e=r&&r.territory?r.territory:b(n,r),t.territory=e,e}function _(t,e){for(var n in e)"numbers"===n?u(t,e[n]):"dates"===n&&m(t,e[n])}function x(){for(var t=arguments,e=arguments.length,n=0;n<e;n++){var r=t[n];if(r.main){var o=Object.keys(r.main)[0],i=r.main[o],s=pe[o]=pe[o]||{};s.name=s.name||o,s.identity=s.identity||i.identity,w(s),_(o,i)}else r.supplemental&&(r.supplemental.weekData?pe.supplemental.weekData={firstDay:r.supplemental.weekData.firstDay,weekendStart:r.supplemental.weekData.weekendStart,weekendEnd:r.supplemental.weekData.weekendEnd}:Object.assign(pe.supplemental,r.supplemental))}}function k(t){var e=t.name,n=pe[e]=pe[e]||{};if(t.likelySubtags){var r=pe.supplemental=pe.supplemental||{};r.likelySubtags=Object.assign(r.likelySubtags||{},t.likelySubtags)}var o=n.numbers;Object.assign(n,t),o&&t.numbers&&(n.numbers=Object.assign({},o,t.numbers))}function S(t,e){void 0===e&&(e=Se);var n=s(e),r=n.calendar.dateFields;if(!r)throw ue.NoDateFieldNames.error();var o=r[t.type]||{};return o[t.nameType]||o.wide}function O(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toLowerCase());return e}function C(t){var e={};for(var n in t)e[n]=t[n].toLowerCase();return e}function M(t){var e=Array.isArray(t)?O(t):C(t);return e}function T(t,e){var n=e.type,r=e.nameType,o=e.standAlone,s=e.lower,a=i(t),l=o?"stand-alone":"format",c=(s?"lower-":ke)+r,u=a.calendar[n][l],p=u[c];return!p&&s&&(p=u[c]=M(u[r])),p}function E(t){var e=t.split("-"),n=parseInt(e[0],10),r=parseInt(e[1],10)-1,o=parseInt(e[2],10);return new Date(n,r,o)}function P(t,e,n){var r=i(t),o=r.numbers.currencies;if(o){var s=o[e];if(s)return s;if(n)throw Re.error()}else if(n)throw De.error()}function A(t,e){return e.length-t.length}function j(t){for(var e,n,r,o,i=0;i<t.length;i++){var s=t[i],a=Object.keys(s)[0],l=s[a];if(a!==Be&&"false"!==l._tender&&l._from)if(l._to){if(!r){var c=E(l._from),u=E(l._to);(!n||n.to<u||n.from<c)&&(e=a,n={from:c,to:u})}}else{var p=E(l._from);(!o||o<p)&&(r=a,o=p)}}return r||e}function D(t,e,n){void 0===n&&(n=!0);var r=P(t,e,n);if(r){if(!r.displays){var o=[e];for(var i in r)o.push(r[i]);o.sort(A),r.displays=o}return r.displays}}function R(t,e){var n=e.value,r=e.currency,o=e.currencyDisplay;if(void 0===o&&(o=Ne),"code"===o)return r;var i,s=P(t,r,!0);return i=o===Ne?s["symbol-alt-narrow"]||s[Ne]:void 0===typeof n||1!==n?s["displayName-count-other"]:s["displayName-count-one"]}function I(t){var e=Le,n=Le,r=((pe.supplemental.currencyData||{}).fractions||{})[t];return r&&r._digits&&(n=e=parseInt(r._digits,10)),{minimumFractionDigits:e,maximumFractionDigits:n}}function z(t,e){if(void 0===e&&(e=!0),Ve[t])return Ve[t];var n=pe.supplemental.currencyData;if(n){var r=n.region[t];if(r){var o=j(r);return o}if(e)throw ze.error(t)}else if(e)throw Ie.error()}function F(t,e){var n=i(t),r=n.numbers;if(!r.localeCurrency){var o=z(w(n),e);if(!o&&e)throw Fe.error(n.name);r.localeCurrency=o}return r.localeCurrency}function L(t){var e=i(t);if(!isNaN(e.firstDay))return e.firstDay;var n=pe.supplemental.weekData;if(!n)throw Ke.error();var r=n.firstDay[w(e)]||n.firstDay[Ue];if(!r)throw qe.error();return e.firstDay=He.indexOf(r),e.firstDay}function N(t){var e=i(t);if(e.weekendRange)return e.weekendRange;var n=pe.supplemental.weekData;if(!n)throw We.error();var r=w(e),o=n.weekendStart[r]||n.weekendStart[Ue],s=n.weekendEnd[r]||n.weekendEnd[Ue];return e.weekendRange={start:He.indexOf(o),end:He.indexOf(s)},e.weekendRange}function B(t){var e=i(t);return e.numbers.symbols}function V(t,e){void 0===e&&(e={}),e.currency||(e.currency=F(t,!0));var n=R(t,e);return n}function H(t,e,n,r,o){var i=o.numbers.symbols,s=t.indexOf(i.decimal),a=r.groupSize.slice(),l=a.shift(),c=s!==-1?s:n+1,u=t.substring(e,c),p=t,h=u.length;
if(h>=l){for(var f=h,d=[];f>-1;){var v=u.substring(f-l,f);v&&d.push(v),f-=l;var y=a.shift();if(l=void 0!==y?y:l,0===l){v=u.substring(0,f),v&&d.push(v);break}}u=d.reverse().join(i.group),p=t.substring(0,e)+u+t.substring(c)}return p}function U(t){return t===fe||t===de}function K(t,e,n){void 0===e&&(e=2),void 0===n&&(n=!1);var r=e-String(t).length,o=t;if(r>0){var i=new Array(r+1).join("0");o=n?t+i:i+t}return o}function q(t,e){var n=t,r=e||0;return n=n.toString().split("e"),n=Math.round(Number(n[0]+"e"+(n[1]?Number(n[1])+r:r))),n=n.toString().split("e"),n=Number(n[0]+"e"+(n[1]?Number(n[1])-r:-r)),n.toFixed(Math.min(r,Ge))}function W(t){var e,n=t.minimumFractionDigits,r=t.maximumFractionDigits,o=t.style,i=U(o);return i&&(e=I(t.currency)),void 0===n&&(n=i?e.minimumFractionDigits:0),void 0===r&&(r=o===ve?Math.max(n,Ye):i?Math.max(n,e.maximumFractionDigits):Math.max(n,$e)),{minimumFractionDigits:n,maximumFractionDigits:r}}function G(t,e,n){for(var r=ke,o=0,i=e.length;o<i;o++){var s=e.charAt(o);r+=s===be?t:s===ge||s===me?n:s}return r}function $(t,e){var n=t.numbers.currency,r=1!==e?n["unitPattern-count-other"]:n["unitPattern-count-one"];return e<0&&(r=r.replace(be,"-"+be)),r}function Y(t,e,n){var r=n.numbers.symbols,o=e.style,i=U(o);if(o===ye){var s=void 0!==e.minimumFractionDigits?t.toExponential(e.minimumFractionDigits):t.toExponential();return s.replace(xe,r.decimal)}var a,l=t;i&&(e.value=l,a=V(n,e)),o===ve&&(l*=100,a=r.percentSign);var c=W(e),u=c.minimumFractionDigits,p=c.maximumFractionDigits;l=q(l,p);var h=l<0,f=l.split(xe),d=f[0],v=K(f[1]?f[1].replace(Xe,ke):ke,u,!0);h&&(d=d.substring(1)),e.minimumIntegerDigits&&(d=K(d,e.minimumIntegerDigits));var y=e.useGrouping!==!1?H(d,0,d.length,e,n):d;v&&(y+=r.decimal+v);var g;if(i&&"name"===e.currencyDisplay)g=$(n,t);else{var m=e.patterns;g=h?m[1]||"-"+m[0]:m[0]}if(g===be&&!h)return y;var b=G(y,g,a);return b}function X(t){var e=t.format;if(e.indexOf("'")>-1||e.indexOf('"')>-1||e.indexOf("\\")>-1){var n=t.literals=[];t.format=e.replace(tn,function(t){var e=t.charAt(0).replace("\\",ke),r=t.slice(1).replace(e,ke);return n.push(r),Je})}}function J(t,e){var n;return n=0===e?en:new RegExp("(\\.[0-9]{"+e+"}[1-9]*)0+$","g"),t.replace(n,"$1").replace(nn,ke)}function Z(t){var e=t.number,n=t.format,r=n.indexOf(xe);if(r!==-1){var o=n.lastIndexOf(Qe)-r,i=n.lastIndexOf(Ze)-r,s=o>-1,a=i>-1,l=e.toString().split("e");l=l[1]?q(e,Math.abs(l[1])):l[0],l=l.split(xe)[1]||ke;var c=l.length,u=-1;s||a?s&&o>i?c=o:i>o&&(a&&c>i?c=i:s&&c<o&&(c=o),u=s?o:0):(t.format=n.substring(0,r)+n.substring(r+1),r=-1,c=0),c>-1&&(e=q(e,c),u>-1&&(e=J(e,u)))}else e=q(e);t.negative&&e*-1>=0&&(t.negative=!1),t.number=e,t.decimalIndex=r}function Q(t){return t.indexOf(Ze)===-1&&t.indexOf(Qe)===-1}function tt(t){var e=t.number,n=t.format;if(n=n.split(we),t.negative&&n[1])n=n[1],t.hasNegativeFormat=!0;else if(0===e){var r=n[2];n=r||n[0],r&&Q(r)&&(t.constant=r)}else n=n[0];t.format=n}function et(t,e){var n=t.format;n.indexOf(me)!==-1&&(t.style=ve,t.symbol=e.numbers.symbols.percentSign,t.number*=100),n.indexOf(ge)!==-1&&(t.style=fe,t.symbol=V(e))}function nt(t){t.hasGroup=t.format.indexOf(_e)>-1,t.hasGroup&&(t.format=t.format.replace(rn,ke))}function rt(t,e,n){var r;return r=t===-1&&e!==-1?e:t!==-1&&e===-1?t:n?Math.min(t,e):Math.max(t,e)}function ot(t){var e=t.format,n=e.indexOf(Ze),r=e.indexOf(Qe),o=rt(n,r,!0);n=e.lastIndexOf(Ze),r=e.lastIndexOf(Qe);var i=rt(n,r);o===e.length&&(i=o),t.start=o,t.end=i,t.lastZeroIndex=r}function it(t,e,n){var r=t;if(e===fe||e===ve){r=ke;for(var o=0,i=t.length;o<i;o++){var s=t.charAt(o);r+=s===ge||s===me?n:s}}return r}function st(t,e){var n=t;if(e)for(var r=e.length,o=0;o<r;o++)n=n.replace(Je,e[o]);return n}function at(t,e){var n=t.start,r=t.end,o=t.negative,i=t.format,s=t.decimalIndex,a=t.lastZeroIndex,l=t.hasNegativeFormat,c=t.hasGroup,u=t.number,p=u.toString().split(xe),h=i.length,f=p[0],d=p[1]||ke,v=f.length,y=ke;u=i.substring(0,n),o&&!l&&(u+="-");for(var g=n;g<h;g++){var m=i.charAt(g);if(s===-1){if(r-g<v){u+=f;break}}else if(a!==-1&&a<g&&(y=ke),s-g<=v&&s-g>-1&&(u+=f,g=s),s===g){u+=(d?e.numbers.symbols.decimal:ke)+d,g+=r-s+1;continue}m===Qe?(u+=m,y=m):m===Ze&&(u+=y)}return c&&(u=H(u,n+(o&&!l?1:0),Math.max(r,v+n),e.numbers.decimal,e)),r>=n&&(u+=i.substring(r+1)),u}function lt(t,e){var n=t.number;return t.start!==-1&&(n=at(t,e),n=it(n,t.style,t.symbol),n=st(n,t.literals)),n}function ct(t,e,n){var r={negative:t<0,number:Math.abs(t),format:e};return tt(r),r.constant?r.constant:(X(r),et(r,n),nt(r),Z(r),ot(r),lt(r,n))}function ut(t){var e=on.exec(t);if(e){var n={style:he},r=e[1].toLowerCase();return"c"===r?n.style=fe:"a"===r?n.style=de:"p"===r?n.style=ve:"e"===r&&(n.style=ye),e[2]&&(n.minimumFractionDigits=n.maximumFractionDigits=parseInt(e[2],10)),n}}function pt(t){var e;return e=n(t)?ut(t):t}function ht(t,e,n){if(void 0===e&&(e=be),void 0===n&&(n=Se),void 0===t||null===t)return ke;if(!isFinite(t))return String(t);var r,o=s(n),i=pt(e);if(i){var a=i.style||he;r=Y(t,Object.assign({},o.numbers[a],i),o)}else r=ct(t,e,o);return r}function ft(t){return"number"==typeof t}function dt(t,e){if(e.length>1){var n=(e[1]||ke).replace(ge,ke).split(be);if(t.indexOf(n[0])>-1&&t.indexOf(n[1])>-1)return t.replace(n[0],ke).replace(n[1],ke)}}function vt(t,e,n){var r,o=pt(n)||{},i=U(o.style),s=t,a=o.currency||F(e,i);if(a){var l=D(e,a,i);if(l)for(var c=0;c<l.length;c++){var u=l[c];if(s.includes(u)){s=s.replace(u,ke),i=!0;break}}if(i){var p=dt(s,e.numbers.currency.patterns)||dt(s,e.numbers.accounting.patterns);p&&(r=!0,s=p)}}return{number:s,negative:r}}function yt(t,e,n){if(void 0===e&&(e=Se),void 0===n&&(n={}),!t&&0!==t)return null;if(ft(t))return t;var r,o=s(e),i=o.numbers.symbols,a=t.toString();if(sn.test(a))return a=parseFloat(a.replace(i.decimal,xe)),isNaN(a)?null:a;var l=a.indexOf("-");if(l>0)return null;var c=l>-1,u=vt(a,o,n),p=u.negative,h=u.number;return a=h,c=void 0!==p?p:c,(n.style===ve||a.indexOf(i.percentSign)>-1)&&(a=a.replace(i.percentSign,ke),r=!0),a=a.replace("-",ke).replace(an," ").split(i.group.replace(an," ")).join(ke).replace(i.decimal,xe),a=parseFloat(a),isNaN(a)?a=null:c&&(a*=-1),a&&r&&(a/=100),a}function gt(t){var e=arguments;return t.replace(ln,function(t,n){var r=e[parseInt(n,10)+1];return r})}function mt(t){return t.hour12?"h":"H"}function bt(t){return _n[t]||(_n[t]=new RegExp(t+"+")),_n[t]}function wt(t){for(var e=[],n=t.charAt(0),r=n,o=1;o<t.length;o++){var i=t.charAt(o);i===r?n+=i:(e.push(n),n=r=i)}return e.push(n),e}function _t(t,e){var n,r,o=t.length,i=-Number.MAX_VALUE;for(var s in e){for(var a=[],l=s.replace("v","z"),c=0,u=0;u<o;u++){var p=t[u],h=bt(p[0]),f=(h.exec(l)||[])[0];if(f){if(l=l.replace(f,ke),f.length!==p.length){var d=Math.max(Math.min(pn[f.length]-pn[p.length],2),-2);c-=yn[d]}}else c-=cn;if(a.push(f),c<i)break}l.length&&(c-=wt(l).length*un),c>i&&(i=c,n=a,r=e[s])}r=r.replace("v","z");for(var v=0;v<o;v++){var y=n[v];if(y&&y!==t[v]){var g=n[v][0];r=r.replace(bt(g),t[v]),wn[g]&&(r=r.replace(bt(wn[g]),t[v]))}}return r}function xt(t,e,n){xn[n]||(xn[n]={}),xn[n][t]=e}function kt(t,e){var n=e.calendar.dateTimeFormats.availableFormats;if(n[t])return n[t];if(xn[e.name]&&xn[e.name][t])return xn[e.name][t];var r,o=t.search(mn);if(o>0){var i=t.substr(0,o),s=t.substr(o);r=gt(e.calendar.dateTimeFormats.short,n[s]||_t(wt(s),n),n[i]||_t(wt(i),n))}else r=_t(wt(t),n);return xt(t,r,e.name),r}function St(t){for(var e=[],n=0;n<bn.length;n++){var r=bn[n],o=r.key,i=t[o];if(i){var s=r.specifier||r.getSpecifier(t);e.push(s.repeat(gn[i]))}}return e.join(ke)}function Ot(t,e){var r,o=e.calendar;if(n(t))r=o.patterns[t]?o.patterns[t]:t;else if(t){if(t.pattern)return t.pattern;var i=t.skeleton;i||(t.datetime?r=gt(o.dateTimeFormats[t.datetime],o.timeFormats[t.datetime],o.dateFormats[t.datetime]):t.date?r=o.dateFormats[t.date]:t.time?r=o.timeFormats[t.time]:i=St(t)),i&&(r=kt(i,e))}return r||(r=o.patterns.d),r}function Ct(t){var e;return t<=3?e="abbreviated":4===t?e="wide":5===t?e="narrow":6===t&&(e="short"),e}function Mt(t,e,n,r,o){return T(t,{type:e,nameType:Ct(n),standAlone:r,lower:o})}function Tt(t){return"function"==typeof t}function Et(t){return Boolean(t)&&Tt(t.getTime)&&Tt(t.getMonth)}function Pt(t,e,n){var r,o=L(n);return r=t<o?7-o+t:t-o,r+1}function At(t,e,n,r){return e<=2?K(t+1,e):Mt(n,"months",e,r)[t]}function jt(t,e,n,r){var o=Math.floor(t.getMonth()/3);return e<3?o+1:Mt(n,"quarters",e,r)[o]}function Dt(t,e,n){var r=n.shortHours,o=n.optionalMinutes,i=n.separator,s=n.localizedName,a=n.zZeroOffset,l=t.getTimezoneOffset()/60;if(0===l&&a)return"Z";var c=l<=0?"+":"-",u=Math.abs(l).toString().split("."),p=u[1]||0,h=c+(r?u[0]:K(u[0],2));if(!p&&o||(h+=(i?":":ke)+K(p,2)),s){var f=0===l?e.calendar.gmtZeroFormat:e.calendar.gmtFormat;h=gt(f,h)}return h}function Rt(t,e,n,r){var o;return o=e<3?Pt(t.getDay(),e,n):Mt(n,"days",e,r)[t.getDay()]}function It(t,e,n){if(void 0===n&&(n=Se),!Et(t))return void 0===t||null===t?ke:t;var r=s(n),o=Ot(e,r);return o.replace(En,function(e){var n,o=e.length;return n=e.includes("'")||e.includes('"')?e.slice(1,o-1):Pn[e[0]](t,o,r)})}function zt(t,e,n){var r=t.getTimezoneOffset(),o=new Date(t.getTime()+6e4*(e-n)),i=o.getTimezoneOffset();return new Date(o.getTime()+6e4*(i-r))}function Ft(t,e){e||23!==t.getHours()||t.setHours(t.getHours()+2)}function Lt(t,e,n){return!(t>=e&&t<=n)}function Nt(t,e){for(var n=e.format,r=e.idx,o=0;n[r]===t;)o++,r++;return o>0&&(r-=1),e.idx=r,o}function Bt(t,e){var n=t?Rn[t]||new RegExp("^\\d{1,"+t+"}"):In,r=e.value.substr(e.valueIdx,t).match(n);return r?(r=r[0],e.valueIdx+=r.length,parseInt(r,10)):null}function Vt(t,e,n){for(var r,o,i,s=0,a=t.length,l=0,c=0;s<a;s++)r=t[s],o=r.length,i=e.value.substr(e.valueIdx,o),n&&(i=i.toLowerCase()),i===r&&o>l&&(l=o,c=s);return l?(e.valueIdx+=l,c+1):null}function Ht(t){var e=!1;return t.value.charAt(t.valueIdx)===t.format[t.idx]&&(t.valueIdx++,e=!0),e}function Ut(t){var e=t.gmtFormat,n=t.gmtZeroFormat;if(!e)throw ue.NoGMTInfo.error();return[e.replace(zn,ke).toLowerCase(),n.replace(zn,ke).toLowerCase()]}function Kt(t,e,n){var r=n.shortHours,o=n.noSeparator,i=n.optionalMinutes,s=n.localizedName,a=n.zLiteral;if(t.UTC=!0,a&&"Z"===t.value.charAt(t.valueIdx))return t.valueIdx++,!1;if(s&&!Vt(Ut(e.calendar),t,!0))return!0;var l=An.exec(t.value.substr(t.valueIdx,6));if(!l)return!s;var c=l[1],u=l[3],p=parseInt(c,10),h=l[2],f=parseInt(u,10);return!!(isNaN(p)||!r&&3!==c.length||!i&&isNaN(f)||o&&h)||(isNaN(f)&&(f=null),!!(Lt(p,-12,13)||f&&Lt(f,0,59))||(t.valueIdx+=l[0].length,t.hoursOffset=p,void(t.minutesOffset=f)))}function qt(t,e,n){var r=Nt(t,e),o=Mt(n,"months",r,"L"===t,!0),i=r<3?Bt(2,e):Vt(o,e,!0);return!(null!==i&&!Lt(i,1,12))||void(e.month=i-1)}function Wt(t,e,n){var r=Nt(t,e),o=Mt(n,"days",r,"c"===t,!0),i=r<3?Bt(1,e):Vt(o,e,!0);if(!i&&0!==i||Lt(i,1,7))return!0}function Gt(t){var e,n=t.year,r=t.month,o=t.day,i=t.hours,s=t.minutes,a=t.seconds,l=t.milliseconds,c=t.pmHour,u=t.UTC,p=t.hoursOffset,h=t.minutesOffset,f=null!==i||null!==s||a||null,d=new Date;return null===n&&null===r&&null===o&&f?(n=d.getFullYear(),r=d.getMonth(),o=d.getDate()):(null===n&&(n=d.getFullYear()),null===o&&(o=1)),c&&i<12&&(i+=12),u?(p&&(i+=-p),h&&(s+=-h*(p<0?-1:1)),e=new Date(Date.UTC(n,r,o,i,s,a,l))):(e=new Date(n,r,o,i,s,a,l),Ft(e,i)),n<100&&e.setFullYear(n),e.getDate()!==o&&void 0===u?null:e}function $t(t,e,n){for(var r=Ot(e,n).split(ke),o={format:r,idx:0,value:t,valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},i=r.length,s=!1;o.idx<i;o.idx++){var a=r[o.idx];if(s)"'"===a&&(s=!1),Ht(o);else if(Bn[a]){var l=Bn[a](o,n);if(l)return null}else if("'"===a)s=!0,Ht(o);else if(!Ht(o))return null}return o.valueIdx<t.length?null:Gt(o)||null}function Yt(t){var e="-"===t.substr(0,1)?-1:1,n=t.substring(1);return n=60*parseInt(n.substr(0,2),10)+parseInt(n.substring(2),10),e*n}function Xt(t){if(t&&0===t.indexOf("/D")){var e=jn.exec(t);if(e){e=e[1];var n=Dn.exec(e.substring(1));return e=new Date(parseInt(e,10)),n&&(n=Yt(n[0]),e=zt(e,e.getTimezoneOffset(),0),e=zt(e,0,-1*n)),e}}}function Jt(t){for(var e=[],n=t.patterns,r=Ln.length,o=0;o<r;o++)e.push(n[Ln[o]]);return e.concat(Fn)}function Zt(t,e,n){if(void 0===n&&(n=Se),!t)return null;if(Et(t))return t;var r=String(t).trim(),o=Xt(r);if(o)return o;var i=s(n),a=e||Jt(i.calendar);a=Array.isArray(a)?a:[a];for(var l=a.length,c=0;c<l;c++)if(o=$t(r,a[c],i))return o;return o}function Qt(t,e){var n=t[t.length-1];n&&n.type===Hn?n.pattern+=e:t.push({type:Hn,pattern:e})}function te(t){return"h"===t||"K"===t}function ee(t,e){void 0===e&&(e=Se);for(var n=s(e),r=Ot(t,n),o=[],i=En.lastIndex=0,a=En.exec(r);a;){var l=a[0];if(i<a.index&&Qt(o,r.substring(i,a.index)),l.startsWith('"')||l.startsWith("'"))Qt(o,l);else{var c=l[0],u=Tn[c],p={type:u,pattern:l};"hour"===u&&(p.hour12=te(l));var h=Vn[u];if(h){var f=ft(h.minLength)?h.minLength:h.minLength[c],d=l.length;d>=f&&(p.names={type:h.type,nameType:Ct(d),standAlone:h.standAlone===c})}o.push(p)}i=En.lastIndex,a=En.exec(r)}return i<r.length&&Qt(o,r.substring(i)),o}function ne(t,e,n){if(e){if(Et(t))return It(t,e,n);if(ft(t))return ht(t,e,n)}return void 0!==t&&null!==t?t:ke}function re(t,e,n){return t.replace(Un,function(t,r,o){var i=e[parseInt(r,10)];return ne(i,o?o.substring(1):ke,n)})}Object.defineProperty(e,"__esModule",{value:!0});var oe={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"×",perMille:"‰",infinity:"∞",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"€","symbol-alt-narrow":"€"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}},ie={NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."},se=/\{(\d+)}?\}/g,ae=function(t){var e=t.name,n=t.message;if(!e||!n)throw new Error("{ name: string, message: string } object is required!");this.name=e,this.message=n};ae.prototype.formatMessage=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=le(t),r=this.message.replace(se,function(t,e){return n[parseInt(e,10)]});return this.name+": "+r},ae.prototype.error=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new Error(this.formatMessage(t))};var le=function(t){return t.reduce(function(t,e){return t.concat(e)},[])},ce=function(t){var e=function(e,n){return e[n]=new ae({name:n,message:t[n]}),e};return Object.keys(t).reduce(e,{})},ue=ce(ie),pe=oe,he="decimal",fe="currency",de="accounting",ve="percent",ye="scientific",ge="$",me="%",be="n",we=";",_e=",",xe=".",ke="",Se="en",Oe="Formats-numberSystem-latn",Ce="symbols-numberSystem-latn",Me=/([#,0.]+)/g,Te=/¤/g,Ee={s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},Pe=/y+/g,Ae=[["dateFormats","short"]],je={D:[["dateFormats","full"]],m:[["dateTimeFormats","availableFormats","MMMd"]],M:[["dateTimeFormats","availableFormats","MMMMd"]],y:[["dateTimeFormats","availableFormats","yMMM"]],Y:[["dateTimeFormats","availableFormats","yMMMM"]],F:[["dateFormats","full"],["timeFormats","medium"]],g:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","short"]],G:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","medium"]],t:[["timeFormats","short"]],T:[["timeFormats","medium"]]},De=ue.NoCurrency,Re=ue.NoCurrencyDisplay,Ie=ue.NoSupplementalCurrency,ze=ue.NoCurrencyRegion,Fe=ue.NoValidCurrency,Le=2,Ne="symbol",Be="XXX",Ve={"001":"USD",150:"EUR"},He=["sun","mon","tue","wed","thu","fri","sat"],Ue="001",Ke=ue.NoWeekData,qe=ue.NoFirstDay,We=ue.NoWeekData,Ge=20,$e=3,Ye=0,Xe=/0+$/,Je="__??__",Ze="#",Qe="0",tn=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,en=/(\.(?:[0-9]*[1-9])?)0+$/g,nn=/\.$/,rn=/\,/g,on=/^(n|c|p|e|a)(\d*)$/i,sn=/[eE][\-+]?[0-9]+/,an=/\u00A0/g,ln=/\{(\d+)}/g,cn=120,un=20,pn=[2,1,5,3,4],hn=-2,fn=-1,dn=1,vn=2,yn={};yn[hn.toString()]=8,yn[fn.toString()]=6,yn[vn.toString()]=6,yn[dn.toString()]=3;var gn={numeric:1,"2-digit":2,short:3,long:4,narrow:5},mn=/[hHmsSzZoOvVxX]/,bn=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:mt},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],wn={e:"c",E:"c",M:"L",Q:"q"},_n={},xn={},kn="month",Sn="hour",On="zone",Cn="weekday",Mn="quarter",Tn={G:"era",y:"year",q:Mn,Q:Mn,M:kn,L:kn,d:"day",E:Cn,c:Cn,e:Cn,h:Sn,H:Sn,k:Sn,K:Sn,m:"minute",s:"second",a:"dayperiod",x:On,X:On,z:On,Z:On},En=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g,Pn={};Pn.d=function(t,e){return K(t.getDate(),e)},Pn.E=function(t,e,n){return Mt(n,"days",e)[t.getDay()]},Pn.M=function(t,e,n){return At(t.getMonth(),e,n,!1)},Pn.L=function(t,e,n){return At(t.getMonth(),e,n,!0)},Pn.y=function(t,e){var n=t.getFullYear();return 2===e&&(n%=100),K(n,e)},Pn.h=function(t,e){var n=t.getHours()%12||12;return K(n,e)},Pn.H=function(t,e){return K(t.getHours(),e)},Pn.k=function(t,e){return K(t.getHours()||24,e)},Pn.K=function(t,e){return K(t.getHours()%12,e)},Pn.m=function(t,e){return K(t.getMinutes(),e)},Pn.s=function(t,e){return K(t.getSeconds(),e)},Pn.S=function(t,e){var n,r=t.getMilliseconds();return n=0!==r?String(t.getMilliseconds()/1e3).split(".")[1].substr(0,e):K(ke,e)},Pn.a=function(t,e,n){return Mt(n,"dayPeriods",e)[t.getHours()<12?"am":"pm"]},Pn.z=function(t,e,n){return Dt(t,n,{shortHours:e<4,optionalMinutes:e<4,separator:!0,localizedName:!0})},Pn.Z=function(t,e,n){return Dt(t,n,{separator:e>3,localizedName:4===e,zZeroOffset:5===e})},Pn.x=function(t,e,n){return Dt(t,n,{optionalMinutes:1===e,separator:3===e||5===e})},Pn.X=function(t,e,n){return Dt(t,n,{optionalMinutes:1===e,separator:3===e||5===e,zZeroOffset:!0})},Pn.G=function(t,e,n){var r=t.getFullYear()>=0?1:0;return Mt(n,"eras",e)[r]},Pn.e=Rt,Pn.c=function(t,e,n){return Rt(t,e,n,!0)},Pn.q=function(t,e,n){return jt(t,e,n,!0)},Pn.Q=jt;var An=/([+|\-]\d{1,2})(:?)(\d{2})?/,jn=/^\/Date\((.*?)\)\/$/,Dn=/[+-]\d*/,Rn={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},In=/\d+/,zn="{0}",Fn=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],Ln=["G","g","F","Y","y","M","m","D","d","y","T","t"],Nn=2029,Bn={};Bn.d=function(t){Nt("d",t);var e=Bt(2,t);return!(null!==e&&!Lt(e,1,31))||void(null===t.day&&(t.day=e))},Bn.E=function(t,e){var n=Nt("E",t),r=Vt(Mt(e,"days",n,!1,!0),t,!0);if(null===r)return!0},Bn.M=function(t,e){return qt("M",t,e)},Bn.L=function(t,e){return qt("L",t,e)},Bn.y=function(t){var e=Nt("y",t),n=Bt(1===e?void 0:e,t);if(null===n)return!0;if(2===e){var r=(new Date).getFullYear();n=r-r%100+n,n>Nn&&(n-=100)}t.year=n},Bn.h=function(t){Nt("h",t);var e=Bt(2,t);return 12===e&&(e=0),!(null!==e&&!Lt(e,0,11))||void(t.hours=e)},Bn.K=function(t){Nt("K",t);var e=Bt(2,t);return!(null!==e&&!Lt(e,0,11))||void(t.hours=e)},Bn.a=function(t,e){var n=Nt("a",t),r=Mt(e,"dayPeriods",n,!1,!0),o=Vt([r.pm],t,!0);return!o&&!Vt([r.am],t,!0)||void(t.pmHour=o)},Bn.H=function(t){Nt("H",t);var e=Bt(2,t);return!(null!==e&&!Lt(e,0,23))||void(t.hours=e)},Bn.k=function(t){Nt("k",t);var e=Bt(2,t);return!(null!==e&&!Lt(e,1,24))||void(t.hours=24===e?0:e)},Bn.m=function(t){Nt("m",t);var e=Bt(2,t);return!(null!==e&&!Lt(e,0,59))||void(t.minutes=e)},Bn.s=function(t){Nt("s",t);var e=Bt(2,t);return!(null!==e&&!Lt(e,0,59))||void(t.seconds=e)},Bn.S=function(t){var e=Nt("S",t),n=t.value.substr(t.valueIdx,e),r=null;return isNaN(parseInt(n,10))||(r=parseFloat("0."+n,10),r=q(r,3),r*=1e3,t.valueIdx+=e),!(null!==r&&!Lt(r,0,999))||void(t.milliseconds=r)},Bn.z=function(t,e){var n=Nt("z",t),r=n<4,o=Kt(t,e,{shortHours:r,optionalMinutes:r,localizedName:!0});if(o)return o},Bn.Z=function(t,e){var n=Nt("Z",t),r=Kt(t,e,{noSeparator:n<4,zLiteral:5===n,localizedName:4===n});if(r)return r},Bn.x=function(t,e){var n=Nt("x",t),r=Kt(t,e,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n});if(r)return r},Bn.X=function(t,e){var n=Nt("X",t),r=Kt(t,e,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n,zLiteral:!0});if(r)return r},Bn.G=function(t,e){var n=Nt("G",t),r=Mt(e,"eras",n,!1,!0),o=Vt([r[0],r[1]],t,!0);if(null===o)return!0},Bn.e=function(t,e){return Wt("e",t,e)},Bn.c=function(t,e){return Wt("c",t,e)};var Vn={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},Hn="literal",Un=/\{(\d+)(:[^\}]+)?\}/g;e.formatNumber=ht,e.parseNumber=yt,e.formatDate=It,e.parseDate=Zt,e.splitDateFormat=ee,e.load=x,e.setData=k,e.dateFieldName=S,e.dateFormatNames=T,e.cldr=pe,e.localeInfo=s,e.currencyDisplays=D,e.currencyDisplay=R,e.currencyFractionOptions=I,e.territoryCurrencyCode=z,e.localeCurrency=F,e.firstDay=L,e.weekendRange=N,e.numberSymbols=B,e.toString=ne,e.format=re,e.errors=ue,e.IntlError=ae,e.toIntlErrors=ce},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateService=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(37);e.TemplateService=function(){function t(){r(this,t)}return o(t,null,[{key:"compile",value:function(t){return i.Template.compile(t)}}]),t}()},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=/\$\{([^}]*)\}/g,i=/\\\}/g,s=/__CURLY__/g,a=/\\#/g,l=/__SHARP__/g,c=e.Template=function(){function t(){n(this,t)}return r(t,null,[{key:"htmlEncode",value:function(t){var e=/&/g,n=/</g,r=/"/g,o=/'/g,i=/>/g,s=String(t).replace(e,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(r,"&quot;").replace(o,"&#39;");return s}},{key:"render",value:function(t,e){var n=void 0,r=void 0,o="";for(n=0,r=e.length;n<r;n++)o+=t(e[n]);return o}},{key:"compile",value:function(e){var n="var $kendoOutput, $kendoHtmlEncode = htmlEncode;",r=void 0,c=void 0,u=t.options.paramName,p=t.options.useWithBlock;if("function"==typeof e)return e;for(n+=p?"with("+u+"){":"",n+="$kendoOutput=",r=e.replace(i,"__CURLY__").replace(o,"#=$kendoHtmlEncode($1)#").replace(s,"}").replace(a,"__SHARP__").split("#"),c=0;c<r.length;c++)n+=t.compilePart(r[c],c%2===0);n+=p?";}":";",n+="return $kendoOutput;",n=n.replace(l,"#");try{var h=new Function(u,"htmlEncode",n);return function(e){return h(e,t.htmlEncode)}}catch(t){throw new Error("Invalid template:'"+e+"' Generated code:'"+n+"'")}}},{key:"compilePart",value:function(t,e){if(e)return"'"+t.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=t.charAt(0),r=t.substring(1);return"="===n?"+("+r+")+":":"===n?"+$kendoHtmlEncode("+r+")+":";"+t+";$kendoOutput+="}}]),t}();c.options={useWithBlock:!0,paramName:"dataItem"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeService=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(25),l=n(39),c=n(40),u=function(t){return t.fontSize+" "+t.fontFamily},p=function(t){return t.toLowerCase().charCodeAt(0)-"a".charCodeAt(0)},h=function(t){return p(t.match(/series-([a-z])$/)[1])},f='\n    <div class="k-var--accent"></div>\n    <div class="k-var--accent-contrast"></div>\n    <div class="k-var--base"></div>\n    <div class="k-var--background"></div>\n\n    <div class="k-var--normal-background"></div>\n    <div class="k-var--normal-text-color"></div>\n    <div class="k-var--hover-background"></div>\n    <div class="k-var--hover-text-color"></div>\n    <div class="k-var--selected-background"></div>\n    <div class="k-var--selected-text-color"></div>\n    <div class="k-var--chart-error-bars-background"></div>\n    <div class="k-var--chart-notes-background"></div>\n    <div class="k-var--chart-notes-border"></div>\n    <div class="k-var--chart-notes-lines"></div>\n    <div class="k-var--chart-crosshair-background"></div>\n\n    <div class="k-var--chart-inactive"></div>\n    <div class="k-var--chart-major-lines"></div>\n    <div class="k-var--chart-minor-lines"></div>\n    <div class="k-var--chart-area-opacity"></div>\n\n    <div class="k-widget">\n        <div class="k-var--chart-font"></div>\n        <div class="k-var--chart-title-font"></div>\n        <div class="k-var--chart-label-font"></div>\n    </div>\n\n    <div class="k-var--series">\n      <div class="k-var--series-a"></div>\n      <div class="k-var--series-b"></div>\n      <div class="k-var--series-c"></div>\n      <div class="k-var--series-d"></div>\n      <div class="k-var--series-e"></div>\n      <div class="k-var--series-f"></div>\n    </div>\n';
e.ThemeService=function(t){function e(){var t,n,i,s;r(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),i.loaded=!1,i.element=null,s=n,o(i,s)}return i(e,t),s(e,[{key:"reset",value:function(){this.loaded=!1}},{key:"getThemeOptions",value:function(){return this.store}},{key:"loadTheme",value:function(){this.readTheme()||this.readDefaultTheme(),this.loaded=!0}},{key:"readTheme",value:function(){this.createElement();var t=this.queryColor("accent"),e=this.queryColor("accent-contrast");if(this.loaded&&this.currentAccentColor&&this.currentAccentColor===t)return!0;var n=t!==e;try{n&&(this.currentAccentColor=t,this.push((0,a.chartBaseTheme)()),this.setColors(),this.setFonts(),this.setSeriesColors())}finally{this.destroyElement()}return n}},{key:"readDefaultTheme",value:function(){this.push((0,l.chartDefaultTheme)())}},{key:"createElement",value:function(){var t=this.element=document.createElement("div");t.style.display="none",t.innerHTML=f,document.body.appendChild(t)}},{key:"destroyElement",value:function(){this.element&&(document.body.removeChild(this.element),this.element=void 0)}},{key:"setStyle",value:function(t,e){this.set(t,e)}},{key:"setColors",value:function(){this.mapColor("axisDefaults.crosshair.color","chart-crosshair-background"),this.mapColor("axisDefaults.labels.color","normal-text-color"),this.mapColor("axisDefaults.line.color","chart-major-lines"),this.mapColor("axisDefaults.majorGridLines.color","chart-major-lines"),this.mapColor("axisDefaults.minorGridLines.color","chart-minor-lines"),this.mapColor("axisDefaults.notes.icon.background","chart-notes-background"),this.mapColor("axisDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("axisDefaults.notes.line.color","chart-notes-lines"),this.mapColor("axisDefaults.title.color","normal-text-color"),this.mapColor("chartArea.background","background"),this.mapColor("legend.inactiveItems.labels.color","chart-inactive"),this.mapColor("legend.inactiveItems.markers.color","chart-inactive"),this.mapColor("legend.labels.color","normal-text-color"),this.mapColor("seriesDefaults.boxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.boxPlot.mean.color","base"),this.mapColor("seriesDefaults.boxPlot.median.color","base"),this.mapColor("seriesDefaults.boxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.bullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.candlestick.downColor","normal-text-color"),this.mapColor("seriesDefaults.candlestick.line.color","normal-text-color"),this.mapColor("seriesDefaults.errorBars.color","chart-error-bars-background"),this.mapColor("seriesDefaults.horizontalWaterfall.line.color","chart-major-lines"),this.mapColor("seriesDefaults.icon.border.color","chart-major-lines"),this.mapColor("seriesDefaults.labels.background","background"),this.mapColor("seriesDefaults.labels.color","normal-text-color"),this.mapColor("seriesDefaults.notes.icon.background","chart-notes-background"),this.mapColor("seriesDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("seriesDefaults.notes.line.color","chart-notes-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.mean.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.median.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.verticalBullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.waterfall.line.color","chart-major-lines"),this.mapColor("title.color","normal-text-color");var t=parseFloat(this.queryStyle("chart-area-opacity").opacity);isNaN(t)||(this.setStyle("seriesDefaults.area.opacity",t),this.setStyle("seriesDefaults.labels.opacity",t))}},{key:"setFonts",value:function(){var t=u(this.queryStyle("chart-font")),e=u(this.queryStyle("chart-title-font")),n=u(this.queryStyle("chart-label-font"));this.setStyle("axisDefaults.labels.font",n),this.setStyle("axisDefaults.notes.label.font",t),this.setStyle("axisDefaults.title.font",t),this.setStyle("legend.labels.font",t),this.setStyle("seriesDefaults.labels.font",n),this.setStyle("seriesDefaults.notes.label.font",t),this.setStyle("title.font",e)}},{key:"setSeriesColors",value:function(){var t=this.element,e=[].slice.call(t.querySelectorAll(".k-var--series div")),n=e.reduce(function(t,e){var n=h(e.className);return t[n]=window.getComputedStyle(e).backgroundColor,t},[]);this.setStyle("seriesColors",n)}},{key:"mapColor",value:function(t,e){this.setStyle(t,this.queryColor(e))}},{key:"queryColor",value:function(t){return this.queryStyle(t).backgroundColor}},{key:"queryStyle",value:function(t){var e=this.element;return window.getComputedStyle(e.querySelector(".k-var--"+t))}}]),e}(c.ConfigurationService)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.chartDefaultTheme=void 0;var r=n(25);e.chartDefaultTheme=function(){return Object.assign({},(0,r.chartBaseTheme)(),{axisDefaults:{crosshair:{color:"rgba(0, 0, 0, 0.5)"},labels:{color:"rgb(101, 101, 101)",font:"12px serif"},line:{color:"rgba(0, 0, 0, 0.08)"},majorGridLines:{color:"rgba(0, 0, 0, 0.08)"},minorGridLines:{color:"rgba(0, 0, 0, 0.04)"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},title:{color:"rgb(101, 101, 101)",font:"14px serif"}},chartArea:{background:"rgb(255, 255, 255)"},legend:{inactiveItems:{labels:{color:"rgba(102, 102, 102, 0.5)"},markers:{color:"rgba(102, 102, 102, 0.5)"}},labels:{color:"rgb(101, 101, 101)",font:"14px serif"}},seriesDefaults:{boxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},bullet:{target:{color:"rgb(101, 101, 101)"}},candlestick:{downColor:"rgb(101, 101, 101)",line:{color:"rgb(101, 101, 101)"}},errorBars:{color:"rgba(0, 0, 0, 0.5)"},horizontalWaterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},icon:{border:{color:"rgba(0, 0, 0, 0.08)"}},labels:{background:"rgb(255, 255, 255)",color:"rgb(101, 101, 101)",opacity:.8,font:"12px serif"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},verticalBoxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},verticalBullet:{target:{color:"rgb(101, 101, 101)"}},waterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},area:{opacity:.8}},title:{color:"rgb(101, 101, 101)",font:"16px serif"},seriesColors:["rgb(255, 99, 88)","rgb(255, 210, 70)","rgb(120, 210, 55)","rgb(40, 180, 200)","rgb(45, 115, 245)","rgb(170, 70, 190)"]})}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.ConfigurationService=function(){function t(){n(this,t),this.store={}}return r(t,[{key:"push",value:function(t){this.store=t}},{key:"set",value:function(t,e){for(var n=this.store,r=t.split("."),o=r.shift();r.length>0;)n=n[o]=n[o]||{},o=r.shift();n[o]=e}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(42);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.ColumnMenu,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initColumnMenu=r;var o=n(43),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnMenu=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c="keydown";e.ColumnMenu=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,itemListDataId:"",jsinterop:{itemListKeyDown:""}},i.onKeyDown=function(t){var e=[l.Key.ARROWRIGHT,l.Key.ARROWLEFT,l.Key.ARROWUP,l.Key.ARROWDOWN].includes(t.key);if(t.key===l.Key.TAB){var n=t.target.closest(".k-columnmenu-item-wrapper"),r=n?n.querySelector(".k-columnmenu-item"):null,o=r?r.getAttribute("aria-expanded"):"",i="true"===o;(!i||i&&t.target===r&&t.shiftKey)&&t.preventDefault()}else e&&(0,l.hasClass)("k-columnmenu-item",t.target)&&t.preventDefault()},i.onItemListKeyDown=function(t){var e=(0,l.isFocusable)(t.target),n=t.target.closest(".k-filter-menu");if(!e||!n||t.key!==l.Key.ARROWUP&&t.key!==l.Key.ARROWDOWN||t.shiftKey){var r=(0,l.converToKeyboardEventArgs)(t);i.invokeMethodAsync(i.options.jsinterop.itemListKeyDown,r)}},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){var t=this.getItemListElement();t&&t.addEventListener(c,this.onItemListKeyDown),this.element.addEventListener(c,this.onKeyDown)}},{key:"unbindEvents",value:function(){var t=this.getItemListElement();t&&t.removeEventListener(c,this.onItemListKeyDown),this.element.removeEventListener(c,this.onKeyDown)}},{key:"getItemListElement",value:function(){return(0,l.getElementByDataId)(this.options.itemListDataId)}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){var n=(0,i.getComponentInstance)(t);if(!n){var r=new o.ContextMenu(null,e);(0,i.setComponentInstance)(t,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.initContextMenu=r;var o=n(46),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenu=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1);e.ContextMenu=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={selector:"",popupId:""},i.onContextMenu=function(t){t.preventDefault(),i.activeElement=t.target,i.openPopup(t.pageX,t.pageY)},i.onPopupKeyDown=function(t){t.key===l.Key.ESC&&(i.closePopup(),i.activeElement.focus())},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.anchors=null}},{key:"bindEvents",value:function(){var t=this;this.anchors=document.querySelectorAll(this.options.selector),this.anchors.forEach(function(e){e.addEventListener("contextmenu",t.onContextMenu)});var e=(0,l.getElementByDataId)(this.options.popupId);e.addEventListener("keydown",this.onPopupKeyDown)}},{key:"unbindEvents",value:function(){var t=this;this.anchors.forEach(function(e){e.removeEventListener("contextmenu",t.onContextMenu)})}},{key:"openContextMenu",value:function(t){var e=t.clientX+window.scrollX,n=t.clientY+window.scrollY;this.openPopup(e,n)}},{key:"focusFirstMenuItem",value:function(){var t=document.querySelector(".k-context-menu .k-item");t&&t.focus()}},{key:"openPopup",value:function(t,e){var n=(0,l.getComponentInstance)(this.options.popupId);n.openAsync(null,t,e)}},{key:"closePopup",value:function(){var t=(0,l.getComponentInstance)(this.options.popupId);t.closeAsync()}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(48);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(52);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(57);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(59);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.Groupable,(0,s.addComponentSuffix)(t,"Groupable"),e)}function o(t){(0,s.destroyComponent)((0,s.addComponentSuffix)(t,"Groupable"))}Object.defineProperty(e,"__esModule",{value:!0}),e.initGroupable=r,e.destroyGroupable=o;var i=n(49),s=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Groupable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(50),c=n(1),u=n(51),p=(0,u.toDataAttr)("field"),h=(0,u.toDataAttr)("text"),f={indicatorContainer:"k-indicator-container"};e.Groupable=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,parentSelector:".k-grid",dropTargetSelector:".k-grouping-header",dropTarget:{group:null,itemSelector:(0,u.toClassSelector)(f.indicatorContainer)},jsinterop:{addGroup:""}},i.onDropTargetDrop=function(t){var e=t.draggable.originalCurrentTarget,n=e.getAttribute(p),r=t.draggable.getElementUnderCursor(t),o=r.closest(i.dropTarget.options.itemSelector),s=e.getAttribute(h),a=(0,u.getElementIndex)(o);if(a<0){var l=(0,u.last)(i.dropTarget.element.querySelectorAll(i.dropTarget.options.itemSelector));a=(0,u.getElementIndex)(l)}n&&a>=0&&i.invokeAddGroup({field:n,title:s,index:a})},i.allowsDragFrom=function(t){var e=!i.containsGroup(t.originalCurrentTarget)&&t.originalCurrentTarget.hasAttribute(p);return e},i.allowsDropFrom=function(t){var e=!i.containsGroup(t.originalCurrentTarget);return e},i.extendOptions(n),i.createDropTarget(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyDropTarget(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"createDropTarget",value:function(){var t=this.element.closest(this.options.parentSelector).querySelector(this.options.dropTargetSelector);t&&(this.dropTarget=new l.DropTarget(t,(0,c.deepExtend)(this.options.dropTarget,{allowsDragFrom:this.allowsDragFrom,allowsDropFrom:this.allowsDropFrom,events:{drop:this.onDropTargetDrop}})))}},{key:"destroyDropTarget",value:function(){this.dropTarget&&this.dropTarget.destroy()}},{key:"containsGroup",value:function(t){var e=t.getAttribute(p),n=Array.from(this.element.querySelectorAll((0,u.toClassSelector)(f.indicatorContainer))).map(function(t){return t.getAttribute(p)}).includes(e);return n}},{key:"invokeAddGroup",value:function(t){this.invokeMethodAsync(this.options.jsinterop.addGroup,t)}}]),e}(c.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DropTarget=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=e.DropTarget=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={id:(0,l.guid)(),group:null,itemSelector:"",allowsDragFrom:function(){return!0},allowsDropFrom:function(){return!0},events:{dragEnter:null,dragLeave:null,dragOver:null,drop:null}},i.extendOptions(n),(0,l.setComponentInstance)(i.options.id,i),e.InstancesByGroup[i.options.group]||(e.InstancesByGroup[i.options.group]=new Set),e.InstancesByGroup[i.options.group].add(i),i}return i(e,t),s(e,[{key:"destroy",value:function(){e.InstancesByGroup[this.options.group]&&e.InstancesByGroup[this.options.group].delete(this),(0,l.removeComponentInstance)(this.options.id),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"triggerDragEnter",value:function(t){this.trigger("dragEnter",t)}},{key:"triggerDragLeave",value:function(t){this.trigger("dragLeave",t)}},{key:"triggerDragOver",value:function(t){this.trigger("dragOver",t)}},{key:"triggerDrop",value:function(t){this.trigger("drop",t)}},{key:"allowsDragFrom",value:function t(e,n){var t=e&&e.options.group===this.options.group&&this.options.allowsDragFrom(e,n);return t}},{key:"allowsDropFrom",value:function t(e,n){var t=e&&e.options.group===this.options.group&&this.options.allowsDropFrom(e,n);return t}}]),e}(l.Component);c.InstancesByGroup={},c.forEachInstanceInGroup=function(t,e){var n=c.InstancesByGroup[t]||new Set,r=!0,o=!1,i=void 0;try{for(var s,a=n[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value;l&&l instanceof c&&e(l)}}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return"undefined"!=typeof t},r=(e.toDataAttr=function(t){return"data-"+t},e.isFunction=function(t){return"function"==typeof t},e.last=function(t){if(t.length)return t[t.length-1]},e.getElementFromPoint=function(t){var e=t.clientX,r=t.clientY;if(n(e)&&n(r))return document.elementFromPoint(e,r)},e.getElementIndex=function(t,e){if(!t)return[].indexOf(t);var n=Array.from(t.parentElement.children);return e&&(n=n.filter(function(t){return t.matches(e)})),Array.from(n).indexOf(t)},e.preventDefault=function(t){t.preventDefault&&t.preventDefault(),t.originalEvent&&t.originalEvent.preventDefault()},e.convertToHtml=function(t){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild},e.htmlEncode=function(t){var e=/&/g,n=/</g,r=/"/g,o=/'/g,i=/>/g,s=String(t).replace(e,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(r,"&quot;").replace(o,"&#39;");return s},function(t){return t.ownerDocument.documentElement}),o=function(t){return t.ownerDocument.defaultView};e.getOffset=function(t){var e=r(t),n=e.clientTop,i=e.clientLeft,s=o(t),a=s.pageYOffset,l=s.pageXOffset,c=t.getBoundingClientRect(),u=c.top,p=c.left;return{top:u+a-n,left:p+l-i}},e.toClassSelector=function(t){return"."+t}},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.initComponent)(i.ColumnDraggable,(0,s.addComponentSuffix)(t,"ColumnDraggable"),e)}function o(t){(0,s.destroyComponent)((0,s.addComponentSuffix)(t,"ColumnDraggable"))}Object.defineProperty(e,"__esModule",{value:!0}),e.initColumnDraggable=r,e.destroyColumnDraggable=o;var i=n(53),s=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnDraggable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(54),c=n(51),u=n(1),p=n(56),h=(0,c.toDataAttr)("field"),f=(0,c.toDataAttr)("text"),d={dragStatus:"k-drag-status",dropAllowed:"k-i-plus",dropForbidden:"k-i-cancel",dropClue:"k-grouping-dropclue"},v=function(t){if(t instanceof HTMLElement){var e=t.getAttribute(f)||t.getAttribute(h)||"";return(0,c.htmlEncode)(e)}return""},y=function(t){var e=(0,u.stringifyToStyle)({position:"absolute","z-index":2e4}),n=v(t),r=t.getAttribute(h)||"",o=t.getAttribute(f)||"",i=(0,c.convertToHtml)('<div class="k-header k-drag-clue" style="'+e+'" data-field="'+r+'" data-text="'+o+'">\n            <span class="k-icon k-drag-status k-i-cancel k-icon-with-modifier">\n                <span class="k-icon k-icon-modifier"></span>\n            </span>\n            '+n+"\n        </div>");return i},g=function(t,e){if(!t||!e)return!1;var n=t.parentElement===e.parentElement;return n&&(0,c.getElementIndex)(t)>(0,c.getElementIndex)(e)};e.ColumnDraggable=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={parentSelector:".k-grid",draggableSourceSelector:".k-grid-header",draggable:{group:null,filter:"th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",ignore:".k-grid-filter, .k-checkbox, .k-column-resizer"}},i.onDraggableDrag=function(t){i.canDragToAnyDropTarget(t)||t.preventDefault()},i.onDraggableDrop=function(t){t.dropTarget.allowsDropFrom(t.sender,t)&&document.activeElement&&document.activeElement.blur(),i.destroyDropClue()},i.onDropTargetLeave=function(){i.showDisabledHint(),i.destroyDropClue()},i.onDropTargetOver=function(t){i.canDrop(t)?i.showDropAllowedIndicators(t):i.showDropForbiddenIndicators()},i.ignoreElementUnderCursor=function(t){var e=t.closest((0,c.toClassSelector)(d.dropClue));return Boolean(e)},i.extendOptions(n),i.createDraggable(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyDropClue(),this.destroyDraggable(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"extendOptions",value:function(t){this.options=(0,u.deepExtend)(this.options,t)}},{key:"createDraggable",value:function(){var t=this.element.closest(this.options.parentSelector).querySelector(this.options.draggableSourceSelector);t&&(this.draggable=new l.Draggable(t,(0,u.deepExtend)(this.options.draggable,{hint:y,ignoreElementUnderCursor:this.ignoreElementUnderCursor,events:{drag:this.onDraggableDrag,drop:this.onDraggableDrop,dropTargetLeave:this.onDropTargetLeave,dropTargetOver:this.onDropTargetOver}})))}},{key:"destroyDraggable",value:function(){this.draggable&&this.draggable.destroy()}},{key:"canDragToAnyDropTarget",value:function t(e){var n=this,t=!1;return this.draggable.forEachDropTarget(function(r){t=t||r.allowsDragFrom(n.draggable,e)}),t}},{key:"canDrop",value:function(t){return t.dropTarget&&t.dropTarget.allowsDropFrom(this.draggable,t)}},{key:"showEnabledHint",value:function(){var t=this.draggable.hint;if(t){var e=t.querySelector((0,c.toClassSelector)(d.dragStatus));(0,u.removeClass)(d.dropForbidden,e),(0,u.addClass)(d.dropAllowed,e)}}},{key:"showDisabledHint",value:function(){var t=this.draggable.hint;if(t){var e=t.querySelector((0,c.toClassSelector)(d.dragStatus));(0,u.addClass)(d.dropForbidden,e),(0,u.removeClass)(d.dropAllowed,e)}}},{key:"createDropClue",value:function(){this.dropClue||(this.dropClue=new p.DropClue)}},{key:"destroyDropClue",value:function(){this.dropClue&&(this.dropClue.destroy(),this.dropClue=null)}},{key:"addDropClue",value:function(t){if(t.dropTarget&&t.elementUnderCursor){var e=t.elementUnderCursor.closest(t.dropTarget.options.itemSelector)||t.elementUnderCursor,n=g(e,t.draggable.originalCurrentTarget),r=this.getDropClueOffsetElement({elementUnderCursor:e,dropTargetItemSelector:t.dropTarget.options.itemSelector,dropTargeElement:t.dropTarget.element});if(r){this.createDropClue();var o=this.dropClue.getOffsetState(r,n);this.showDropClue(o)}}}},{key:"getDropClueOffsetElement",value:function(t){var e=t.elementUnderCursor,n=t.dropTargeElement,r=t.dropTargetItemSelector,o=e.closest(r),i=o;if(!o){var s=(0,c.last)(n.querySelectorAll(r));s&&(i=s)}return i}},{key:"showDropClue",value:function(t){var e=t.top,n=t.left,r=t.height;this.dropClue||this.createDropClue(),this.dropClue.setState({top:e,left:n,height:r}),this.dropClue.show()}},{key:"hideDropClue",value:function(){this.dropClue&&this.dropClue.hide()}},{key:"showDropAllowedIndicators",value:function(t){this.showEnabledHint(),this.addDropClue(t)}},{key:"showDropForbiddenIndicators",value:function(){this.showDisabledHint(),this.destroyDropClue()}}]),e}(u.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Draggable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(55),c=n(50),u=n(51),p=n(1),h=function(t,e){return!!(e&&t&&t.closest(e))};e.Draggable=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={events:{dragStart:null,drag:null,dragEnd:null,dropTargetEnter:null},offset:{x:0,y:0},filter:null,ignore:"",hint:null,group:null,ignoreElementUnderCursor:function(){return!1}},i.onPress=function(t){return i.dragStarted=!1,h(t.originalEvent.target,i.options.ignore)?void(i.originalCurrentTarget=null):void(h(t.originalEvent.target,i.options.filter)?((0,u.preventDefault)(t),i.originalCurrentTarget=t.originalEvent.target.closest(i.options.filter),i.dragStarted=!0,i.triggerDragStart(t)):i.originalCurrentTarget=null)},i.onDrag=function(t){var e=(0,p.extend)(t,{originalCurrentTarget:i.originalCurrentTarget});if(i.originalCurrentTarget&&((0,u.preventDefault)(e),i.dragStarted)){i.processDropTargetIntersection(e);var n=i.triggerDrag((0,p.extend)(e,{dropTarget:i.getLastDropTarget()}));if(!n){!i.hint&&i.options.hint&&(i.createHint(i.originalCurrentTarget),i.appendHint());var r=i.getOffset();i.dragHint({top:e.pageY+r.y,left:e.pageX+r.x}),i.triggerDropTargetDragOver(e)}}},i.onRelease=function(t){i.originalCurrentTarget&&((0,u.preventDefault)(t),i.processDropTargetDrop(t),i.destroyHint(),i.triggerDragEnd(t))},i.extendOptions(n),i.initDraggableEvents(t),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyDraggableEvents(),this.destroyHint(),this.lastDropTargetId=null,this.originalCurrentTarget=null,a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"initDraggableEvents",value:function(){this.destroyDraggableEvents(),this.draggableEvents=new l.Draggable({press:this.onPress,drag:this.onDrag,release:this.onRelease}),this.draggableEvents.bindTo(this.element)}},{key:"destroyDraggableEvents",value:function(){this.draggableEvents&&this.draggableEvents.destroy&&this.draggableEvents.destroy()}},{key:"triggerDragStart",value:function(t){this.trigger("dragStart",t)}},{key:"triggerDrag",value:function(t){return this.trigger("drag",t)}},{key:"triggerDragEnd",value:function(t){this.trigger("dragEnd",t)}},{key:"trigger",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"trigger",this).call(this,t,(0,
p.extend)(n,{originalCurrentTarget:this.originalCurrentTarget,elementUnderCursor:this.getElementUnderCursor(n)}))}},{key:"triggerDropTargetDragEnter",value:function(t,e){t&&(t.triggerDragEnter((0,p.extend)(e,{draggable:this})),this.triggerDropTargetEnter((0,p.extend)(e,{dropTarget:t})))}},{key:"triggerDropTargetEnter",value:function(t){this.trigger("dropTargetEnter",t)}},{key:"triggerDropTargetDragLeave",value:function(t,e){t&&(t.triggerDragLeave((0,p.extend)(e,{draggable:this})),this.triggerDropTargetLeave((0,p.extend)(e,{dropTarget:t})))}},{key:"triggerDropTargetLeave",value:function(t){this.trigger("dropTargetLeave",(0,p.extend)(t,{dropTarget:this.dropTarget}))}},{key:"triggerDropTargetDragOver",value:function(t){if(this.lastDropTargetId){var e=(0,p.getComponentInstance)(this.lastDropTargetId);if(!e)return;e.triggerDragOver((0,p.extend)(t,{draggable:this})),this.triggerDropTargetOver((0,p.extend)(t,{dropTarget:e}))}}},{key:"triggerDropTargetOver",value:function(t){this.trigger("dropTargetOver",t)}},{key:"triggerDropTargetDrop",value:function(t,e){var n=(0,p.extend)(e,{elementUnderCursor:this.getElementUnderCursor(e)});t&&(t.allowsDropFrom(this,n)&&t.triggerDrop((0,p.extend)(n,{draggable:this})),this.triggerDrop((0,p.extend)(n,{dropTarget:t})))}},{key:"triggerDrop",value:function(t){this.trigger("drop",t)}},{key:"processDropTargetIntersection",value:function(t){var e=this,n=this.getElementUnderCursor(t),r=!1;this.forEachDropTarget(function(o){var i=o.element.contains(n),s=(0,p.getComponentInstance)(e.lastDropTargetId);r=r||i,i&&e.lastDropTargetId!==o.options.id&&(e.triggerDropTargetDragLeave(s,t),e.lastDropTargetId=o.options.id,e.triggerDropTargetDragEnter(o,t))}),r||(this.triggerDropTargetDragLeave(this.getLastDropTarget(),t),this.lastDropTargetId=null)}},{key:"processDropTargetDrop",value:function(t){var e=this;this.forEachDropTarget(function(n){var r=e.getElementUnderCursor(t);n.element.contains(r)&&(e.lastDropTargetId=null,e.triggerDropTargetDrop(n,t))})}},{key:"getOffset",value:function(){return(0,u.isFunction)(this.options.offset)?this.options.offset(this.hint):this.options.offset}},{key:"createHint",value:function(t){this.hint=(0,u.isFunction)(this.options.hint)?this.options.hint(t):this.options.hint}},{key:"destroyHint",value:function(){this.hint&&(this.removeHint(),this.hint=null)}},{key:"showHint",value:function(){(0,p.showElement)(this.hint)}},{key:"hideHint",value:function(){(0,p.hideElement)(this.hint)}},{key:"appendHint",value:function(){document.body.appendChild(this.hint)}},{key:"removeHint",value:function(){document.body.removeChild(this.hint)}},{key:"dragHint",value:function(t){var e=t.top,n=t.left;this.setHintState({top:e,left:n})}},{key:"setHintState",value:function(t){var e=t.top,n=t.left;this.hint&&this.setHintPosition({top:e,left:n})}},{key:"setHintPosition",value:function(t){var e=t.top,n=void 0===e?0:e,r=t.left,o=void 0===r?0:r,i=this.hint.getBoundingClientRect(),s=i.width,a=i.height,l=n-a/2,c=o-s/2;this.hint.style.top=l+"px",this.hint.style.left=c+"px"}},{key:"getElementUnderCursor",value:function(t){var e=(0,u.getElementFromPoint)(t);if(this.hint&&this.hint.contains(e)){if(this.hideHint(),e=(0,u.getElementFromPoint)(t),this.options.ignoreElementUnderCursor(e)){var n=e;(0,p.hideElement)(n);var r=(0,u.getElementFromPoint)(t);r&&(e=r),(0,p.showElement)(n)}this.showHint()}return e}},{key:"forEachDropTarget",value:function(t){c.DropTarget.forEachInstanceInGroup(this.options.group,t)}},{key:"getLastDropTarget",value:function(){return(0,p.getComponentInstance)(this.lastDropTargetId)}}]),e}(p.Component)},function(t,e){"use strict";function n(t){return t.type.match(l)?{pageX:t.changedTouches[0].pageX,pageY:t.changedTouches[0].pageY,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,type:t.type,originalEvent:t,isTouch:!0}:{pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY,offsetX:t.offsetX,offsetY:t.offsetY,type:t.type,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,originalEvent:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return function(n){return e(t(n))}},o=function(t,e,n){return t.addEventListener&&t.addEventListener(e,n)},i=function(t,e,n){return t&&t.removeEventListener&&t.removeEventListener(e,n)},s=function(){},a=function(t){return t.preventDefault()},l=/touch/,c=2e3,u=function(t){var e=this,l=t.press;void 0===l&&(l=s);var u=t.drag;void 0===u&&(u=s);var p=t.release;void 0===p&&(p=s);var h=t.mouseOnly;void 0===h&&(h=!1),this._pressHandler=r(n,l),this._dragHandler=r(n,u),this._releaseHandler=r(n,p),this._ignoreMouse=!1,this._mouseOnly=h,this._touchstart=function(t){1===t.touches.length&&e._pressHandler(t)},this._touchmove=function(t){1===t.touches.length&&e._dragHandler(t)},this._touchend=function(t){0===t.touches.length&&1===t.changedTouches.length&&(e._releaseHandler(t),e._ignoreMouse=!0,setTimeout(e._restoreMouse,c))},this._restoreMouse=function(){e._ignoreMouse=!1},this._mousedown=function(t){var n=t.which;n&&n>1||e._ignoreMouse||(o(document,"mousemove",e._mousemove),o(document,"mouseup",e._mouseup),e._pressHandler(t))},this._mousemove=function(t){e._dragHandler(t)},this._mouseup=function(t){i(document,"mousemove",e._mousemove),i(document,"mouseup",e._mouseup),e._releaseHandler(t)},this._pointerdown=function(t){t.isPrimary&&0===t.button&&(o(document,"pointermove",e._pointermove),o(document,"pointerup",e._pointerup),o(document,"pointercancel",e._pointerup),o(document,"contextmenu",a),e._pressHandler(t))},this._pointermove=function(t){t.isPrimary&&e._dragHandler(t)},this._pointerup=function(t){t.isPrimary&&(i(document,"pointermove",e._pointermove),i(document,"pointerup",e._pointerup),i(document,"pointercancel",e._pointerup),i(document,"contextmenu",a),e._releaseHandler(t))}};u.supportPointerEvent=function(){return"undefined"!=typeof window&&window.PointerEvent},u.prototype.bindTo=function(t){t!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=t,this._bindToCurrent())},u.prototype._bindToCurrent=function(){var t=this._element;return this._usePointers()?void o(t,"pointerdown",this._pointerdown):(o(t,"mousedown",this._mousedown),void(this._mouseOnly||(o(t,"touchstart",this._touchstart),o(t,"touchmove",this._touchmove),o(t,"touchend",this._touchend))))},u.prototype._unbindFromCurrent=function(){var t=this._element;return this._usePointers()?(i(t,"pointerdown",this._pointerdown),i(document,"pointermove",this._pointermove),i(document,"pointerup",this._pointerup),i(document,"contextmenu",a),void i(document,"pointercancel",this._pointerup)):(i(t,"mousedown",this._mousedown),void(this._mouseOnly||(i(t,"touchstart",this._touchstart),i(t,"touchmove",this._touchmove),i(t,"touchend",this._touchend))))},u.prototype._usePointers=function(){return!this._mouseOnly&&u.supportPointerEvent()},u.prototype.destroy=function(){this._unbindFromCurrent(),this._element=null},u.default=u,e.Draggable=u,e.default=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DropClue=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(51),s=n(1);e.DropClue=function(){function t(e){r(this,t),this.options={appendTo:document.body,template:function(){var t=(0,s.stringifyToStyle)({position:"absolute","z-index":1e4});return'<div class="k-grouping-dropclue" style="'+t+'" />'}()},this.extendOptions(e),this.initElement(),this.append()}return o(t,[{key:"destroy",value:function(){this.remove()}},{key:"extendOptions",value:function(t){this.options=(0,s.extend)(this.options,t)}},{key:"initElement",value:function(){this.element=(0,i.convertToHtml)(this.options.template)}},{key:"append",value:function(){this.hide(),this.options.appendTo.appendChild(this.element)}},{key:"remove",value:function(){this.options.appendTo.removeChild(this.element),this.element=null}},{key:"show",value:function(){(0,s.showElement)(this.element)}},{key:"hide",value:function(){(0,s.hideElement)(this.element)}},{key:"setState",value:function(t){var e=t.top,n=t.left,r=t.height,o=t.visible;this.setPosition({top:e,left:n}),this.setVisibility(o),this.setSize({height:r})}},{key:"setSize",value:function(t){var e=t.height;this.element.style.height=e+"px"}},{key:"setVisibility",value:function(t){t?this.show():this.hide()}},{key:"setPosition",value:function(t){var e=t.top,n=void 0===e?0:e,r=t.left,o=void 0===r?0:r;this.element.style.top=n+"px",this.element.style.left=o+"px"}},{key:"getOffsetState",value:function(t,e){var n=(0,i.getOffset)(t),r=t.offsetWidth,o=t.offsetHeight;return{top:n.top,left:n.left+(e?r:0),height:o}}}]),t}()},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.ColumnReorderable,(0,s.addComponentSuffix)(t,"ColumnReorderable"),e)}function o(t){(0,s.destroyComponent)((0,s.addComponentSuffix)(t,"ColumnReorderable"))}Object.defineProperty(e,"__esModule",{value:!0}),e.initColumnReorderable=r,e.destroyColumnReorderable=o;var i=n(58),s=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnReorderable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(50),c=n(51),u=n(1),p=(0,c.toDataAttr)("reorderable");e.ColumnReorderable=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={parentSelector:".k-grid",reorderableSourceSelector:".k-grid-header",dropTarget:{itemSelector:"th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)"}},i.allowsDragFrom=function(t){var e=Boolean(t.originalCurrentTarget.getAttribute(p)),n=i.dropTarget.element.querySelectorAll(i.options.dropTarget.itemSelector).length>1;return e&&n},i.allowsDropFrom=function(t,e){var n=e.elementUnderCursor.closest(i.options.dropTarget.itemSelector),r=t.originalCurrentTarget,o=Boolean(r.getAttribute(p));return o&&n&&n!==r},i.onDropTargetDrop=function(t){var e=t.draggable.originalCurrentTarget,n=t.elementUnderCursor.closest(i.options.dropTarget.itemSelector),r=(0,c.getElementIndex)(e,i.options.dropTarget.itemSelector),o=(0,c.getElementIndex)(n,i.options.dropTarget.itemSelector);document.activeElement&&document.activeElement.blur(),i.reorderColumn(r,o)},i.extendOptions(n),i.createDropTarget(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyDropTarget(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"createDropTarget",value:function(){this.dropTarget=new l.DropTarget(this.element.closest(this.options.parentSelector).querySelector(this.options.reorderableSourceSelector),(0,u.deepExtend)(this.options.dropTarget,{allowsDragFrom:this.allowsDragFrom,allowsDropFrom:this.allowsDropFrom,events:{drop:this.onDropTargetDrop}}))}},{key:"destroyDropTarget",value:function(){this.dropTarget&&this.dropTarget.destroy()}},{key:"reorderColumn",value:function(t,e){t>=0&&e>=0&&t!==e&&this.invokeMethodAsync(this.options.jsinterop.reorderColumn,{fromIndex:t,toIndex:e})}}]),e}(u.Component)},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.ColumnResizable,(0,s.addComponentSuffix)(t,"ColumnResizable"),e)}function o(t){(0,s.destroyComponent)((0,s.addComponentSuffix)(t,"ColumnResizable"))}Object.defineProperty(e,"__esModule",{value:!0}),e.initColumnResizable=r,e.destroyColumnResizable=o;var i=n(60),s=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnResizable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(61),c=n(51),u=n(1),p=Array.from,h=function(t){return parseFloat(t)+"px"},f=function(t,e){t.style.width=h(e)},d=function(t){var e=t.getBoundingClientRect().width;return e},v=function(t){return Boolean(t.style.width)},y=function(t,e){return Math.max(t,e)},g=function(t,e){t.style.left=h(e)},m=function(t,e){t.style.right=h(e)},b=function(t){var e=(0,u.hasAnyClass)(["k-grid-content-sticky","k-grid-header-sticky","k-grid-footer-sticky"],t);return e};e.ColumnResizable=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={parentSelector:".k-grid",resizableSourceSelector:".k-grid-header",columnSelector:"th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",contentTableSelector:".k-grid-table",contentRowSelector:"tr.k-master-row",contentCellSelector:"td:not(.k-group-cell):not(.k-hierarchy-cell)",footerTableSelector:".k-grid-footer table",footerRowSelector:"tr.k-group-footer",minResizableWidth:30,resizable:{draggable:{filter:".k-column-resizer"}},jsinterop:{resizeColumn:""}},i.onResizableResizeStart=function(t){i.setFixedWidths();var e=t.originalCurrentTarget.closest(i.options.columnSelector);i.setState({initialColumnWidth:d(e)}),i.fixedWidths&&(i.invokeRescaleColumns(i.fixedWidths.map(function(t){return t+"px"})),i.fixedWidths=null)},i.onResizableResize=function(t){var e=t.originalCurrentTarget.closest(i.options.columnSelector),n=i.state.initialColumnWidth+t.initialDelta.x;t.delta.x>0&&n<=i.options.minResizableWidth||i.applyResizeDelta(e,t.delta.x)},i.onResizableResizeEnd=function(){i.invokeResizeColumn(i.state)},i.extendOptions(n),i.createResizable(),i.state={},i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyResizable(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"createResizable",value:function(){this.resizable=new l.Resizable(this.element.closest(this.options.parentSelector).querySelector(this.options.resizableSourceSelector),(0,u.deepExtend)(this.options.resizable,{events:{resizeStart:this.onResizableResizeStart,resize:this.onResizableResize,resizeEnd:this.onResizableResizeEnd}}))}},{key:"destroyResizable",value:function(){this.resizable&&this.resizable.destroy()}},{key:"setFixedWidths",value:function(){var t=this.getHeaderColumns(),e=this.getHeaderTable(),n=this.getContentTable(),r=this.getFooterTable();if(!(t.every(v)&&v(e)&&v(n))){f(e,d(e)),f(n,d(n)),r&&f(r,d(r));var o=this.getHeaderCells();this.fixedWidths=[];for(var i=0;i<o.length;i++){var s=d(o[i]);this.fixedWidths.push(s)}for(var a=0;a<o.length;a++)this.resizeHeaderColumn(a,this.fixedWidths[a]),this.resizeContentColumn(a,this.fixedWidths[a]),r&&this.resizeFooterColumn(a,this.fixedWidths[a])}}},{key:"applyResizeDelta",value:function(t,e){if(t){var n=(0,c.getElementIndex)(t,this.options.columnSelector);this.resizeColumn(n,d(t)+e)}}},{key:"resizeColumn",value:function(t,e){var n=this.getFooterTable(),r=this.getHeaderCells()[t];if(r&&!(t<0)){var o=y(e,this.options.minResizableWidth),i=o-d(r);this.resizeHeaderTable(i),this.resizeContentTable(i),this.resizeHeaderColumn(t,o),this.resizeContentColumn(t,o),this.resizeLockedColumns(),n&&(this.resizeFooterTable(i),this.resizeFooterColumn(t,o)),this.setState({index:t,width:h(o),tableWidth:h(d(this.getHeaderTable()))})}}},{key:"resizeHeaderColumn",value:function(t,e){var n=this.getHeaderColumnByIndex(t);f(n,e)}},{key:"resizeContentColumn",value:function(t,e){var n=this.getContentColumnByIndex(t);f(n,e)}},{key:"resizeFooterColumn",value:function(t,e){var n=this.getFooterColumnByIndex(t);f(n,e)}},{key:"resizeHeaderTable",value:function(t){this.resizeTable(this.getHeaderTable(),t)}},{key:"resizeContentTable",value:function(t){this.resizeTable(this.getContentTable(),t)}},{key:"resizeFooterTable",value:function(t){this.resizeTable(this.getFooterTable(),t)}},{key:"resizeTable",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t&&f(t,d(t)+e)}},{key:"resizeLockedColumns",value:function(){this.resizeLockedHeaderCells(),this.resizeLockedContentCells(),this.resizeLockedFooterCells()}},{key:"resizeLockedHeaderCells",value:function(){var t=this.getHeaderCells();this.setLockedCellsOffsets(t)}},{key:"resizeLockedContentCells",value:function(){var t=this.getContentRows();this.resizeLockedCellsForRows(t)}},{key:"resizeLockedFooterCells",value:function(){var t=this.getFooterRows();this.resizeLockedCellsForRows(t)}},{key:"resizeLockedCellsForRows",value:function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.querySelectorAll(this.options.contentCellSelector);this.setLockedCellsOffsets(r)}}},{key:"setLockedCellsOffsets",value:function(t){this.setLockedCellsOffsetLeft(t),this.setLockedCellsOffsetRight(t)}},{key:"setLockedCellsOffsetLeft",value:function(t){this.setLockedCellOffset(t,function(t,e){g(t,e)})}},{key:"setLockedCellsOffsetRight",value:function(t){this.setLockedCellOffset(t,function(t,e){m(t,e)},{iterateBackwards:!0})}},{key:"setLockedCellOffset",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.iterateBackwards,o=void 0!==r&&r,i=0,s=0;s<t.length;s++){var a=o?t.length-1-s:s,l=t[a];if(b(l)){var c=d(l);e(l,i),i+=c}}}},{key:"invokeResizeColumn",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.resizeColumn,t)}},{key:"invokeRescaleColumns",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.rescaleColumns,t)}},{key:"setState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state=(0,u.extend)(this.state,t)}},{key:"getHeaderTable",value:function(){return this.element.closest("table")}},{key:"getContentTable",value:function(){return this.element.closest(this.options.parentSelector).querySelector(this.options.contentTableSelector)}},{key:"getFooterTable",value:function(){return this.element.closest(this.options.parentSelector).querySelector(this.options.footerTableSelector)}},{key:"getHeaderColumnByIndex",value:function(t){return this.getHeaderColumns()[t]}},{key:"getHeaderColumns",value:function(){return this.getTableColumns(this.getHeaderTable())}},{key:"getHeaderCells",value:function(){return p(this.element.querySelectorAll(this.options.columnSelector))}},{key:"getContentColumnByIndex",value:function(t){return this.getContentColumns()[t]}},{key:"getContentColumns",value:function(){return this.getTableColumns(this.getContentTable())}},{key:"getTableColumns",value:function(t){var e=t.querySelector("colgroup").querySelectorAll("col:not(.k-group-col):not(.k-hierarchy-col)");return p(e)}},{key:"getContentRows",value:function(){return this.queryContentTable(this.options.contentRowSelector)}},{key:"getFooterColumnByIndex",value:function(t){return this.getFooterColumns()[t]}},{key:"getFooterColumns",value:function(){return this.getTableColumns(this.getFooterTable())}},{key:"getFooterRows",value:function(){return this.queryContentTable(this.options.footerRowSelector)}},{key:"queryContentTable",value:function(t){var e=this.getContentTable(),n=e.querySelectorAll(t);return p(n)}}]),e}(u.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Resizable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(54),c=n(1);e.Resizable=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={events:{resizeStart:null,resize:null,resizeEnd:null},draggable:{filter:""}},i.onDraggableDragStart=function(t){i.initialLocation={pageX:t.pageX,pageY:t.pageY},i.location={pageX:t.pageX,pageY:t.pageY},i.delta={x:0,y:0},i.initialDelta={x:0,y:0},i.trigger("resizeStart",t)},i.onDraggableDrag=function(t){i.setCursorStyle(t.sender.originalCurrentTarget.style.cursor),i.calculateInitialDelta(t),i.calculateDelta(t),i.setLocation(t),i.trigger("resize",t)},i.onDraggableDragEnd=function(t){i.resetCursorStyle(),i.trigger("resizeEnd",t)},i.extendOptions(n),i.createDraggable(t),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyDraggable(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"createDraggable",value:function(){this.draggable=new l.Draggable(this.element,(0,c.deepExtend)(this.options.draggable,{events:{dragStart:this.onDraggableDragStart,drag:this.onDraggableDrag,dragEnd:this.onDraggableDragEnd}}))}},{key:"destroyDraggable",value:function(){this.draggable&&this.draggable.destroy()}},{key:"trigger",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"trigger",this).call(this,t,(0,c.extend)(n,{initialLocation:this.initialLocation,location:this.location,delta:this.delta,initialDelta:this.initialDelta}))}},{key:"calculateDelta",value:function(t){this.delta={x:t.pageX-this.location.pageX,y:t.pageY-this.location.pageY}}},{key:"calculateInitialDelta",value:function(t){this.initialDelta={x:t.pageX-this.initialLocation.pageX,y:t.pageY-this.initialLocation.pageY}}},{key:"setLocation",value:function(t){var e=t.pageX,n=t.pageY;this.location={pageX:e,pageY:n}}},{key:"setCursorStyle",value:function(t){t&&(document.body.style.cursor=t)}},{key:"resetCursorStyle",value:function(){document.body.style.cursor=""}}]),e}(c.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(63);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(67);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(69);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(71);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.AutoComplete,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initAutoComplete=r;var o=n(64),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.AutoComplete=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(65),u=[l.Key.ARROWDOWN,l.Key.ARROWUP];e.AutoComplete=function(t){function e(t,n){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return i(e,t),s(e,[{key:"bindEvents",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bindEvents",this).call(this),this.navigationService.bind(u,this.onPopupKeys)}}]),e}(c.AutoCompleteBase)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.AutoCompleteBase=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(66),u="blur",p="focus";e.AutoCompleteBase=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={value:null},i.onBlur=function(t){var e=t.relatedTarget;return(0,l.ownsElement)(i.popupElement,e)||(0,l.ownsElement)(i.element,e)?void i.focusInput():void i.invokeBlur()},i.onFocus=function(){i.invokeFocus()},i.extendOptions(n),i.input=i.element.querySelector("input"),i.setValue(n.value),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.input=null}},{key:"bindEvents",value:function(){this.input.addEventListener(u,this.onBlur),this.input.addEventListener(p,this.onFocus)}},{key:"unbindEvents",value:function(){this.input.removeEventListener(u,this.onBlur),this.input.removeEventListener(p,this.onFocus)}},{key:"setValue",value:function(t){this.input&&(this.input.value=t)}},{key:"focusInput",value:function(){this.input&&this.input.focus()}}]),e}(c.DropdownBase)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownBase=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=[l.Key.ENTER,l.Key.ESC],u=[l.Key.HOME,l.Key.END];e.DropdownBase=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,popupId:null,jsinterop:{focus:null,blur:null,keydown:null}},i.onKeyDown=function(t){return i.invokeKeyDown(t),i.isClosed()},i.onPopupKeys=function(t){return!!i.isClosed()||(i.invokeKeyDown(t),!1)},i.invokeKeyDown=function(t){i.invokeMethodAsync(i.options.jsinterop.keydown,t.name)},i.invokeBlur=function(){i.invokeMethodAsync(i.options.jsinterop.blur)},i.invokeFocus=function(){i.invokeMethodAsync(i.options.jsinterop.focus)},i.extendOptions(n),i.popupElement=(0,l.getElementByDataId)(n.popupId),i.initNavigationService(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyNavigationService(),this.popupElement=null,a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(c,this.onKeyDown),this.navigationService.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWDOWN,this.onKeyDown),this.navigationService.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWUP,this.onKeyDown),this.navigationService.bind(u,this.onPopupKeys)}},{key:"destroyNavigationService",value:function(){this.navigationService.destroy()}},{key:"isClosed",value:function(){return!this.popupElement||!this.popupElement.children[0].children.length}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.ComboBox,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initComboBox=r;var o=n(68),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e;
}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ComboBox=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(65),u=[l.Key.ARROWDOWN,l.Key.ARROWUP];e.ComboBox=function(t){function e(t,n){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return i(e,t),s(e,[{key:"bindEvents",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bindEvents",this).call(this),this.navigationService.bind(u,this.invokeKeyDown)}}]),e}(c.AutoCompleteBase)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.DropDownList,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initDropDownList=r;var o=n(70),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DropDownList=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(66),u="blur",p="focus",h=[l.Key.ARROWDOWN,l.Key.ARROWUP];e.DropDownList=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onBlur=function(t){var e=t.relatedTarget;return(0,l.ownsElement)(i.popupElement,e)?void i.element.focus():void i.invokeBlur()},i.onFocus=function(){i.invokeFocus()},i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener(u,this.onBlur),this.element.addEventListener(p,this.onFocus),this.navigationService.bind(h,this.invokeKeyDown),this.navigationService.bind("printableKey",this.invokeKeyDown)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(u,this.onBlur)}}]),e}(c.DropdownBase)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.MultiSelect,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initMultiSelect=r;var o=n(72),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MultiSelect=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(65),c=n(1),u="click";e.MultiSelect=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onClick=function(t){t.target instanceof HTMLElement&&!t.target.closest(".k-button")&&!t.target.closest(".k-clear")&&(i.focusInput(),i.invokeClick())},i.bindMultiSelectEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindMultiSelectEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindMultiSelectEvents",value:function(){this.element.addEventListener(u,this.onClick,!0),this.navigationService.bind([c.Key.ARROWDOWN,c.Key.ARROWUP],this.onPopupKeys),this.navigationService.bind([c.Key.ARROWLEFT,c.Key.ARROWRIGHT],this.onTagFocus.bind(this)),this.navigationService.bind([c.Key.BACKSPACE,c.Key.DELETE],this.onTagDelete.bind(this))}},{key:"unbindMultiSelectEvents",value:function(){this.element.removeEventListener(u,this.onClick,!0)}},{key:"onTagDelete",value:function(t){return!!this.input.value||(this.invokeKeyDown(t),!1)}},{key:"onTagFocus",value:function(t){return!!this.input.value||(this.invokeKeyDown(t),!1)}},{key:"invokeClick",value:function(){var t=this.options.jsinterop.click;this.invokeMethodAsync(t)}}]),e}(l.AutoCompleteBase)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(74);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Drawer,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initDrawer=r;var o=n(75),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Drawer=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=[l.Key.ENTER,l.Key.ARROWDOWN,l.Key.ARROWUP],u=function(){return(0,l.delay)(20)};e.Drawer=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{keydown:"",focusout:"",collapse:""},mode:"",duration:0},i.onMouseDown=function(t){var e=t.target;"overlay"!==i.options.mode||(0,l.isChild)(e,[i.element])||i.invokeCollapse()},i.onKeyDown=function(t){i.invokeKeyDown(t)},i.onFocusOut=function(t){i.invokeFocusOut(t)},i.extendOptions(n),i.bindEvents(),i.createNavigationService(),i}return i(e,t),s(e,[{key:"expandAsync",value:function(){var t=this;return u().then(function(){return t.onTransitionEnd()})}},{key:"collapseAsync",value:function(){var t=this;return u().then(function(){return t.onTransitionEnd()})}},{key:"destroy",value:function(){this.unbindEvents(),this.destroyNavigationService(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener("focusout",this.onFocusOut),document.addEventListener("mousedown",this.onMouseDown,!0)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("focusout",this.onFocusOut),document.removeEventListener("mousedown",this.onMouseDown,!0)}},{key:"focusItem",value:function(t){var e=this.element.querySelector('[data-index="'+t+'"]');e instanceof HTMLElement&&e.focus()}},{key:"cancelCallback",value:function(){this.timer&&this.timer.cancel(),this.timer=null}},{key:"onTransitionEnd",value:function(){var t=this.options.duration;return this.timer=(0,l.createCancellableTimerPromise)(t),this.timer.promise}},{key:"createNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(c,this.onKeyDown)}},{key:"destroyNavigationService",value:function(){this.navigationService&&(this.navigationService.destroy(),this.navigationService=null)}},{key:"invokeKeyDown",value:function(t){this.invokeMethodAsync(this.options.jsinterop.keydown,t.name)}},{key:"invokeFocusOut",value:function(t){var e=this,n=t.target.closest(".k-drawer-item[role='menuitem'"),r=n?parseInt(n.getAttribute("data-index")):null;setTimeout(function(){e.invokeMethodAsync(e.options.jsinterop.focusout,r)},1)}},{key:"invokeCollapse",value:function(){this.invokeMethodAsync(this.options.jsinterop.collapse)}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(77);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.FilterMenu,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initFilterMenu=r;var o=n(78),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.FilterMenu=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c="focus",u="focusout";e.FilterMenu=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null},i.onKeyDown=function(t){i.invokeKeyDown(t)},i.onFocus=function(){i.invokeFocus()},i.onFocusOut=function(){i.invokeFocusOut()},i.extendOptions(n),i.bindEvents(),i.initNavigationService(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){this.element.addEventListener(c,this.onFocus),this.element.addEventListener(u,this.onFocusOut)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(c,this.onFocus),this.element.removeEventListener(u,this.onFocusOut)}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWDOWN,this.onKeyDown)}},{key:"destroy",value:function(){this.disableTabKeyTrap(),this.navigationService.destroy(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"enableTabKeyTrap",value:function(t){if(this.options.navigable){var e=(0,l.getElementByDataId)(t);this.formKeyTrap=new l.FormKeyTrap(e),this.formKeyTrap.enableKeyTrap()}}},{key:"disableTabKeyTrap",value:function(){this.formKeyTrap&&this.formKeyTrap.disableTabKeyTrap()}},{key:"invokeKeyDown",value:function(t){this.invokeMethodAsync(this.options.jsinterop.keydown,t.name)}},{key:"invokeFocus",value:function(){this.invokeMethodAsync(this.options.jsinterop.focus)}},{key:"invokeFocusOut",value:function(){this.invokeMethodAsync(this.options.jsinterop.focusout)}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(80);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.Grid,t,e)}function o(t){(0,s.destroyComponent)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.initGrid=r,e.destroyGrid=o;var i=n(81),s=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Grid=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1);e.Grid=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{removeFocus:"",blur:""}},i}return i(e,t),s(e,[{key:"destroy",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}(l.GridBase)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(83);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(125);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(128);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(131);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(133);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var l=n(135);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.DateInput,t,e)}function o(t,e){var n=(0,s.getComponentInstance)(t);n&&n.updateValue(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initDateInput=r,e.updateDateInputValue=o;var i=n(84),s=n(1)},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DateInput=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=n(85),u=n(35),p=r(u),h=n(124),f=n(1),d=1,v="dragStart",y="mouseup",g="click",m="input",b="keydown",w="focus",_="blur";e.DateInput=function(t){function e(t,n){o(this,e);var r=new Date(n.selectedDate);isNaN(r.getTime())&&(r=null);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));s.options={dotNetInstance:null,format:"yyyy-MM-dd",selectedDate:null,allowNulls:!1,cycleTime:!0,locale:null,jsinterop:{focus:"",blur:"",updateDate:"",enter:""}},s.onElementDragStart=function(t){t.preventDefault()},s.onElementMouseUp=function(t){t.preventDefault()},s.onElementClick=function(){s.setSelection(s.selectionByIndex(s.selection.start))},s.onElementInput=function(){if(s.element&&s.dateObject){var t=s.dateObject.getTextAndFormat(),e=t.text,n=t.format;s.currentFormat=n;var r=(0,h.approximateStringMatching)(e,s.currentFormat,s.element.value,s.selection.start),o=1===r.length&&"_"===r[0][1],i=!1;if(!o)for(var a=0;a<r.length;a++)i=s.dateObject.parsePart(r[a][0],r[a][1],s.resetSegmentValue).switchToNext;s.resetSegmentValue=!1,s.forceUpdate(),r.length&&"_"!==r[0][0]&&s.setSelection(s.selectionBySymbol(r[0][0])),(i||o)&&s.switchDateSegment(1),s.updateComponentValue()}},s.onElementFocus=function(){var t=s.options.jsinterop.focus;s.invokeMethodAsync(t)},s.onElementBlur=function(){s.resetSegmentValue=!0;var t=s.options.jsinterop.blur;s.invokeMethodAsync(t)},s.onElementKeyDown=function(t){var e=s.options.jsinterop.enter,n=!1;if(!t.altKey&&t.keyCode!==f.KeyCode.TAB){switch(t.keyCode){case f.KeyCode.ARROWLEFT:s.switchDateSegment(-1),n=!0;break;case f.KeyCode.ARROWUP:s.modifyDateSegmentValue(1,event),n=!0;break;case f.KeyCode.ARROWRIGHT:s.switchDateSegment(1),n=!0;break;case f.KeyCode.ARROWDOWN:s.modifyDateSegmentValue(-1,event),n=!0;break;case f.KeyCode.ENTER:s.invokeMethodAsync(e);break;case f.KeyCode.DELETE:case f.KeyCode.BACKSPACE:return s.options.allowNulls&&(s.dateObject.setValue(null),s.forceUpdate(),s.updateComponentValue()),void(n=!0);default:return}n&&t.preventDefault()}},s.extendOptions(n);var a=s.element.getAttribute("data-id");return s.extendCulture(a),s.dateObject=new c.DateObject(p,"formatPattern",n.format,a,n.cycleTime),s.dateObject.setValue(r),s.setTextAndFormat(),s.bindEvents(),s.resetSegmentValue=!0,s}return s(e,t),a(e,[{key:"extendCulture",value:function(t){var e=this.options;e.locale.name=t;var n=(0,f.deepExtend)({},p.localeInfo("en"),e.locale);p.setData(n)}},{key:"destroy",value:function(){this.unbindEvents(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.dateObject=null}},{key:"bindEvents",value:function(){this.element.addEventListener(v,this.onElementDragStart),this.element.addEventListener(g,this.onElementClick),this.element.addEventListener(y,this.onElementMouseUp),this.element.addEventListener(m,this.onElementInput),this.element.addEventListener(b,this.onElementKeyDown),this.element.addEventListener(w,this.onElementFocus),this.element.addEventListener(_,this.onElementBlur)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(v,this.onElementDragStart),this.element.removeEventListener(y,this.onElementMouseUp),this.element.removeEventListener(g,this.onElementClick),this.element.removeEventListener(m,this.onElementInput),this.element.removeEventListener(b,this.onElementKeyDown),this.element.removeEventListener(w,this.onElementFocus),this.element.removeEventListener(_,this.onElementBlur)}},{key:"setSelection",value:function(t){this._lastSelectedSymbol=this.currentFormat[t.start],this.element&&document.activeElement===this.element&&this.element.setSelectionRange(t.start,t.end)}},{key:"selectionBySymbol",value:function(t){for(var e=-1,n=0,r=0;r<this.currentFormat.length;r++)this.currentFormat[r]===t&&(n=r+1,e===-1&&(e=r));return e<0&&(e=0),{start:e,end:n}}},{key:"selectionByIndex",value:function(t){for(var e={start:t,end:t},n=t,r=t-1;n<this.currentFormat.length||r>=0;n++,r--){if(n<this.currentFormat.length&&"_"!==this.currentFormat[n]){e=this.selectionBySymbol(this.currentFormat[n]);break}if(r>=0&&"_"!==this.currentFormat[r]){e=this.selectionBySymbol(this.currentFormat[r]);break}}return e}},{key:"switchDateSegment",value:function(t){var e=this.selection,n=e.start,r=e.end;if(n<r&&this.currentFormat[n]!==this.currentFormat[r-1])return this.setSelection(this.selectionByIndex(t>0?n:r-1)),void(this.resetSegmentValue=!0);for(var o=this.currentFormat[n],i=n+t;i>0&&i<this.currentFormat.length&&(this.currentFormat[i]===o||"_"===this.currentFormat[i]);)i+=t;if("_"!==this.currentFormat[i]){for(var s=i;s>=0&&s<this.currentFormat.length&&this.currentFormat[s]===this.currentFormat[i];)s+=t;i>s&&(s+1!==n||i+1!==r)?(this.setSelection({start:s+1,end:i+1}),this.resetSegmentValue=!0):i<s&&(i!==n||s!==r)&&(this.setSelection({start:i,end:s}),this.resetSegmentValue=!0)}}},{key:"modifyDateSegmentValue",value:function(t){if(this.dateObject){var e=this.currentFormat[this.selection.start],n=d*t;this.dateObject.modifyPart(e,n),this.forceUpdate(),this.setSelection(this.selectionBySymbol(e)),this.updateComponentValue()}}},{key:"updateValue",value:function(t){var e=new Date(t);isNaN(e.getTime())&&(e=null),this.dateObject.setValue(e),this.forceUpdate()}},{key:"updateComponentValue",value:function(){var t=this.options.jsinterop.updateDate;this.invokeMethodAsync(t,this.dateObject.getFormattedDate("yyyy-MM-dd HH:mm:ss"))}},{key:"forceUpdate",value:function(){this.setTextAndFormat(),this.setElementValue(this.currentText)}},{key:"setTextAndFormat",value:function(){var t=this.dateObject.getTextAndFormat(),e=t.text,n=t.format;this.currentFormat=n,this.currentText=e}},{key:"setElementValue",value:function(t){this.element.value=t}},{key:"selection",get:function(){var t={start:0,end:0};return null!==this.element&&void 0!==this.element.selectionStart&&(t={start:this.element.selectionStart,end:this.element.selectionEnd}),t}}]),e}(f.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DateObject=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(86),s=n(123),a=n(124);e.DateObject=function(){function t(e,n,o,s,a){r(this,t),this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.monthNames=[],this.typedMonthPart="",this.knownParts="adHhmMsEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y"},this._value=(0,i.getDate)(new Date),this.intl=e,this.formatPlaceholder=n||"wide",this.format=o,this.localeId=s||"en",this.cycleTime=a,this.monthNames=this.allFormatedMonths(this.localeId)}return o(t,[{key:"value",get:function(){return this._value}}]),o(t,[{key:"setValue",value:function(t){t?(0,i.isEqual)(t,this._value)||(this._value=(0,i.cloneDate)(t),this.modifyExisting(!0)):(this._value=(0,i.getDate)(new Date),this.modifyExisting(!1))}},{key:"hasValue",value:function(){var t=this,e=function(e,n){return e||"literal"!==n.type&&"dayperiod"!==n.type&&t.getExisting(n.pattern[0])};return this.intl.splitDateFormat(this.format,this.localeId).reduce(e,!1)}},{key:"getDateObject",value:function(){for(var t=0;t<this.knownParts.length;t++)if(!this.getExisting(this.knownParts[t]))return null;return(0,i.cloneDate)(this.value)}},{key:"getFormattedDate",value:function(t){return this.intl.formatDate(this.getDateObject(),t,this.localeId)}},{key:"getTextAndFormat",value:function(){var t=this.intl.formatDate(this.value,this.format,this.localeId),e=this.dateFormatString(this.value,this.format);return this.merge(t,e)}},{key:"modifyExisting",value:function(t){for(var e=this.dateFormatString(this.value,this.format).symbols,n=0;n<e.length;n++)this.setExisting(e[n],t)}},{key:"getExisting",value:function(t){switch(t){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;default:return!0}}},{key:"setExisting",value:function(t,e){switch(t){case"y":this.year=e,e===!1&&this._value.setFullYear((new Date).getFullYear());break;case"M":this.month=e,e===!1&&this._value.setMonth(0);break;case"d":this.date=e;break;case"h":case"H":this.hours=e;break;case"m":this.minutes=e;break;case"s":this.seconds=e;break;default:return}}},{key:"modifyPart",value:function(t,e){var n=(0,i.cloneDate)(this.value),r=!1;switch(t){case"y":n.setFullYear(n.getFullYear()+e);break;case"M":n=(0,i.addMonths)(this.value,e);break;case"d":case"E":n.setDate(n.getDate()+e);break;case"h":case"H":n.setHours(n.getHours()+e),r=!0;break;case"m":n.setMinutes(n.getMinutes()+e),r=!0;break;case"s":n.setSeconds(n.getSeconds()+e),r=!0;break;case"a":n.setHours(n.getHours()+12*e),r=!0}r&&!this.cycleTime&&n.getDate()!==this._value.getDate()&&(n.setDate(this._value.getDate()),n.setMonth(this._value.getMonth()),n.setFullYear(this._value.getFullYear())),this.setExisting(t,!0),this._value=n}},{key:"parsePart",value:function(t,e,n){if(!e)return this.resetLeadingZero(),this.setExisting(t,!1),{value:null,switchToNext:!1};for(var r=this.intl.formatDate(this.value,this.format,this.localeId),o=this.dateFormatString(this.value,this.format),s=o.symbols,a=!1,l="",c="",u="",p=0;p<r.length;p++)s[p]===t?(c+=this.getExisting(t)?r[p]:"0",a=!0):a?u+=r[p]:l+=r[p];var h=c.length-3,f=null,d=this.matchMonth(e),v=this.matchDayPeriod(e,t),y="0"===e,g=this.leadingZero||{};if(y){var m=parseInt(n?e:c+e,10);0!==m||this.isAbbrMonth(o.partMap,t)||this.incrementLeadingZero(t)}else this.resetLeadingZero();for(var b=Math.max(0,h);b<=c.length;b++){var w=n?e:c.substring(b)+e,_=parseInt(w,10);if(f=this.intl.parseDate(l+w+u,this.format,this.localeId),!f&&!isNaN(_)&&!isNaN(parseInt(e,10))){if("M"===t&&!d){var x=_-1;x>-1&&x<12&&(f=(0,i.cloneDate)(this.value),f.setMonth(x),f.getMonth()!==x&&(f=(0,i.lastDayOfMonth)((0,i.addMonths)(f,-1))))}"y"===t&&(f=(0,i.createDate)(parseInt(w,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&f.getDate()!==this.value.getDate()&&(f=(0,i.lastDayOfMonth)((0,i.addMonths)(f,-1))))}if(f){var k=this.partPattern(o.partMap,t).pattern,S=this.intl.parseDate(""+l+this.peek(w,k)+u,this.format,this.localeId);this._value=f,this.setExisting(t,!0);var O=null===S||g[t]&&k.length<=w.length;return{value:this.value,switchToNext:O}}}return d&&(f=this.intl.parseDate(l+d+u,this.format,this.localeId))?(this._value=f,this.setExisting(t,!0),{value:this.value,switchToNext:!1}):v&&(f=this.intl.parseDate(l+v+u,this.format))?(this._value=f,{value:this.value,switchToNext:!0}):(y&&this.setExisting(t,!1),{value:null,switchToNext:!1})}},{key:"symbolMap",value:function(t){return this.intl.splitDateFormat(this.format,this.localeId).reduce(a.dateSymbolMap,{})[t]}},{key:"resetLeadingZero",value:function(){var t=null!==this.leadingZero;return this.leadingZero=null,t}},{key:"incrementLeadingZero",value:function(t){var e=this.leadingZero||{};e[t]=(e[t]||0)+1,this.leadingZero=e}},{key:"isAbbrMonth",value:function(t,e){var n=this.partPattern(t,e);return"month"===n.type&&n.names}},{key:"partPattern",value:function(t,e){return t.filter(function(t){return t.pattern.indexOf(e)!==-1})[0]}},{key:"peek",value:function(t,e){var n=t.replace(/^0*/,"")+"0";return(0,a.padZero)(e.length-n.length)+n}},{key:"matchMonth",value:function(t){if(this.typedMonthPart+=t.toLowerCase(),0===this.monthNames.length)return"";for(;this.typedMonthPart.length>0;){for(var e=0;e<this.monthNames.length;e++)if(0===this.monthNames[e].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[e];var n=parseInt(this.typedMonthPart,10);if(n>=1&&n<=12&&n.toString()===this.typedMonthPart)return this.monthNames[n-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}},{key:"matchDayPeriod",value:function(t,e){var n=t.toLowerCase();if("a"===e&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(n))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(n))return this.dayPeriods.pm}return""}},{key:"allFormatedMonths",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",e=this.intl.splitDateFormat(this.format,this.localeId),n=0;n<e.length;n++)if("month"===e[n].type&&e[n].names)return this.intl.dateFormatNames(t,e[n].names);return[]}},{key:"dateFormatString",value:function(t,e){for(var n=this.intl.splitDateFormat(e,this.localeId),r=[],o=[],i=0;i<n.length;i++)for(var a=this.intl.formatDate(t,{pattern:n[i].pattern},this.localeId).length;a>0;)r.push(this.symbols[n[i].pattern[0]]||"_"),o.push(n[i]),a--;var l=new s.Mask;return l.symbols=r.join(""),l.partMap=o,l}},{key:"merge",value:function(t,e){for(var n="",r="",o=e.symbols,i=o.length-1;i>=0;i--)if(this.knownParts.indexOf(o[i])===-1||this.getExisting(o[i]))n=t[i]+n,r=o[i]+r;else{for(var s=o[i];i>=0&&s===o[i];)i--;for(i++,n=this.leadingZero&&this.leadingZero[s]?"0"+n:this.dateFieldName(e.partMap[i])+n;r.length<n.length;)r=o[i]+r}return{text:n,format:r}}},{key:"dateFieldName",value:function(t){var e=this.formatPlaceholder||"wide";return e[t.type]?e[t.type]:"formatPattern"===e?t.pattern:this.intl.dateFieldName(Object.assign(t,{nameType:e}))}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(87);r.__exportStar(n(88),e),r.__exportStar(n(91),e),r.__exportStar(n(94),e),r.__exportStar(n(95),e),r.__exportStar(n(97),e),r.__exportStar(n(98),e),r.__exportStar(n(89),e),r.__exportStar(n(90),e),r.__exportStar(n(93),e),r.__exportStar(n(99),e),r.__exportStar(n(101),e),r.__exportStar(n(100),e),r.__exportStar(n(102),e),r.__exportStar(n(103),e),r.__exportStar(n(104),e),r.__exportStar(n(107),e),r.__exportStar(n(109),e),r.__exportStar(n(110),e),r.__exportStar(n(111),e),r.__exportStar(n(112),e),r.__exportStar(n(113),e),
r.__exportStar(n(114),e),r.__exportStar(n(105),e),r.__exportStar(n(108),e),r.__exportStar(n(116),e),r.__exportStar(n(117),e),r.__exportStar(n(92),e),r.__exportStar(n(118),e),r.__exportStar(n(119),e),r.__exportStar(n(120),e),r.__exportStar(n(121),e),r.__exportStar(n(122),e)},function(t,e,n){var r,o;(function(n){/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0
	
	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.
	
	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */
var i,s,a,l,c,u,p,h,f,d,v,y,g,m,b,w,_,x,k,S;!function(i){function s(t,e){return t!==a&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(n,r){return t[n]=e?e(n,r):r}}var a="object"==typeof n?n:"object"==typeof self?self:"object"==typeof this?this:{};r=[e],o=function(t){i(s(a,s(t)))}.apply(e,r),!(void 0!==o&&(t.exports=o))}(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};i=function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},l=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},c=function(t,e){return function(n,r){e(n,r,t)}},u=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function a(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}l((r=r.apply(t,e||[])).next())})},h=function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,i=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){l.label=n[1];break}if(6===n[0]&&l.label<s[1]){l.label=s[1],s=n;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(n);break}s[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},f=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},d=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},v=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},y=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t},g=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},m=function(t){return this instanceof m?(this.v=t,this):new m(t)},b=function(t,e,n){function r(t){u[t]&&(c[t]=function(e){return new Promise(function(n,r){p.push([t,e,n,r])>1||o(t,e)})})}function o(t,e){try{i(u[t](e))}catch(t){l(p[0][3],t)}}function i(t){t.value instanceof m?Promise.resolve(t.value.v).then(s,a):l(p[0][2],t)}function s(t){o("next",t)}function a(t){o("throw",t)}function l(t,e){t(e),p.shift(),p.length&&o(p[0][0],p[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,u=n.apply(t,e||[]),p=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c},w=function(t){function e(e,o){n[e]=t[e]?function(n){return(r=!r)?{value:m(t[e](n)),done:"return"===e}:o?o(n):n}:o}var n,r;return n={},e("next"),e("throw",function(t){throw t}),e("return"),n[Symbol.iterator]=function(){return this},n},_=function(t){function e(e){r[e]=t[e]&&function(r){return new Promise(function(o,i){r=t[e](r),n(o,i,r.done,r.value)})}}function n(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=t[Symbol.asyncIterator];return o?o.call(t):(t="function"==typeof d?d(t):t[Symbol.iterator](),r={},e("next"),e("throw"),e("return"),r[Symbol.asyncIterator]=function(){return this},r)},x=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},k=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},S=function(t){return t&&t.__esModule?t:{default:t}},t("__extends",i),t("__assign",s),t("__rest",a),t("__decorate",l),t("__param",c),t("__metadata",u),t("__awaiter",p),t("__generator",h),t("__exportStar",f),t("__values",d),t("__read",v),t("__spread",y),t("__spreadArrays",g),t("__await",m),t("__asyncGenerator",b),t("__asyncDelegator",w),t("__asyncValues",_),t("__makeTemplateObject",x),t("__importStar",k),t("__importDefault",S)})}).call(e,function(){return this}())},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(89),o=n(90);e.addDays=function(t,e){var n=o.cloneDate(t);return n.setDate(n.getDate()+e),r.adjustDST(n,t.getHours())}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(90);e.adjustDST=function(t,e){var n=r.cloneDate(t);return 0===e&&23===n.getHours()&&n.setHours(n.getHours()+2),n}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cloneDate=function(t){return t?new Date(t.getTime()):null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(89),o=n(90),i=n(92),s=12,a=function(t,n){return t.getMonth()!==n?i.lastDayOfMonth(e.addMonths(t,-1)):t};e.addMonths=function(t,e){var n=o.cloneDate(t),i=(n.getMonth()+e)%s,l=(s+i)%s;return n.setMonth(n.getMonth()+e),a(r.adjustDST(n,t.getHours()),l)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(88),o=n(93);e.lastDayOfMonth=function(t){var e=o.createDate(t.getFullYear(),t.getMonth()+1,1,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return r.addDays(e,-1)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(89);e.createDate=function(t,e,n,o,i,s,a){void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===a&&(a=0);var l=new Date(t,e,n,o,i,s,a);return t>-1&&t<100&&l.setFullYear(l.getFullYear()-1900),r.adjustDST(l,o)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(88);e.addWeeks=function(t,e){return r.addDays(t,7*e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(89),o=n(96);e.addYears=function(t,e){return r.adjustDST(o.setYear(t,t.getFullYear()+e),t.getHours())}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(91),o=n(93),i=n(92);e.setYear=function(t,e){var n=t.getMonth(),s=o.createDate(e,n,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return s.getMonth()===n?s:i.lastDayOfMonth(r.addMonths(s,-1))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(95);e.addDecades=function(t,e){return r.addYears(t,10*e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(95);e.addCenturies=function(t,e){return r.addYears(t,100*e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(100),o=n(89),i=n(90);e.dayOfWeek=function(t,e,n){void 0===n&&(n=r.Direction.Forward);var s=i.cloneDate(t),a=(e-s.getDay()+7*n)%7;return s.setDate(s.getDate()+a),o.adjustDST(s,t.getHours())}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"}(n=e.Direction||(e.Direction={}))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday"}(n=e.Day||(e.Day={}))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.durationInMonths=function(t,e){return 12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth())}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.durationInYears=function(t,e){return e.getFullYear()-t.getFullYear()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(105);e.durationInDecades=function(t,e){return(r.firstYearOfDecade(e).getFullYear()-r.firstYearOfDecade(t).getFullYear())/10}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(106);e.firstYearOfDecade=function(t){return r.normalizeYear(t,function(t){return t-t%10})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(96);e.normalizeYear=function(t,e){return r.setYear(t,e(t.getFullYear()))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(108);e.durationInCenturies=function(t,e){return(r.firstDecadeOfCentury(e).getFullYear()-r.firstDecadeOfCentury(t).getFullYear())/100}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(106);e.firstDecadeOfCentury=function(t){return r.normalizeYear(t,function(t){return t-t%100})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(100),o=n(99);e.nextDayOfWeek=function(t,e){return o.dayOfWeek(t,e,r.Direction.Forward)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(100),o=n(99);e.prevDayOfWeek=function(t,e){return o.dayOfWeek(t,e,r.Direction.Backward)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(93);e.getDate=function(t){return r.createDate(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(90),o=n(101);e.firstDayInWeek=function(t,e){void 0===e&&(e=o.Day.Sunday);for(var n=r.cloneDate(t);n.getDay()!==e;)n.setDate(n.getDate()-1);return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(93);e.firstDayOfMonth=function(t){return r.createDate(t.getFullYear(),t.getMonth(),1,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(115);e.firstMonthOfYear=function(t){return r.setMonth(t,0)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(91),o=n(93),i=n(92);e.setMonth=function(t,e){var n=t.getDate(),s=o.createDate(t.getFullYear(),e,n,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return s.getDate()===n?s:i.lastDayOfMonth(r.addMonths(s,-1))}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEqual=function(t,e){return!t&&!e||t&&e&&t.getTime()===e.getTime()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(111),o=n(116);e.isEqualDate=function(t,e){return!t&&!e||t&&e&&o.isEqual(r.getDate(t),r.getDate(e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(115);e.lastMonthOfYear=function(t){return r.setMonth(t,11)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(106);e.lastYearOfDecade=function(t){return r.normalizeYear(t,function(t){return t-t%10+9})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(106);e.lastDecadeOfCentury=function(t){return r.normalizeYear(t,function(t){return t-t%100+90})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MS_PER_DAY=864e5},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(101),o=n(88),i=n(93),s=n(110),a=n(121),l=function(t,e){return e!==r.Day.Monday?o.addDays(s.prevDayOfWeek(t,e),4):o.addDays(t,4-(t.getDay()||7))},c=function(t,e){var n=i.createDate(t.getFullYear(),0,1,-6),r=l(t,e),o=r.getTime()-n.getTime(),s=Math.floor(o/a.MS_PER_DAY);return 1+Math.floor(s/7)};e.weekInYear=function(t,e){void 0===e&&(e=r.Day.Monday);var n=o.addDays(t,-7),i=o.addDays(t,7),s=c(t,e);return 0===s?c(n,e)+1:53===s&&c(i,e)>1?1:s}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.Mask=function t(){n(this,t),this.symbols=""}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.defaultFormat="d",e.defaultFormatPlaceholder="wide",e.padZero=function(t){return new Array(Math.max(t,0)).fill("0").join("")},e.approximateStringMatching=function(t,e,n,r){var o=t[r+t.length-n.length],i=t.substring(0,r+t.length-n.length),s=n.substring(0,r),a=[];if(i===s&&r>0)return a.push([e[r-1],s[r-1]]),a;if(0===i.indexOf(s)&&(0===s.length||e[s.length-1]!==e[s.length])){var l="";1===s.length&&a.push([e[0],s[0]]);for(var c=s.length;c<i.length;c++)e[c]!==l&&"_"!==e[c]&&(l=e[c],a.push([l,""]));return a}if(0===s.indexOf(i)||"_"===e[r-1]){for(var u=e[0],p=Math.max(0,i.length-1);p<e.length;p++)if("_"!==e[p]){u=e[p];break}return[[u,s[r-1]]]}return" "===s[s.length-1]||s[s.length-1]===o?[[e[r-1],"_"]]:[[e[r-1],s[r-1]]]},e.dateSymbolMap=function(t,e){return t[e.pattern[0]]=e.type,t},e.isInRange=function(t,e,n){return null===t||!(e&&e>t||n&&n<t)},e.invalidClasses=["k-state-invalid"],e.wrapperClasses=["k-widget","k-dateinput"]},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.DatePicker,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initDatePicker=r;var o=n(126),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DatePicker=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(127);e.DatePicker=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,popupElement:null,jsinterop:{close:"",mousedown:""}},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}(l.PickerBase)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.PickerBase=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1);e.PickerBase=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onToggleElementClick=function(t){t.preventDefault()},i.onToggleElementMouseDown=function(){var t=i.options.jsinterop.mousedown;i.invokeMethodAsync(t)},i.onPopupKeyDown=function(t){(t.keyCode===l.KeyCode.ESCAPE||t.keyCode===l.KeyCode.ARROWUP&&t.altKey)&&(i.invokeClose(),i.focusInput(),t.stopPropagation())},i.closePopup=function(){return i.invokeClose(),!1},i.openPopup=function(){return i.invokeOpen(),!1},i.onInputFocus=function(){i.invokeClose()},i.input=i.element.getElementsByClassName("k-input")[0],i.toggleElement=i.element.querySelector(".k-select"),i.popupElement=(0,l.getElementByDataId)(n.popupId),i.initTabKeyTrap(),i.initNavigationService(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.tabKeyTrap.destroy(),this.navigationService.destroy(),this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.input=this.popupElement=this.selectArrow=null,this.tabKeyTrap=null}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWDOWN,this.openPopup),this.navigationService.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWUP,this.closePopup)}},{key:"initTabKeyTrap",value:function(){this.tabKeyTrap=new l.TabKeyTrap(this.popupElement)}},{key:"bindEvents",value:function(){this.input.addEventListener("focus",this.onInputFocus),this.toggleElement.addEventListener("click",this.onToggleElementClick),this.toggleElement.addEventListener("mousedown",this.onToggleElementMouseDown),this.popupElement.addEventListener("keydown",this.onPopupKeyDown,!0),this.tabKeyTrap.enableKeyTrap()}},{key:"unbindEvents",value:function(){this.input.removeEventListener("focus",this.onInputFocus),this.toggleElement.removeEventListener("click",this.onToggleElementClick),this.toggleElement.removeEventListener("mousedown",this.onToggleElementMouseDown),this.popupElement.removeEventListener("keydown",this.onPopupKeyDown,!0)}},{key:"focusInput",value:function(){var t=this;setTimeout(function(){t.input.focus()},100)}},{key:"invokeClose",value:function(){this.invokeMethodAsync(this.options.jsinterop.close)}},{key:"invokeOpen",value:function(){this.invokeMethodAsync(this.options.jsinterop.open)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,c.initComponent)(l.TimePicker,t,e)}function o(t){var e=(0,c.getComponentInstance)(t);e&&e.focusInput()}function i(t,e){(0,c.initComponent)(a.TimePickerCarousel,t,e)}function s(t,e){var n=(0,c.getComponentInstance)(t);n&&n.setSelectedIndex(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initTimePicker=r,e.focusTimePickerInput=o,e.initTimeCarousel=i,e.setCarouselSelectedIndex=s;var a=n(129),l=n(130),c=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TimePickerCarousel=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=(e.TimePickerCarousel=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return c.call(i),i.extendOptions(n),i.timeList=i.element.parentElement,i.listElement=i.element.querySelector("ul.k-reset"),i.timeout,i.setDimensions(),i.bindEvents(),i.options.focusOnInit&&i.focusTimeList(),i}return i(e,t),s(e,[{key:"setDimensions",value:function(){this.itemHeight=this.listElement.querySelector("li.k-item").offsetHeight,this.elementHeight=this.element.offsetHeight,this.scrollTop=this.element.scrollTop;var t=this.listElement.offsetHeight+(this.elementHeight-this.itemHeight);this.element.querySelector(".k-scrollable-placeholder").setAttribute("style","height: "+t+"px");var e=Math.floor((this.elementHeight-this.itemHeight)/2);this.listElement.setAttribute("style","transform: translateY("+e+"px);")}},{key:"bindEvents",value:function(){this.element.addEventListener("scroll",this.onScroll),this.element.addEventListener("mousedown",this.onMouseDown),this.listElement.addEventListener("click",this.onClick),this.timeList.addEventListener("keydown",this.onKeyDown),this.timeList.addEventListener("mouseenter",this.onMouseEnter),this.timeList.addEventListener("focusout",this.onFocusOut)}},{key:"destroy",value:function(){clearTimeout(this.timeout),this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.selectedIndex=this.listElement=null}},{key:"unbindEvents",value:function(){this.element.addEventListener("mousedown",this.onMouseDown),this.element.removeEventListener("scroll",this.onScroll),this.listElement.removeEventListener("click",this.onClick),this.timeList.removeEventListener("keydown",this.onKeyDown),this.timeList.removeEventListener("mouseenter",this.onMouseEnter),this.timeList.removeEventListener("focusout",this.onFocusOut)}},{key:"onKeyArrowUp",value:function(){var t=this.selectedIndex;this.setSelectedIndex(t-1),this.selectedIndex!==t&&this.invokeSelect(this.selectedIndex)}},{key:"onKeyArrowDown",value:function(){var t=this.selectedIndex;this.setSelectedIndex(t+1),this.selectedIndex!==t&&this.invokeSelect(this.selectedIndex)}},{key:"focusTimeList",value:function(){var t=this;setTimeout(function(){t.timeList.focus({preventScroll:!0})},100)}},{key:"snapToItem",value:function(t){var e=this.element.scrollTop,n=e%this.itemHeight;this.scrollTop>e?e-=n:e+=this.itemHeight-n,this.selectItem(e,t)}},{key:"selectItem",value:function(t,e){if(!Number.isNaN(t)&&(this.scrollTo(t),e)){var n=Math.floor(t/this.itemHeight);this.invokeSelect(n)}}},{key:"invokeSelect",value:function(t){var e=this.options.jsinterop.click,n=Math.min(t,this.listElement.querySelectorAll(".k-item").length-1);this.invokeMethodAsync(e,n)}},{key:"invokeEnter",value:function(){var t=this.options.jsinterop.enter;this.invokeMethodAsync(t)}},{key:"invokeFocusOut",value:function(t){t.relatedTarget&&this.invokeMethodAsync(this.options.jsinterop.focusout)}},{key:"scrollTo",value:function(t){this.element.scrollTop=t,this.scrollTop=this.element.scrollTop}},{key:"setSelectedIndex",value:function(t){this.setDimensions();var e=this.listElement.querySelectorAll(".k-item"),n=e[t];n&&(this.selectedIndex=t,this.scrollTo(n.offsetTop))}}]),e}(l.Component),function(){var t=this;this.options={dotNetInstance:null,focusOnInit:!1,jsinterop:{click:""}},this.onKeyDown=function(e){e.keyCode===l.KeyCode.ARROWUP?(t.onKeyArrowUp(),e.preventDefault()):e.keyCode===l.KeyCode.ARROWDOWN?(t.onKeyArrowDown(),e.preventDefault()):e.keyCode===l.KeyCode.ENTER&&t.invokeEnter()},this.onScroll=function(){var e=t;e.element.scrollTop!==e.scrollTop&&(clearTimeout(t.timeout),t.timeout=setTimeout(function(){e.snapToItem(!0)},33))},this.onMouseDown=function(t){t.preventDefault()},this.onClick=function(e){var n=e.target.closest("li"),r=t.listElement.querySelectorAll(".k-item"),o=Array.from(r),i=o.indexOf(n);n&&(t.scrollTo(n.offsetTop),t.invokeSelect(i))},this.onMouseEnter=function(){t.timeList.focus()},this.onFocusOut=function(e){t.invokeFocusOut(e)}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TimePicker=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(127);e.TimePicker=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,popupElement:null,jsinterop:{close:"",mousedown:""}},i.onNavigate=function(t){var e=document.activeElement;if(e.classList.contains("k-time-list")){var n=e.getAttribute("data-index");t.keyCode===l.KeyCode.ARROWLEFT?(i.focusTimeList(parseInt(n)-1),t.preventDefault()):t.keyCode===l.KeyCode.ARROWRIGHT&&(i.focusTimeList(parseInt(n)+1),t.preventDefault())}},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){this.popupElement.addEventListener("keydown",this.onNavigate),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bindEvents",this).call(this)}},{key:"unbindEvents",value:function(){this.popupElement.addEventListener("keydown",this.onNavigate),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"unbindEvents",this).call(this)}},{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"focusTimeList",value:function(t){var e='.k-time-list[data-index="'+t+'"]',n=this.popupElement.querySelector(e);n&&n.focus()}},{key:"focusFirstCarousel",value:function(){var t=this;this.popupElement&&setTimeout(function(){var e=t.popupElement.querySelector(".k-time-list");e instanceof HTMLElement&&e.focus()},100)}}]),e}(c.PickerBase)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Calendar,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initCalendar=r;var o=n(132),i=n(1)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Calendar=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=n(1),u="keydown",p="mousedown",h="click",f="focus",d="focusout",v=[c.KeyCode.ARROWUP,c.KeyCode.ARROWDOWN,c.KeyCode.ARROWLEFT,c.KeyCode.ARROWRIGHT,c.KeyCode.HOME,c.KeyCode.END];e.Calendar=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.onKeyDown=function(t){var e=v.concat(c.KeyCode.ENTER);e.includes(t.keyCode)?t.preventDefault():(t.shiftKey||t.ctrlKey)&&t.stopPropagation()},r.onMouseDown=function(t){t.preventDefault()},r.onClick=function(t){var e=t.currentTarget;e&&e.focus()},r.onFocus=function(){r.invokeMethodAsync(r.options.jsinterop.focus)},r.onFocusout=function(t){t.relatedTarget&&r.invokeMethodAsync(r.options.jsinterop.focusout)},r.extendOptions(n),r.tables=r.element.querySelectorAll("table"),r.bindEvents(),r}return s(e,t),a(e,[{key:"destroy",value:function(){this.unbindEvents(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.tables=this.navigationService=null}},{key:"bindEvents",value:function(){var t=this;[].concat(r(this.tables)).forEach(function(e){e.addEventListener(p,t.onMouseDown),e.addEventListener(h,t.onClick),e.addEventListener(u,t.onKeyDown,!0),e.addEventListener(f,t.onFocus),e.addEventListener(d,t.onFocusout)})}},{key:"unbindEvents",value:function(){var t=this;[].concat(r(this.tables)).forEach(function(e){e.removeEventListener(p,t.onMouseDown),e.removeEventListener(h,t.onClick),e.removeEventListener(u,t.onKeyDown,!0),e.removeEventListener(f,t.onFocus),e.removeEventListener(d,t.onFocusout)})}},{key:"focusTable",value:function(){var t=this.tables[0];t&&setTimeout(function(){t.focus()},100)}}]),e}(c.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.DateTimePicker,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initDateTimePicker=r;var o=n(134),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{
value:!0}),e.DateTimePicker=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(127);e.DateTimePicker=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{close:"",mousedown:""}},i.onNavigate=function(t){var e=document.activeElement;if(e.classList.contains("k-time-list")){var n=e.getAttribute("data-index");t.keyCode===l.KeyCode.ARROWLEFT?(i.focusTimeList(parseInt(n)-1),t.preventDefault()):t.keyCode===l.KeyCode.ARROWRIGHT&&(i.focusTimeList(parseInt(n)+1),t.preventDefault())}},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){this.popupElement.addEventListener("keydown",this.onNavigate),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bindEvents",this).call(this)}},{key:"unbindEvents",value:function(){this.popupElement.addEventListener("keydown",this.onNavigate),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"unbindEvents",this).call(this)}},{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"focusTimeList",value:function(t){var e='.k-time-list[data-index="'+t+'"]',n=this.popupElement.querySelector(e);n&&n.focus()}},{key:"focusTable",value:function(){var t=this;setTimeout(function(){var e=t.popupElement&&t.popupElement.querySelector("table");e instanceof HTMLElement&&e.focus()},100)}},{key:"focusFirstCarousel",value:function(){var t=this;this.popupElement&&setTimeout(function(){var e=t.popupElement.querySelector(".k-time-list");e instanceof HTMLElement&&e.focus()},100)}}]),e}(c.PickerBase)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.DateRangePicker,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initDateRangePicker=r;var o=n(136),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DateRangePicker=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c="blur",u="click";e.DateRangePicker=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.options={dotNetInstance:null,popupElement:null,jsinterop:{change:"",close:"",open:""}},i.onStartEnterKeyDown=function(){i.triggerStartChanged(),i.focusEndInput()},i.onEndEnterKeyDown=function(){i.triggerEndChanged(),i.invokeClose()},i.onPopupShiftTab=function(t,e){var n=(0,l.findFocusable)(i.popupElement,!1);return e.target!==n||(i.focusEndInput(),!1)},i.onPopupTab=function(t,e){var n=i.popupElement.querySelector("table:last-child");return e.target===n&&i.triggerClose(),!0},i.triggerStartOpen=function(){return i.isClosed()&&i.invokeOpen(i.options.startTarget),!0},i.triggerEndOpen=function(){return i.isClosed()&&i.invokeOpen(i.options.endTarget),!0},i.triggerStartChanged=function(){i.invokeChange(i.options.startTarget)},i.triggerEndChanged=function(){i.invokeChange(i.options.endTarget)},i.triggerClose=function(){return i.invokeClose(),!0},i.focusPopupCalendar=function(){return!!i.isClosed()||(i.popupElement.querySelector("table").focus(),!1)},i.closePopup=function(){return!!i.isClosed()||(i.triggerClose(),i.focusStartInput(),!1)};var s=i.element.querySelectorAll(".k-input");return i.startInput=s[0],i.endInput=s[1],i.popupElement=(0,l.getElementByDataId)(n.popupId),i.extendOptions(n),i.initNavigationServices(),i.bindEvents(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){this.startInput.addEventListener(c,this.triggerStartChanged),this.endInput.addEventListener(c,this.triggerEndChanged),this.startInput.addEventListener(u,this.triggerStartOpen,!0),this.endInput.addEventListener(u,this.triggerEndOpen,!0)}},{key:"unbindEvents",value:function(){this.startInput.removeEventListener(c,this.triggerStartChanged),this.endInput.removeEventListener(c,this.triggerEndChanged),this.startInput.removeEventListener(u,this.triggerStartOpen,!0),this.endInput.removeEventListener(u,this.triggerEndOpen,!0)}},{key:"destroy",value:function(){this.unbindEvents(),this.navigationServices.forEach(function(t){return t.destroy()}),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"initNavigationServices",value:function(){this.navigationServices=[this.initStartInputNavigationService(),this.initEndInputNavigationService(),this.initPopupNavigationService()]}},{key:"initStartInputNavigationService",value:function(){var t=new l.NavigationService(this.startInput);return t.bind([l.Key.ESC,l.KeyModifiers.ALT+" "+l.Key.ARROWUP],this.closePopup),t.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWDOWN,this.triggerStartOpen),t.bind(l.Key.ENTER,this.onStartEnterKeyDown),t.bind(l.KeyModifiers.SHIFT+" "+l.Key.TAB,this.triggerClose),t}},{key:"initEndInputNavigationService",value:function(){var t=new l.NavigationService(this.endInput);return t.bind([l.Key.ESC,l.KeyModifiers.ALT+" "+l.Key.ARROWUP],this.closePopup),t.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWDOWN,this.triggerEndOpen),t.bind(l.Key.TAB,this.focusPopupCalendar),t.bind(l.Key.ENTER,this.onEndEnterKeyDown),t}},{key:"initPopupNavigationService",value:function(){var t=new l.NavigationService(this.popupElement);return t.bind(l.KeyModifiers.SHIFT+" "+l.Key.TAB,this.onPopupShiftTab),t.bind(""+l.Key.TAB,this.onPopupTab),t.bind([l.Key.ESC,l.KeyModifiers.ALT+" "+l.Key.ARROWUP],this.closePopup),t}},{key:"focusStartInput",value:function(){this.startInput.focus()}},{key:"focusEndInput",value:function(){this.endInput.focus()}},{key:"invokeChange",value:function(t){this.invokeMethodAsync(this.options.jsinterop.change,t)}},{key:"invokeClose",value:function(){this.invokeMethodAsync(this.options.jsinterop.close)}},{key:"invokeOpen",value:function(t){this.invokeMethodAsync(this.options.jsinterop.open,t)}},{key:"isClosed",value:function(){return!this.popupElement||!this.popupElement.children[0].children.length}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(138);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(146);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(148);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(151);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(152);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var l=n(154);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var c=n(157);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.MaskedTextBox,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initMaskedTextBox=r;var o=n(139),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MaskedTextBox=void 0;var s=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=n(1),u=n(140);e.MaskedTextBox=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.defaultRules={"#":/[\d\s\+\-]/,"&":/[\S]/,0:/[\d]/,9:/[\d\s]/,"?":/[a-zA-Z\s]/,A:/[a-zA-Z0-9]/,C:/./,L:/[a-zA-Z]/,a:/[a-zA-Z0-9\s]/},i.options={dotNetInstance:null,includeLiterals:!1,mask:"",prompt:"",promptPlaceholder:"",maskOnFocus:!1,rules:i.defaultRules,value:"",jsinterop:{blur:"",updateValue:"",change:""}},i.state={selection:[0,0],isPasted:!1,shouldFocusOnClick:!1,service:null,isFocused:!1,maskedValue:"",value:""},i.onFocus=function(){i.state.isFocused=!0,i.options.maskOnFocus&&i.isMaskEmpty()&&(i.updateInput(i.state.service.maskRaw(i.state.value)),i.setSelection(0,0)),i.invokeFocus()},i.onPaste=function(t){var e=t.target,n=e.selectionStart,r=e.selectionEnd;r!==n&&(i.state.isPasted=!0,i.state.selection=[n,r])},i.onBlur=function(){i.state.isFocused=!1,i.state.shouldFocusOnClick=!1,i.options.maskOnFocus&&i.isMaskEmpty()&&i.updateInput(i.state.maskedValue),i.invokeBlur()},i.onClick=function(){if(i.state.isFocused&&!i.state.shouldFocusOnClick){i.state.shouldFocusOnClick=!0;var t=i.element,e=t.selectionStart,n=t.selectionEnd;e===n&&i.setFocusSelection()}},i.onInput=function(t){var e=t.target.value,n=s(i.state.selection,2),r=n[0],o=n[1];if(!i.options.mask)return i.updateComponentValue(e),void(i.state.isPasted=!1);var a=void 0;if(i.state.isPasted){i.state.isPasted=!1;var l=i.state.maskedValue.length-o,c=e.length-l;a=i.state.service.maskInRange(e.slice(r,c),i.state.maskedValue,r,o)}else a=i.state.service.maskInput(e,i.state.maskedValue,t.target.selectionStart);i.updateInput(a.value,a.selection),i.updateComponentValue(a.value)},i.extendOptions(n),i.bindEvents(),i.state.service=new u.MaskingService,i.updateService(),i.setValue(i.options.value),i}return i(e,t),a(e,[{key:"bindEvents",value:function(){this.element.addEventListener("blur",this.onBlur),this.element.addEventListener("input",this.onInput),this.element.addEventListener("focus",this.onFocus),this.element.addEventListener("click",this.onClick),this.element.addEventListener("paste",this.onPaste)}},{key:"destroy",value:function(){this.unbindEvents(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("blur",this.onBlur),this.element.removeEventListener("input",this.onInput),this.element.removeEventListener("focus",this.onFocus),this.element.removeEventListener("click",this.onClick),this.element.removeEventListener("paste",this.onPaste)}},{key:"updateService",value:function(){this.state.service.update({includeLiterals:this.options.includeLiterals,mask:this.options.mask,prompt:this.options.prompt,promptPlaceholder:this.options.promptPlaceholder,rules:this.options.rules})}},{key:"setOptions",value:function(t){var e=this.options.promptPlaceholder,n=this.options.includeLiterals;this.extendOptions(t),this.updateService(),this.setValue(this.options.value),e===this.options.promptPlaceholder&&n===this.options.includeLiterals||this.updateComponentValue(this.state.maskedValue)}},{key:"updateComponentValue",value:function(t){this.options.mask&&!this.state.service.validationValue(t)?this.state.value="":this.state.value=this.state.service.rawValue(t),this.invokeUpdate(this.state.value)}},{key:"setValue",value:function(t){if(this.state.value=t,!this.options.mask)return void this.updateInput(this.state.value);var e=this.state.service.maskRaw(this.state.value);this.updateInput(e)}},{key:"setFocusSelection",value:function(){var t=this.element.selectionStart,e=this.state.maskedValue?this.state.maskedValue.indexOf(this.options.prompt):0;e>=0&&e<t&&(this.state.selection=[e,e],this.setSelection())}},{key:"updateInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1];this.state.maskedValue=t;var n=this.shouldResetValue()?"":t;this.element.value=n,void 0!==e&&this.setSelection(e,e)}},{key:"setSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.selection[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.selection[1];this.state.isFocused&&this.element.setSelectionRange(t,e)}},{key:"isMaskEmpty",value:function(){return this.state.service.maskRaw()===this.state.maskedValue}},{key:"shouldResetValue",value:function(){return this.options.maskOnFocus&&!this.state.isFocused&&this.isMaskEmpty()}},{key:"invokeBlur",value:function(){this.invokeMethodAsync(this.options.jsinterop.blur)}},{key:"invokeFocus",value:function(){this.invokeMethodAsync(this.options.jsinterop.focus)}},{key:"invokeUpdate",value:function(t){this.invokeMethodAsync(this.options.jsinterop.updateValue,t)}}]),e}(c.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(141);e.MaskingService=r.MaskingService},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(142),o=n(143),i=function(){function t(){this.rules={},this.prompt="_",this.mask="",this.promptPlaceholder=" ",this.includeLiterals=!1,this.maskTokens=[],this.unmaskTokens=[],this.rawTokens=[],this.validationTokens=[]}return t.prototype.update=function(t){var e=t.mask,n=void 0===e?"":e,r=t.prompt,o=void 0===r?"":r,i=t.promptPlaceholder,s=void 0===i?" ":i,a=t.rules,l=void 0===a?{}:a,c=t.includeLiterals,u=void 0!==c&&c;this.mask=n,this.prompt=o,this.promptPlaceholder=s,this.rules=l,this.includeLiterals=u,this.tokenize()},t.prototype.validationValue=function(t){void 0===t&&(t="");var e=t;return r.sequence(this.validationTokens).run(t).fold(function(t){e=t.join("")}),e},t.prototype.rawValue=function(t){void 0===t&&(t="");var e=t;return this.rawTokens.length?(r.sequence(this.rawTokens).run(t).fold(function(t){e=t.join("")}),e):e},t.prototype.maskRaw=function(t){void 0===t&&(t="");var e=t;return this.maskTokens.length?(r.sequence(this.maskTokens).run(t).fold(function(t){e=t.join("")}),e):e},t.prototype.maskInput=function(t,e,n){return t.length<e.length?this.maskRemoved(t,e,n):this.maskInserted(t,e,n)},t.prototype.maskInRange=function(t,e,n,o){var i="",s=o,a=e.split("").slice(0,n),l=e.split("").slice(o);return r.sequence(this.maskTokens.slice(n,o)).run(t).fold(function(t){i=a.concat(t).concat(l).join("")}),{selection:s,value:i}},t.prototype.maskRemoved=function(t,e,n){var o=this,i="",s=n,a=t.split("").slice(n),l=t.split("").slice(0,n).join(""),c=this.maskTokens.length-(t.length-n);return r.sequence(this.maskTokens.slice(0,c)).run(l,e).fold(function(t){s=o.adjustPosition(t,s),i=t.concat(a).join("")}),{selection:s,value:i}},t.prototype.adjustPosition=function(t,e){var n=t[e],r=this.maskTokens[e].isLiteral(n);return r||n===this.prompt?e:e+1},t.prototype.maskInserted=function(t,e,n){var o=this,i="",s=n,a=t.slice(0,n);return r.sequence(this.unmaskTokens).run(a,e).chain(function(t){s=t.join("").length;var n=e.slice(s);return r.sequence(o.maskTokens).run(t.join("")+n,e)}).fold(function(t){i=t.join("")}),{selection:s,value:i}},Object.defineProperty(t.prototype,"maskTokenCreator",{get:function(){var t=this,e=t.prompt,n=t.promptPlaceholder;return{literal:function(t){return o.literal(t)},mask:function(t){return o.mask({prompt:e,promptPlaceholder:n})(t)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unmaskTokenCreator",{get:function(){var t=this;return{literal:function(t){return o.unliteral(t)},mask:function(e){return o.unmask(t.prompt)(e)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawTokenCreator",{get:function(){var t=this,e=t.prompt,n=t.promptPlaceholder,r=t.includeLiterals;return{literal:function(t){return o.rawLiteral(r)},mask:function(t){return o.rawMask({prompt:e,promptPlaceholder:n})}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validationTokenCreator",{get:function(){var t=this.prompt;return{literal:function(t){return o.rawLiteral(!1)},mask:function(e){return o.rawMask({prompt:t,promptPlaceholder:""})}}},enumerable:!0,configurable:!0}),t.prototype.tokenize=function(){var t=this;r.greedy(o.token(this.rules,this.maskTokenCreator)).run(this.mask).fold(function(e,n){t.maskTokens=e}),r.greedy(o.token(this.rules,this.unmaskTokenCreator)).run(this.mask).fold(function(e,n){t.unmaskTokens=e}),r.greedy(o.token(this.rules,this.rawTokenCreator)).run(this.mask).fold(function(e,n){t.rawTokens=e}),r.greedy(o.token(this.rules,this.validationTokenCreator)).run(this.mask).fold(function(e,n){t.validationTokens=e})},t}();e.MaskingService=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(143),o=n(144),i=function(t){return new r.Parser(function(e){return new o.Result(t,e)})},s=function(t,e){return t.chain(function(t){return e.map(function(e){return t.concat([e])})})};e.sequence=function(t){return t.reduce(function(t,e){return s(t,e)},i([]))},e.greedy=function(t){return new r.Parser(function(e){for(var n=new o.Result([],e);!e.eof();)n=n.concat(t.run(e));return n})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(144),o=n(145),i=function(t){return(t||"").split("")},s="\\",a=function(){function t(t){this.parse=t}return t.prototype.run=function(t,e){return void 0===e&&(e=""),t instanceof o.Stream?this.parse(t):this.parse(new o.Stream(i(t),i(e)))},t.prototype.map=function(e){var n=this;return new t(function(t){return n.parse(t).map(e)})},t.prototype.chain=function(e){var n=this;return new t(function(t){return n.parse(t).chain(function(t,n){return e(t).run(n)})})},t.prototype.isLiteral=function(t){return this.run(t).type===r.ResultType.Literal},t}();e.Parser=a,e.mask=function(t){var e=t.prompt,n=t.promptPlaceholder;return function(t){return new a(function(o){for(;!o.eof();){var i=o.peek(),s=i.char,a=i.control;if(s===a&&a===e)return o.eat(),new r.Result(e,o,r.ResultType.Mask);if(t.test(s))return o.eat(),new r.Result(s,o,r.ResultType.Mask);if(s===n)return o.eat(),new r.Result(e,o,r.ResultType.Mask);o.eat_input()}return o.eat(),new r.Result(e,o,r.ResultType.Mask)})}},e.literal=function(t){return new a(function(e){var n=e.peek().char;return n===t?(e.eat(),new r.Result(t,e,r.ResultType.Literal)):new r.Result(t,e,r.ResultType.Literal)})},e.unmask=function(t){return function(e){return new a(function(n){for(;!n.eof();){var o=n.peek(),i=o.char,s=o.control;if(i===t&&s===t)return n.eat(),new r.Result(i,n);if(e.test(i))return n.eat(),new r.Result(i,n);n.eat_input()}return n.eat(),new r.Result("",n)})}},e.unliteral=function(t){return new a(function(e){if(e.eof())return new r.Result("",e);var n=e.peek().char;return n===t&&e.eat(),new r.Result(t,e)})},e.token=function(t,e){return new a(function(n){var o=n.next().char,i=t[o];return o===s?(o=n.next().char,new r.Result(e.literal(o),n)):i?new r.Result(e.mask(i),n):new r.Result(e.literal(o),n)})},e.rawMask=function(t){var e=t.prompt,n=t.promptPlaceholder;return new a(function(t){var o=t.next().char;return o===e?new r.Result(n,t):new r.Result(o,t)})},e.rawLiteral=function(t){return new a(function(e){var n=e.next().char;return t?new r.Result(n,e):new r.Result("",e)})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Literal=0]="Literal",t[t.Mask=1]="Mask",t[t.Undefined=2]="Undefined"}(n=e.ResultType||(e.ResultType={}));var r=function(){function t(t,e,r){void 0===r&&(r=n.Undefined),this.value=t,this.rest=e,this.type=r}return t.prototype.map=function(e){return new t(e(this.value),this.rest)},t.prototype.chain=function(t){return t(this.value,this.rest)},t.prototype.fold=function(t,e){return t(this.value,this.rest)},t.prototype.concat=function(t){return this.map(function(e,n){return t.chain(function(t,n){return e.concat([t])})})},t.prototype.toString=function(){return"Result({ value: '"+this.value+"', rest: "+this.rest+" })"},t}();e.Result=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),this.input=t,this.control=e,this.inputCursor=0,this.controlCursor=0}return t.prototype.eof=function(){return this.inputCursor>=this.input.length},t.prototype.next=function(){return{char:this.input[this.inputCursor++],control:this.control[this.controlCursor++]}},t.prototype.peek=function(){return{char:this.input[this.inputCursor],control:this.control[this.controlCursor]}},t.prototype.eat_input=function(){this.inputCursor++},t.prototype.eat_control=function(){this.controlCursor++},t.prototype.eat=function(){this.inputCursor++,this.controlCursor++},t}();e.Stream=n},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.NumericTextBox,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initNumericTextBox=r;var o=n(147),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.NumericTextBox=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c={increaseArrow:"k-link-increase",descreaseArrow:"k-link-decrease"},u=[l.KeyCode.ARROWDOWN,l.KeyCode.ARROWUP];e.NumericTextBox=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,decimals:0,separator:"\\.",min:null,max:null,value:"",jsinterop:{blur:""}},i.onKeyDown=function(t){u.includes(t.keyCode)&&t.preventDefault()},i.extendOptions(n),i.element.value=i.options.value,i.upArrowElement=t.parentElement.getElementsByClassName(c.increaseArrow)[0],i.downArrowElement=t.parentElement.getElementsByClassName(c.descreaseArrow)[0],i.bindEvents(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){this.onKeyPress=this.onKeyPress.bind(this),this.onPaste=this.onPaste.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onBlur=this.onBlur.bind(this),this.element.addEventListener("keydown",this.onKeyDown),this.element.addEventListener("keypress",this.onKeyPress),this.element.addEventListener("paste",this.onPaste),this.element.addEventListener("blur",this.onBlur),this.upArrowElement&&this.upArrowElement.addEventListener("mousedown",this.onMouseDown),this.downArrowElement&&this.downArrowElement.addEventListener("mousedown",this.onMouseDown)}},{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.upArrowElement=null,this.downArrowElement=null}},{key:"unbindEvents",value:function(){this.element.removeEventListener("keydown",this.onKeyDown),this.element.removeEventListener("keypress",this.onKeyPress),this.element.removeEventListener("paste",this.onPaste),this.element.removeEventListener("blur",this.onBlur),this.upArrowElement&&this.upArrowElement.removeEventListener("mousedown",this.onMouseDown),this.downArrowElement&&this.downArrowElement.removeEventListener("mousedown",this.onMouseDown)}},{key:"onKeyPress",value:function(t){var e=String.fromCharCode(t.which);this.isValid(e)||t.keyCode===l.KeyCode.ENTER||t.preventDefault()}},{key:"onPaste",value:function(t){this.isValid(t.clipboardData.getData("text/plain"))||t.preventDefault()}},{key:"onMouseDown",value:function(t){t.preventDefault(),document.activeElement!==this.element&&this.element.focus()}},{key:"onBlur",value:function(){var t=this.options.jsinterop.blur;this.invokeMethodAsync(t)}},{key:"numericRegex",value:function(){var t=this.options.separator,e=this.options.decimals,n="{0,"+e+"}";return e?new RegExp("^(-)?(((\\d+(["+t+"]\\d"+n+")?)|(["+t+"]\\d"+n+")))?$"):/^(-)?(\d*)$/}},{key:"caret",value:function(){return[this.element.selectionStart,this.element.selectionEnd]}},{key:"isValid",value:function(t){var e=this.element.value,n=this.caret();return e=e.substring(0,n[0])+t+e.substring(n[1]),!!this.numericRegex().test(e)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.TextArea,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initTextArea=r;var o=n(149),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TextArea=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(150),c=function(t){return t+"px"};e.TextArea=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={autoSize:!1,jsinterop:{updateValue:""}},i.extendOptions(n),i.resize(),i}return i(e,t),s(e,[{key:"destroy",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bindEvents",this).call(this),this.onInput=this.onInput.bind(this),this.element.addEventListener("input",this.onInput)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("input",this.onInput),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"unbindEvents",this).call(this)}},{key:"onInput",value:function(){this.resize(),this.invokeMethodAsync(this.options.jsinterop.updateValue,this.element.value)}},{key:"setValue",value:function(t){this.element.value=t,this.resize()}},{key:"resize",value:function(){if(this.options.autoSize){var t=this.element;t.style.height="",t.style.height=c(t.scrollHeight)}}}]),e}(l.TextBox)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TextBox=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1);e.TextBox=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{blur:""}},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){this.onBlur=this.onBlur.bind(this),this.element.addEventListener("blur",this.onBlur)}},{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("blur",this.onBlur)}},{key:"onBlur",value:function(){var t=this.options.jsinterop.blur;this.invokeMethodAsync(t)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.TextBox,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initTextBox=r;var o=n(150),i=n(1)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Switch,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initSwitch=r;var o=n(153),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Switch=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1);e.Switch=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{onSpaceKeyDown:""}},i.onSpaceKeyDown=function(){return i.invokeMethodAsync(i.options.jsinterop.onSpaceKeyDown),!1},i.extendOptions(n),i.initNavigationService(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.navigationService.destroy(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(l.Key.SPACE,this.onSpaceKeyDown)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Slider,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initSlider=r;var o=n(155),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(54),u=n(156),p=[l.Key.ARROWUP,l.Key.ARROWDOWN,l.Key.ARROWLEFT,l.Key.ARROWRIGHT,l.Key.PAGE_UP,l.Key.PAGE_DOWN,l.Key.HOME,l.Key.END];e.Slider=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onDragStart=function(){(0,l.removeClass)("k-slider-transitions",i.element)},i.onDrag=function(t){var e=i.eventValue(t);i.setSliderEnd(e)},i.onDragEnd=function(){i.changeValue(i.endValue),(0,l.addClass)("k-slider-transitions",i.element)},i.onClick=function(t){var e=i.eventValue(t);i.changeValue(e),i.dragHandle.focus()},i.onNavigate=function(t){i.invokeNavigate(t.name)},i.extendOptions(n),i.dragHandle=i.element.querySelector(".k-draghandle"),i.bindEvents(),(0,l.addClass)("k-slider-transitions",i.element),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"setOptions",value:function(t){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setOptions",this).call(this,t),(0,l.hasClass)("k-slider-transitions")||(0,l.addClass)("k-slider-transitions",this.element)}},{key:"bindEvents",value:function(){this.initDraggable(),this.initNavigationService(),this.sliderTrack.addEventListener("click",this.onClick)}},{key:"unbindEvents",value:function(){this.draggable.destroy(),this.navigationService.destroy(),this.sliderTrack.removeEventListener("click",this.onClick)}},{key:"initDraggable",value:function(){this.draggable=new c.Draggable(this.element,{filter:".k-draghandle",events:{dragStart:this.onDragStart,drag:this.onDrag,dragEnd:this.onDragEnd}})}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.dragHandle),this.navigationService.bind(p,this.onNavigate)}},{key:"changeValue",value:function(t){this.setSliderEnd(t),this.invokeChangeValue(t)}},{key:"invokeChangeValue",value:function(){this.invokeMethodAsync(this.options.jsinterop.changeValue,this.endValue)}},{key:"invokeNavigate",value:function(t){this.invokeMethodAsync(this.options.jsinterop.navigate,t)}}]),e}(u.SliderBase)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.SliderBase=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1);e.SliderBase=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.snapValue=function(t){var e=(0,a.closestDivisibleTo)(t-i.options.min,i.options.smallStep)+i.options.min;return(0,a.clamp)(e,i.options.min,i.options.max)},i.extendOptions(n),i.sliderTrack=i.element.querySelector(".k-slider-track-wrap"),i}return i(e,t),s(e,[{key:"eventValue",value:function(t){var e=this.calculatePercentageValue(t),n=this.convertToValue(e);return this.snapValue(n)}},{key:"calculatePercentageValue",value:function(t){var e=this.sliderTrack.getBoundingClientRect();return"vertical"===this.options.orientation?100-(t.clientY-e.top)/e.height*100:(t.clientX-e.left)/e.width*100}},{key:"convertToValue",value:function(t){return this.options.min+t*(this.options.max-this.options.min)/100}},{key:"convertToPercentage",value:function(t){return(t-this.options.min)/(this.options.max-this.options.min)*100}},{key:"setSliderEnd",value:function(t){this.endValue=t,this.element&&this.element.style.setProperty("--kendo-slider-end",this.convertToPercentage(t))}},{key:"setSliderStart",value:function(t){this.startValue=t,this.element&&this.element.style.setProperty("--kendo-slider-start",this.convertToPercentage(t))}}]),e}(a.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.RangeSlider,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initRangeSlider=r;var o=n(158),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.RangeSlider=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(156),u=n(54),p=[l.Key.ARROWUP,l.Key.ARROWDOWN,l.Key.ARROWLEFT,l.Key.ARROWRIGHT,l.Key.PAGE_UP,l.Key.PAGE_DOWN,l.Key.HOME,l.Key.END];e.RangeSlider=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onStartHandleDrag=function(t){var e=i.eventValue(t);e>i.endValue&&i.setSliderEnd(e),i.setSliderStart(e)},i.onEndHandleDrag=function(t){var e=i.eventValue(t);e<i.startValue&&i.setSliderStart(e),i.setSliderEnd(e)},i.onDragEnd=function(){i.changeValue(i.startValue,i.endValue)},i.onClick=function(t){var e=i.eventValue(t);e<=i.startValue||e<(i.startValue+i.endValue)/2?(i.changeValue(e,i.endValue),i.startHandle.focus()):(e>=i.endValue||e>=(i.startValue+i.endValue)/2)&&(i.changeValue(i.startValue,e),i.endHandle.focus())},i.onStartHandleNavigate=function(t){i.invokeMethodAsync(i.options.jsinterop.startNavigate,t.name)},i.onEndHandleNavigate=function(t){i.invokeMethodAsync(i.options.jsinterop.endNavigate,t.name)},i.startHandle=i.element.querySelector(".k-draghandle-start"),i.endHandle=i.element.querySelector(".k-draghandle-end"),i.startValue=i.options.startValue,i.endValue=i.options.endValue,i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.startHandle=this.endHandle=null}},{key:"setOptions",value:function(t){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setOptions",this).call(this,t),this.startValue=this.options.startValue,this.endValue=this.options.endValue}},{key:"bindEvents",value:function(){this.initDraggable(),this.initNavigationService(),this.sliderTrack.addEventListener("click",this.onClick)}},{key:"unbindEvents",value:function(){this.destroyDraggable(),this.destroyNavigationService(),this.sliderTrack.removeEventListener("click",this.onClick)}},{key:"initDraggable",value:function(){this.startDraggable=new u.Draggable(this.element,{filter:".k-draghandle-start",events:{drag:this.onStartHandleDrag,dragEnd:this.onDragEnd}}),this.endDraggable=new u.Draggable(this.element,{filter:".k-draghandle-end",events:{drag:this.onEndHandleDrag,dragEnd:this.onDragEnd}})}},{key:"destroyDraggable",value:function(){this.startDraggable.destroy(),this.endDraggable.destroy()}},{key:"initNavigationService",value:function(){this.startNavigationService=new l.NavigationService(this.startHandle),this.endNavigationService=new l.NavigationService(this.endHandle),this.startNavigationService.bind(p,this.onStartHandleNavigate),this.endNavigationService.bind(p,this.onEndHandleNavigate)}},{key:"destroyNavigationService",value:function(){this.startNavigationService.destroy(),this.endNavigationService.destroy()}},{key:"changeValue",value:function(t,e){var n=null===t?this.options.min:t,r=null===e?this.options.min:e;this.setSliderStart(Math.max(n,this.options.min)),this.setSliderEnd(Math.max(r,this.options.min,n)),this.invokeChangeValue()}},{key:"invokeChangeValue",value:function(){var t=this.options.jsinterop.changeValue;if(this.dotNetInstance&&this.dotNetInstance.invokeMethodAsync&&t)return this.dotNetInstance.invokeMethodAsync(t,this.startValue,this.endValue)}}]),e}(c.SliderBase)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(160);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(162);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(164);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(166);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.MenuItem,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initMenuItem=r;var o=n(1),i=n(161)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItem=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=[l.Key.ENTER,l.Key.SPACE,l.Key.HOME,l.Key.END,l.Key.ARROWDOWN,l.Key.ARROWUP,l.Key.ARROWLEFT,l.Key.ARROWRIGHT];e.MenuItem=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onKeyDown=function(t){i.invokeKeyDown(t)},i.onFocus=function(){i.invokeFocus()},i.onFocusOut=function(){i.invokeFocusOut()},i.onClick=function(){i.invokeClick()},i.popup=(0,l.getElementByDataId)(n.popupId),i.options=n,i.bindEvents(),i.initNavigationService(),i}return i(e,t),s(e,[{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(c,this.onKeyDown)}},{key:"bindEvents",value:function(){this.element.addEventListener("focus",this.onFocus),this.element.addEventListener("focusout",this.onFocusOut),this.element.addEventListener("click",this.onClick)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("focus",this.onFocus),this.element.removeEventListener("focusout",this.onFocusOut),this.element.removeEventListener("click",this.onClick)}},{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.popup=null}},{key:"hasParentPopupWithDisplayNone",value:function(t){if("none"===t.style.display)return!0;var e=t.closest(".k-popup")!==t?t.closest(".k-popup"):null,n=e!==t?e:null;return n&&this.hasParentPopupWithDisplayNone(n)}},{key:"focusNode",value:function(){this.element&&(this.hasParentPopupWithDisplayNone(this.element)?(0,l.focusInNextFrameAsync)(this.element):document.activeElement!==this.element&&this.element.focus())}},{key:"invokeKeyDown",value:function(t){this.invokeMethodAsync(this.options.jsinterop.keydown,t.name)}},{key:"invokeFocus",value:function(){this.invokeMethodAsync(this.options.jsinterop.focus)}},{key:"invokeFocusOut",value:function(){this.invokeMethodAsync(this.options.jsinterop.focusout)}},{key:"invokeClick",value:function(){this.invokeMethodAsync(this.options.jsinterop.click)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.TabStrip,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initTabStrip=r;var o=n(1),i=n(163)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TabStrip=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=".k-item",u="keydown",p={horizontal:"horizontal",vertical:"vertical"},h=[l.KeyCode.ARROWUP,l.KeyCode.ARROWDOWN],f=[l.KeyCode.ARROWLEFT,l.KeyCode.ARROWRIGHT],d=[l.KeyCode.HOME,l.KeyCode.END];e.TabStrip=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onKeyDown=function(t){var e=i.options.orientation===p.vertical?h:f,n=e.concat(d);n.includes(t.keyCode)&&t.preventDefault()},i.tabList=i.element.querySelector(".k-tabstrip-items"),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.tabList.addEventListener(u,this.onKeyDown)}},{key:"unbindEvents",value:function(){this.tabList.removeEventListener(u,this.onKeyDown)}},{key:"focusTab",value:function(t){var e=this.tabList.querySelectorAll(c)[t];e&&e.focus()}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.TreeView,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initTreeView=r;var o=n(1),i=n(165)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TreeView=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(54),u=n(51),p=n(56),h="keydown",f="mousedown",d=[l.KeyCode.ARROWLEFT,l.KeyCode.ARROWRIGHT,l.KeyCode.ARROWUP,l.KeyCode.ARROWDOWN,l.KeyCode.HOME,l.KeyCode.END,l.KeyCode.ENTER],v={forbidden:"k-i-cancel",before:"k-i-insert-middle",after:"k-i-insert-middle",over:"k-i-add"},y={forbidden:"forbidden",before:"before",after:"after",over:"over"},g=(e.TreeView=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return g.call(i),i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),this.draggable&&this.draggable.destroy(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener(h,this.onKeyDown),this.element.addEventListener(f,this.onMouseDown),this.options.draggable&&this.createDraggable()}},{key:"unbindEvents",value:function(){this.element.removeEventListener(h,this.onKeyDown),this.element.removeEventListener(f,this.onMouseDown)}},{key:"setOptions",value:function(t){this.options.draggable!==t.draggable&&(t.draggable?this.createDraggable():this.draggable.destroy()),this.extendOptions(t)}},{key:"focusNode",value:function(t){var e=this.element.querySelector('[data-treeindex="'+t+'"]');e&&e.focus()}},{key:"createDraggable",value:function(){this.element&&(this.draggable=new c.Draggable(this.element,{group:".k-treeview",filter:".k-in",hint:this.createHint,offset:function(t){var e=t.getBoundingClientRect();return{x:e.width/2+10,y:e.height/2+10}},events:{dragStart:this.onDragStart,drag:this.onDrag,dragEnd:this.onDragEnd}}))}},{key:"getDestinationTree",value:function(t){var e=this.element,n=t.closest(".k-treeview");if(n&&e!==n){var r=n.getAttribute("data-id"),o=(0,l.getComponentInstance)(r);return o&&o.dotNetInstance}return this.dotNetInstance}},{key:"getDropPosition",value:function(t){var e=t.elementUnderCursor,n=e.closest(".k-mid");if(!n||e===t.originalCurrentTarget)return y.forbidden;var r=n.getBoundingClientRect(),o=r.height/4,i=t.clientY,s=r.top;return i<s+o?y.before:i>=s+r.height-o?y.after:y.over}},{key:"updateDragClueState",value:function(){if(this.draggable.hint){var t=this.draggable.hint.querySelector(".k-icon");(0,l.removeClass)(this.dropStatusClass,t),this.dropStatusClass=v[this.lastDropPosition],(0,l.addClass)(this.dropStatusClass,t)}}},{key:"updateDropClueState",value:function(t){if(this.shouldHideDropClue()||!t)return void this.dropClue.hide();this.dropClue.show();var e=(0,u.getOffset)(t),n=t.offsetHeight/2*(this.lastDropPosition===y.after?1:-1);this.dropClue.setPosition({top:e.top+n,left:e.left-this.dropClue.element.offsetWidth/2})}},{key:"shouldHideDropClue",value:function(){return this.lastDropPosition===y.over||this.lastDropPosition===y.forbidden}},{key:"createDropClue",value:function(){this.dropClue||(this.dropClue=new p.DropClue({template:'<div class="k-drop-hint-container" style="position: absolute; z-index: 10000;">\n                               <span class="k-icon k-i-drag-and-drop"></span>\n                           </div>'}))}},{key:"destroyDropClue",value:function(){this.dropClue&&(this.dropClue.destroy(),this.dropClue=null)}}]),e}(l.Component),function(){var t=this;this.onKeyDown=function(t){var e=d.includes(t.keyCode);e&&t.preventDefault()},this.onMouseDown=function(t){t.shiftKey&&t.preventDefault()},this.createHint=function(e){var n=e.textContent;return t.dropStatusClass=v.forbidden,(0,u.convertToHtml)('<div class="k-header k-drag-clue">\n                <span class="k-icon k-drag-status k-icon-with-modifier '+t.dropStatusClass+'">\n                    <span class="k-icon k-icon-modifier"></span>\n                </span>\n                '+n+"\n            </div>")},this.onDragStart=function(){t.createDropClue()},this.onDrag=function(e){var n=e.elementUnderCursor;t.lastDropPosition=t.getDropPosition(e),t.updateDragClueState(),t.updateDropClueState(n.closest(".k-mid"))},this.onDragEnd=function(e){var n=e.originalCurrentTarget.closest(".k-treeview-item"),r=e.elementUnderCursor.closest(".k-treeview-item");if(t.destroyDropClue(),t.lastDropPosition!==y.forbidden&&n&&r&&n!==r){var o=t.getDestinationTree(r);t.invokeMethodAsync(t.options.jsinterop.drop,{sourceIndex:n.getAttribute("data-treeindex"),destinationIndex:r.getAttribute("data-treeindex"),treeviewDotNetInstance:o,dropPosition:t.lastDropPosition})}}})},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.ToolBar,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initToolBar=r;var o=n(1),i=n(167)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ToolBar=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=n(1),u=[c.Key.ARROWLEFT,c.Key.ARROWRIGHT,c.Key.HOME,c.Key.END],p=":not([disabled]):not([data-focusable='false'])",h="a[href], area[href], input"+p+", select"+p+", textarea"+p+", button"+p+", [tabindex]"+p;e.ToolBar=function(t){function e(t,n){o(this,e);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return s.onKeyDown=function(t){var e=s.element.querySelectorAll(h),n=s.element.querySelector(":focus"),o=e.length-1,i=[].concat(r(e)).indexOf(n),a=-1;t.name===c.Key.ARROWRIGHT&&i===o||t.name===c.Key.HOME?a=0:t.name===c.Key.ARROWLEFT&&0===i||t.name===c.Key.END?a=o:t.name===c.Key.ARROWRIGHT?a=i+1:t.name===c.Key.ARROWLEFT&&(a=i-1),a!==-1&&(s.setTabIndices(a),e[a].focus())},s.setTabIndices(0),s.initNavigationService(),s}return s(e,t),a(e,[{key:"destroy",value:function(){this.navigationService.destroy(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"initNavigationService",value:function(){this.navigationService=new c.NavigationService(this.element),this.navigationService.bind(u,this.onKeyDown)}},{key:"setTabIndices",value:function(t){var e=this.element.querySelectorAll(h);e.forEach(function(e,n){var r=t===n?0:-1;e.setAttribute("tabindex",r)})}}]),e}(c.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(169);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Pager,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initPager=r;var o=n(170),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Pager=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(171);e.Pager=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,focusElementSelector:function(t){return"[data-index='"+t+"']"},jsinterop:{focusOut:""}},i.onNavigationRemoveFocus=function(){i.removeFocus()},i.extendOptions(n),i.createNavigationService(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyNavigationService(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"createNavigationService",value:function(){this.navigationService=new c.NavigationService(this.element,{events:{focusOut:this.onNavigationRemoveFocus}})}},{key:"destroyNavigationService",value:function(){this.navigationService&&(this.navigationService.destroy(),this.navigationService=null)}},{key:"focusElement",value:function(t){this.navigationService&&this.navigationService.focusElement(t)}},{key:"removeFocus",value:function(){var t=this;setTimeout(function(){t.invokeMethodAsync(t.options.jsinterop.focusOut)},1)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.NavigationService=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1);e.NavigationService=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={events:{focusOut:null},focusElementSelector:function(t){return"[data-index='"+t+"']"}},i.onKeyDown=function(t){var e=[l.KeyCode.ARROWRIGHT,l.KeyCode.ARROWLEFT,l.KeyCode.ARROWUP,l.KeyCode.ARROWDOWN].includes(t.keyCode);e&&t.preventDefault()},i.onFocusOut=function(){i.trigger("focusOut")},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener("keydown",this.onKeyDown),this.element.addEventListener("focusout",this.onFocusOut)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("keydown",this.onKeyDown),this.element.removeEventListener("focusout",this.onFocusOut)}},{key:"focusElement",value:function(t){var e=t.index,n=this.element.querySelector(this.options.focusElementSelector(e));n&&n.focus()}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(173);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.Popup,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initPopup=r;var o=n(1),i=n(174)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");
}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Popup=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=n(1),u=n(175),p={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0},h=30,f=function(){return window&&window.PointerEvent};e.Popup=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(r.mouseHoverTimeout=null,r.options={dotNetInstance:null,anchorSelector:"",anchorRect:p,toggleElementSelector:"",width:"",anchorAlign:{horizontal:"left",vertical:"bottom"},elementAlign:{horizontal:"left",vertical:"top"},openOn:"click",closeOn:"click",closeParentPopupsUntilSelector:"",jsinterop:{close:"",closeAsync:"",openAsync:""}},r.extendOptions(n),r.anchors=document.querySelectorAll(n.anchorSelector),r.anchor=r.anchors[0],r.anchors.length>1&&n.toggleElementSelector)throw new Error("Toggle element is not supported when you have more than one anchor");return n.toggleElementSelector&&(r.toggleElements=document.querySelectorAll(n.toggleElementSelector)),r.createIntersectionObserver(),r.attachAnchorHandlers(),r.attachElementHandlers(),r}return s(e,t),a(e,[{key:"getElementRect",value:function(t){var e=t?t.getBoundingClientRect():p,n=document.body.getBoundingClientRect();return{top:e.top-n.top,left:e.left-n.left,width:e.width,height:e.height}}},{key:"destroy",value:function(){this.unbindEvents(),this.detachAnchorHandlers(),this.destroyIntersectionObserver(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.toggleElements=null,this.anchor=null}},{key:"attachElementHandlers",value:function(){"mouseleave"===this.options.closeOn&&(this.onElementMouseLeave=this.onElementMouseLeave.bind(this),this.onElementMouseOver=this.onElementMouseOver.bind(this),this.element.addEventListener("mouseleave",this.onElementMouseLeave),this.element.addEventListener("mouseover",this.onElementMouseOver))}},{key:"attachAnchorHandlers",value:function(){var t=this;this.toggle=this.toggle.bind(this),this.openAsync=this.openAsync.bind(this),this.onCloseEvent=this.onCloseEvent.bind(this),this.toggleElements&&this.toggleElements.length?this.toggleElements.forEach(function(e){t.addEventListeners(e)}):this.anchors.forEach(function(e){t.addEventListeners(e)})}},{key:"addEventListeners",value:function(t){var e=this.options,n=e.openOn,r=e.closeOn;n===r?t.addEventListener(n,this.toggle,!0):(t.addEventListener(n,this.openAsync,!0),t.addEventListener(r,this.onCloseEvent,!0))}},{key:"detachAnchorHandlers",value:function(){var t=this,e=this.options,n=e.openOn,r=e.closeOn;this.toggleElements&&this.toggleElements.forEach(function(e){e.removeEventListener(n,t.toggle,!0),e.removeEventListener(n,t.openAsync,!0),e.removeEventListener(r,t.onCloseEvent,!0)}),this.anchors.forEach(function(e){e.removeEventListener(n,t.toggle,!0),e.removeEventListener(n,t.openAsync,!0),e.removeEventListener(r,t.onCloseEvent,!0)})}},{key:"bindEvents",value:function(){this.bound||(this.bound=!0,this.onScroll=this.onScroll.bind(this),this.onResize=this.onResize.bind(this),this.onMouseDown=this.onMouseDown.bind(this),document.addEventListener("scroll",this.onScroll,!0),window.addEventListener("resize",this.onResize),f()?document.addEventListener("pointerdown",this.onMouseDown,!0):document.addEventListener("mousedown",this.onMouseDown,!0))}},{key:"unbindEvents",value:function(){document.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("mousedown",this.onMouseDown,!0),document.removeEventListener("pointerdown",this.onMouseDown,!0),window.removeEventListener("resize",this.onResize,!0),this.bound=!1}},{key:"toggle",value:function(t){t.preventDefault(),this._visible?this.closeAsync():this.openAsync(t)}},{key:"onCloseEvent",value:function(t){var e=this,n=this.toggleElements&&[].concat(r(this.toggleElements)).includes(t.target);!n&&t.target!==this.anchor||this.isChild(t.relatedTarget)||(this.mouseHoverTimeout=setTimeout(function(){e.closeAsync()},h))}},{key:"onElementMouseOver",value:function(){this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout)}},{key:"onMouseDown",value:function(t){this.isChild(t.target)||this.closeAsync()}},{key:"onElementMouseLeave",value:function(t){var e=this,n=t.relatedTarget;if(this.element!==n&&this.anchor!==n&&!(0,c.ownsElement)(this.element,n)&&!(0,c.ownsElement)(this.anchor,n)){var r=n&&n.closest(".k-animation-container");r||t.target!==this.element||(this.mouseHoverTimeout=setTimeout(function(){e.closeAsync(),e.options.closeParentPopupsUntilSelector&&e.closeParentPopups()},h))}}},{key:"closeParentPopups",value:function(){for(var t=this.element;t&&!t.querySelector(this.options.closeParentPopupsUntilSelector);){var e=t.getAttribute("data-id"),n=(0,c.getComponentInstance)(e),r=n.anchor;n.close(),t=r&&r.closest(".k-animation-container")}}},{key:"onScroll",value:function(t){this.isChild(t.target)||this.positionElement()}},{key:"onOpen",value:function(){this._visible=!0,this.bindEvents(),this.options.width||(this.element.style.width=this.getAnchorWidth()),this.positionElement()}},{key:"getAutoSizePosition",value:function(){var t=this.element.children[0];if(t){var e=t.style.display;t.style.visibility="hidden",t.style.display="block";var n=this.getPosition();return t.style.display=e,t.style.visibility="",n}return this.getPosition()}},{key:"onClose",value:function(){this._visible=!1,this.unbindEvents()}},{key:"onResize",value:function(){this.close()}},{key:"getPosition",value:function(){var t=this.getAnchorRect(),e=this.element.style.left,n=this.element.style.top;this.element.style.left="",this.element.style.top="";var r=this.getElementRect(this.element);this.element.style.left=e,this.element.style.top=n;var o=(0,u.align)({anchorRect:t,elementRect:r,anchorAlign:this.options.anchorAlign,elementAlign:this.options.elementAlign,margin:this.options.margin});r.top=o.top,r.left=o.left,r=(0,u.removeScroll)(r,(0,u.scrollPosition)(this.element));var i=(0,u.restrictToView)({anchorRect:t,elementRect:r,anchorAlign:this.options.anchorAlign,elementAlign:this.options.elementAlign,collisions:{horizontal:"fit",vertical:"flip"},viewPort:(0,u.getWindowViewPort)(this.element)});return this.flipped=i.flipped,{top:o.top+i.offset.top+"px",left:o.left+i.offset.left+"px",flipped:i.flipped}}},{key:"positionElement",value:function(){var t=this.getElementPosition();return this.element.style.top=t.top,this.element.style.left=t.left,t}},{key:"getElementPosition",value:function(){var t=void 0;return t=this.options.autoSize===!0?this.getAutoSizePosition():this.getPosition()}},{key:"getAnchorWidth",value:function(){if(!this.anchor)return"";var t=this.getElementRect(this.anchor);return t.width+"px"}},{key:"getAnchorRect",value:function(){return this.anchor?this.getElementRect(this.anchor):this.options.anchorRect}},{key:"createIntersectionObserver",value:function(){var t=this;this.destroyIntersectionObserver(),this.intersectionObserver=this.initIntersectionObserver(),this.anchors.forEach(function(e){t.intersectionObserver.observe(e)})}},{key:"initIntersectionObserver",value:function(){var t=this,e={threshold:this.getIntersectionThreshold()};return new window.IntersectionObserver(function(e){e.forEach(function(e){e.intersectionRatio>=0&&e.intersectionRatio<1&&t.onAnchorHide()})},e)}},{key:"destroyIntersectionObserver",value:function(){var t=this;this.intersectionObserver&&(this.anchors.forEach(function(e){t.intersectionObserver.unobserve(e)}),this.intersectionObserver.disconnect&&this.intersectionObserver.disconnect()),this.intersectionObserver=null}},{key:"onAnchorHide",value:function(){this.close()}},{key:"getIntersectionThreshold",value:function(){for(var t=[],e=0,n=1,r=.1,o=e;o<=n;o+=r)t.push(o);return t}},{key:"isElementVisible",value:function(){return this.element&&this.element.getElementsByClassName("k-popup")[0]}},{key:"isChild",value:function(t){var e=t;if((0,c.isChild)(e,[this.element,this.anchor]))return!0;var n=e instanceof HTMLElement&&e.closest(".k-animation-container");if(n&&n!==this.element){var r=n.getAttribute("data-id"),o=(0,c.getComponentInstance)(r||n.id),i=o&&o.isParent(this.element);return!!i||this.isChildOfPopup(e,this.element)}return!1}},{key:"isChildOfPopup",value:function(t,e){var n=t&&t.closest(".k-animation-container");if(n&&n===e)return!0;if(n&&n!==e){var r=n.getAttribute("data-id"),o=(0,c.getComponentInstance)(r||n.id);if(o)return this.isChildOfPopup(o.anchor,e)}return!1}},{key:"isParent",value:function(t){return t&&(0,c.ownsElement)(t,this.anchor)}},{key:"close",value:function(){this.invokeMethodAsync(this.options.jsinterop.close)}},{key:"closeAsync",value:function(){this.invokeMethodAsync(this.options.jsinterop.closeAsync)}},{key:"openAsync",value:function(t,e,n){var r=this;this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout);var o=this.anchor;this.anchors.length>1&&this.anchors.forEach(function(e){if(e===t.target||(0,c.ownsElement)(e,t.target))return void(r.anchor=e)}),o!==this.anchor&&this.closeAsync(),this.options.anchorRect={top:n,left:e,width:0,height:0},this.invokeMethodAsync(this.options.jsinterop.openAsync)}}]),e}(c.Component)},function(t,e){"use strict";function n(t,e){return{top:t.top+e.y,left:t.left+e.x,height:t.height,width:t.width}}function r(t,e,n){var r=t.top,o=t.left;return n&&(o=0,r=0),{top:r+e.top,left:o+e.left,height:t.height,width:t.width}}function o(t){return t.ownerDocument||t.document||t}function i(){if(!d&&"undefined"!=typeof document){var t=document.createElement("div");t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",document.body.appendChild(t),d=t.offsetWidth-t.scrollWidth,document.body.removeChild(t)}return d}function s(t){var e=h(t),n=f(t),r={height:e.innerHeight,width:e.innerWidth};return n.scrollHeight-n.clientHeight>0&&(r.width-=i()),r}function a(t){var e=f(t),n=h(t);return{x:n.pageXOffset||e.scrollLeft||0,y:n.pageYOffset||e.scrollTop||0}}function l(t){var e=y(t);return e?_(e):{x:0,y:0}}function c(t,e){return{top:t.top-e.y,left:t.left-e.x,height:t.height,width:t.width}}Object.defineProperty(e,"__esModule",{value:!0});var u={bottom:"bottom",center:"center",middle:"middle",left:"left",right:"right",top:"top"},p=function(t){var e=t.anchorRect,n=t.anchorAlign,r=t.elementRect,o=t.elementAlign,i=t.margin;void 0===i&&(i={});var s=n.horizontal,a=n.vertical,l=o.horizontal,c=o.vertical,p=i.horizontal||0,h=i.vertical||0,f=e.top,d=e.left;return a===u.bottom&&(f+=e.height),a!==u.center&&a!==u.middle||(f+=Math.round(e.height/2)),c===u.bottom&&(f-=r.height,h*=-1),c!==u.center&&c!==u.middle||(f-=Math.round(r.height/2),h*=-1),s===u.right&&(d+=e.width),s!==u.center&&s!==u.middle||(d+=Math.round(e.width/2)),l===u.right&&(d-=r.width,p*=-1),l!==u.center&&l!==u.middle||(d-=Math.round(r.width/2),p*=-1),{top:f+h,left:d+p}},h=function(t){return o(t).defaultView},f=function(t){return o(t).documentElement},d=0,v=function(t){if(!t.getBoundingClientRect){var e=s(t);return{bottom:e.height,left:0,right:e.width,top:0}}var n=t.getBoundingClientRect(),r=n.bottom,o=n.left,i=n.right,a=n.top;return{bottom:r,left:o,right:i,top:a}},y=function(t){for(var e=t.offsetParent;e&&"static"===e.style.position;)e=e.offsetParent;return e||f(t)},g=function(t){return y(t)===t.ownerDocument.body},m=function(t){var e=t.style,n=e.display,r=e.left,o=e.position;t.style.display="",t.style.left="-10000px",t.style.position="absolute";var i=t.getBoundingClientRect();return t.style.display=n,t.style.left=r,t.style.position=o,i},b=function(t){var e=t.getBoundingClientRect(),n=e.left,r=e.top;return e.height||e.width||(e=m(t)),{top:r,left:n,height:e.height,width:e.width}},w=function(t,e){for(var n=[],r=t.parentNode;r&&(n.push(r),r!==e);)r=r.parentNode;return n},_=function(t){return t===(t.ownerDocument||{}).body?a(t):{x:t.scrollLeft,y:t.scrollTop}},x=function(t,e){var n=h(t),r=n.getComputedStyle(t),o=b(t),i=e||y(t),s=t.ownerDocument,a=i!==s.body&&i!==s.documentElement,l={top:0,left:0};if("fixed"!==r.position&&a){var c=n.getComputedStyle(i);l=b(i),l.top+=parseInt(c.borderTopWidth,10),l.left+=parseInt(c.borderLeftWidth,10)}return{top:o.top-l.top,left:o.left-l.left,height:o.height,width:o.width}},k=function(t,e){return t?_(t):l(e)},S=function(t,e,n){void 0===n&&(n=1);var r=e?y(e):null,o=x(t,r),i=o.top,s=o.left,a=o.height,l=o.width,c=k(r,t),u=c.x,p=c.y,h=t.ownerDocument,f=r===h.body||r===h.documentElement?1:n;return{top:i+p*f,left:s+u*f,height:a,width:l}},O={fit:"fit",flip:"flip"},C=function(t,e,n){var r=0;return t+e>n&&(r=n-(t+e)),t<0&&(r=-t),r},M=function(t){var e=t.offset,n=t.size,r=t.anchorSize,o=t.viewPortSize,i=t.anchorAlignPoint,s=t.elementAlignPoint,a=t.margin,l=0,c=s===u.center||s===u.middle,p=i===u.center||i===u.middle,h=2*a;if(s!==i&&!c&&!p){var f=i===u.top||i===u.left;e<0&&f?(l=n+r+h,e+l+n>o&&(l=0)):e>=0&&!f&&(e+n>o&&(l+=-(r+n+h)),e+l<0&&(l=0))}return l},T=function(t){var e=t.anchorRect,n=t.anchorAlign,r=t.elementRect,o=t.elementAlign,i=t.collisions,s=t.viewPort,a=t.margin;void 0===a&&(a={});var l=r.top,c=r.left,u=r.height,p=r.width,h=s.height,f=s.width,d=a.horizontal||0,v=a.vertical||0,y=0,g=0,m=i.horizontal===O.flip,b=i.vertical===O.flip;i.vertical===O.fit&&(g+=C(l,u,h)),i.horizontal===O.fit&&(y+=C(c,p,f)),b&&(g+=M({margin:v,offset:l,size:u,anchorSize:e.height,viewPortSize:h,anchorAlignPoint:n.vertical,elementAlignPoint:o.vertical})),m&&(y+=M({margin:d,offset:c,size:p,anchorSize:e.width,viewPortSize:f,anchorAlignPoint:n.horizontal,elementAlignPoint:o.horizontal}));var w=m&&0!==y,_=b&&0!==g;return{flipped:w||_,flip:{horizontal:w,vertical:_},offset:{left:y,top:g}}},E=function(t){for(var e=[],n=t.parentNode.firstElementChild;n;)n!==t&&e.push(n),n=n.nextElementSibling;return e},P=function(t,e){for(var n,r,o=w(t),i=e;i&&(n=E(i),!(r=o.reduce(function(t,e){return t.concat(n.filter(function(t){return t===e}))},[])[0]));)i=i.parentElement;return r};e.align=p,e.addScroll=n,e.applyLocationOffset=r,e.boundingOffset=v,e.isBodyOffset=g,e.offsetParent=y,e.offset=b,e.parents=w,e.parentScrollPosition=l,e.position=x,e.positionWithScroll=S,e.removeScroll=c,e.restrictToView=T,e.scrollPosition=a,e.siblingContainer=P,e.siblings=E,e.getDocumentElement=f,e.getWindow=h,e.getWindowViewPort=s,e.AlignPoint=u,e.Collision=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(177);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.TileLayout,t,e)}function o(t){(0,s.destroyComponent)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.initTileLayout=r,e.destroyTileLayout=o;var i=n(178),s=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TileLayout=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(51),u=n(61),p=".k-tilelayout-item",h=".k-resize-handle",f=".k-tilelayout-item-header",d="k-layout-item-hint k-layout-item-hint-resize",v=(e.TileLayout=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return v.call(i),i.extendOptions(n),i.createResizable(),i.createReorderable(),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyResizable(),this.destroyReorderable(),this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){}},{key:"unbindEvents",value:function(){}},{key:"createResizable",value:function(){this.options.resizable&&(this.resizable=new u.Resizable(this.element,{draggable:{filter:h},events:{resizeStart:this.onResizableResizeStart,resize:this.onResizableResize,resizeEnd:this.onResizableResizeEnd}}))}},{key:"destroyResizable",value:function(){this.resizable&&(this.resizable.destroy(),this.resizable=null,this.destroyResizeHint())}},{key:"createReorderable",value:function(){this.options.reorderable&&(this.reorderable=new u.Resizable(this.element,{draggable:{filter:f},events:{resizeStart:this.onReorderableDragStart,resize:this.onReorderableDrag,resizeEnd:this.onReorderableDragEnd}}))}},{key:"destroyReorderable",value:function(){this.reorderable&&(this.reorderable.destroy(),this.reorderable=null)}}]),e}(l.Component),function(){var t=this;this.options={dotNetInstance:null,resizable:!1,reorderable:!1,jsinterop:{resizeItem:"",reorderItem:""}},this.onResizableResizeStart=function(e){var n=e.originalCurrentTarget.closest(p),r=parseInt(n.style.gridColumnEnd.substring(5)),o=parseInt(n.style.gridRowEnd.substring(5)),i=Array.from(t.element.querySelectorAll(p)).find(function(t){return"1"===t.style.order}),s=i.offsetTop-t.element.offsetTop,a=i.offsetLeft-t.element.offsetLeft,l=(n.offsetWidth-(r-1)*a)/r,c=(n.offsetHeight-(o-1)*s)/o,u=e.originalCurrentTarget.className;t.resizeState={item:n,columnWidth:l,columnHeight:c,segmentWidth:l+a,segmentHeight:c+s,totalWidth:t.element.offsetWidth,originalWidth:n.offsetWidth,originalHeight:n.offsetHeight,originalColSpan:r,originalRowSpan:o,maxWidth:t.element.offsetWidth-(n.offsetLeft+a),colSpanDelta:0,rowSpanDelta:0,resizeSide:u.indexOf("ew")>-1||u.indexOf("nwse")>-1,resizeDown:u.indexOf("ns")>-1||u.indexOf("nwse")>-1}},this.onResizableResize=function(e){t.pinContainer(t.resizeState.item),t.createResizeHint(t.resizeState.item);var n=function(){t.resizeState.item.style.top=t.hint.offsetTop+"px",t.resizeState.item.style.left=t.hint.offsetLeft+"px"};if(t.resizeState.resizeSide){var r=t.resizeState.originalWidth+e.initialDelta.x;r<=t.resizeState.maxWidth&&r>=t.resizeState.columnWidth&&(t.resizeState.item.style.width=r+"px",t.resizeState.colSpanDelta=Math.floor((e.initialDelta.x+t.resizeState.segmentWidth/2)/t.resizeState.segmentWidth),t.hint.style.gridColumnEnd="span "+(t.resizeState.originalColSpan+t.resizeState.colSpanDelta),t.resizeState.item.style.gridColumnEnd="span "+(t.resizeState.originalColSpan+t.resizeState.colSpanDelta),n(),t.resizeState.resizeDown||(t.resizeState.item.style.height=t.hint.offsetHeight+"px"))}if(t.resizeState.resizeDown){var o=t.resizeState.originalHeight+e.initialDelta.y;o>=t.resizeState.columnHeight&&(t.resizeState.item.style.height=o+"px",t.resizeState.rowSpanDelta=Math.floor((e.initialDelta.y+t.resizeState.segmentHeight/2)/t.resizeState.segmentHeight),t.hint.style.gridRowEnd="span "+(t.resizeState.originalRowSpan+t.resizeState.rowSpanDelta),t.resizeState.item.style.gridRowEnd="span "+(t.resizeState.originalRowSpan+t.resizeState.rowSpanDelta),n())}},this.onResizableResizeEnd=function(){(t.resizeState.colSpanDelta||t.resizeState.rowSpanDelta)&&t.invokeMethodAsync(t.options.jsinterop.resizeItem,{order:parseInt(t.resizeState.item.style.order),colSpan:t.resizeState.originalColSpan+t.resizeState.colSpanDelta,rowSpan:t.resizeState.originalRowSpan+t.resizeState.rowSpanDelta}),t.unpinContainer(t.resizeState.item),t.destroyResizeHint(),t.resizeState=null},this.onReorderableDragStart=function(e){var n=e.originalCurrentTarget.closest(p),r=parseInt(n.style.order);t.reorderState={item:n,left:n.offsetLeft,top:n.offsetTop,order:r,originalOrder:r}},this.onReorderableDrag=function(e){t.pinContainer(t.reorderState.item),t.createResizeHint(t.reorderState.item),t.reorderState.item.style.left=t.reorderState.left+e.initialDelta.x+"px",t.reorderState.item.style.top=t.reorderState.top+e.initialDelta.y+"px";var n=t.getItemUnderCursor(e,t.reorderState.item);if(n){var r=n.getBoundingClientRect(),o=e.clientX<r.left+r.width/2,i=parseInt(n.style.order),s=i+(o?0:1),a=void 0,l=void 0,c=void 0;if(n===t.reorderState.lastItemUnderCursor&&o===t.reorderState.lastIsLeftOfMiddle)return;if(i>t.reorderState.order?(a=t.reorderState.order+1,l=s,c=-1,t.reorderState.order=s-1):i<t.reorderState.order&&(a=s,l=t.reorderState.order,c=1,t.reorderState.order=s),l>a){t.shiftItemsOrder(a,l,c),t.hint.style.order=t.reorderState.order,t.reorderState.item.style.order=t.reorderState.order;var u=t.getItemUnderCursor(e,t.reorderState.item);if(t.reorderState.lastItemUnderCursor=u,u){var p=u.getBoundingClientRect(),h=e.clientX<p.left+p.width/2;t.reorderState.lastIsLeftOfMiddle=h}}}},this.onReorderableDragEnd=function(){t.reorderState.order!==t.reorderState.originalOrder&&t.invokeMethodAsync(t.options.jsinterop.reorderItem,{fromOrder:t.reorderState.originalOrder,toOrder:t.reorderState.order}),t.destroyResizeHint(),t.unpinContainer(t.reorderState.item),t.reorderable=null},this.pinContainer=function(t){if("absolute"!==t.style.position){var e=t.offsetLeft,n=t.offsetTop,r=t.offsetWidth,o=t.offsetHeight;t.style.position="absolute",t.style.left=e+"px",t.style.top=n+"px",t.style.width=r+"px",t.style.height=o+"px",t.style.zIndex=2}},this.unpinContainer=function(t){t.style.position="",t.style.left="",t.style.top="",t.style.width="",t.style.height="",t.style.zIndex=""},this.createResizeHint=function(e){t.hint||(t.hint=document.createElement("div"),t.hint.className=d,t.hint.style.order=e.style.order,t.hint.style.gridColumnEnd=e.style.gridColumnEnd,t.hint.style.gridRowEnd=e.style.gridRowEnd,t.element.appendChild(t.hint))},this.destroyResizeHint=function(){t.hint&&(t.element.removeChild(t.hint),t.hint=null)},this.getElementUnderCursor=function(t,e){var n=(0,c.getElementFromPoint)(t);return e&&e.contains(n)&&((0,l.hideElement)(e),n=(0,c.getElementFromPoint)(t),(0,l.showElement)(e)),n},this.getItemUnderCursor=function(e,n){var r=t.getElementUnderCursor(e,n);return r?r.closest(p):null},this.shiftItemsOrder=function(e,n,r){for(var o=t.element.querySelectorAll(p),i=0;i<o.length;i++){var s=o[i],a=parseInt(s.style.order);a>=e&&a<n&&(s.style.order=a+r)}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(180);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){var n=(0,o.getComponentInstance)(t);if(!n){var r=new i.Tooltip(null,e);(0,o.setComponentInstance)(t,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.initTooltip=r;var o=n(1),i=n(181)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Tooltip=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c="k-callout-n",u="k-callout-s",p="click";e.Tooltip=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,popupId:""},i.onMouseEnter=function(t){var e=t.target,n=e.getAttribute("title")||e.getAttribute("data-title");e.setAttribute("data-title",n),e.removeAttribute("title")},i.onMouseLeave=function(t){var e=t.target,n=e.getAttribute("data-title")||e.getAttribute("title");e.setAttribute("title",n),e.removeAttribute("data-title")},i.elements=document.querySelectorAll(n.targetSelector),i.options=n,i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){var t=this;this.options.showOn===p&&this.elements.forEach(function(e){e.addEventListener("mouseenter",t.onMouseEnter,!0),e.addEventListener("mouseleave",t.onMouseLeave,!0)})}},{key:"unbindEvents",value:function(){var t=this;this.elements.forEach(function(e){e.addEventListener("mouseenter",t.onMouseEnter,!0),e.addEventListener("mouseleave",t.onMouseLeave,!0)})}},{key:"getDataAttributes",value:function(){var t=this.getPopupComponent(),e=t.anchor,n=e.getAttribute("title")||e.getAttribute("data-title"),r=e.getAttribute("alt")||n;r&&e.setAttribute("data-title",r),e.removeAttribute("title");var o=t.anchor.dataset;return o}},{key:"restoreTitle",value:function(){var t=this.getPopupComponent(),e=t.anchor,n=e.getAttribute("data-title")||e.getAttribute("title");n&&e.setAttribute("title",n),e.removeAttribute("data-title")}},{key:"flipCallout",value:function(){var t=this.getPopupComponent();if(t.flipped){var e=t.element.querySelector(".k-callout"),n=(0,l.hasClass)(u,e);n?((0,l.removeClass)(u,e),(0,l.addClass)(c,e)):(0,l.hasClass)(c,e)&&((0,l.removeClass)(c,e),(0,l.addClass)(u,e))}}},{key:"correctCalloutPosition",value:function(){var t=this.getPopupComponent(),e=t.getElementRect(t.anchor),n=t.getElementRect(t.element),r=e.left-n.left+.5*e.width,o=t.element.querySelector(".k-callout");o&&(o.style.left=r+"px")}},{key:"getCalloutSize",value:function(){var t=document.createElement("div");t.className="k-callout "+c,t.style.visibility="hidden",document.body.appendChild(t);var e=window.getComputedStyle(t),n=e.borderWidth||e.borderTopWidth,r=parseFloat(n);return document.body.removeChild(t),r}},{key:"getPopupComponent",value:function(){return(0,l.getComponentInstance)(this.options.popupId)}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(183);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.TreeList,t,e)}function o(t){(0,s.destroyComponent)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.initTreeList=r,e.destroyTreeList=o;var i=n(184),s=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TreeList=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1);e.TreeList=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{removeFocus:"",blur:""}},i}return i(e,t),s(e,[{key:"destroy",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}(l.GridBase)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(186);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.VirtualScroller,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initVirtualScroller=r;var o=n(187),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.VirtualScroller=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=(e.VirtualScroller=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return c.call(i),i.extendOptions(n),i.timeout,i.contentElement=i.element.querySelector(".k-virtual-position"),i.total=parseInt(i.contentElement.getAttribute("data-total")),i.setPosition(n.skip),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){clearTimeout(this.timeout),this.unbindEvents(),this.contentElement=null,a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener("scroll",this.onElementScroll)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("scroll",this.onElementScroll)}},{key:"setPosition",value:function(t){this.scrollTop=Math.floor(this.options.itemHeight*t),
this.element.scrollTop=this.scrollTop}}]),e}(l.Component),function(){var t=this;this.options={skip:0,jsinterop:{scroll:""}},this.onElementScroll=function(){var e=Math.floor(t.element.scrollTop);if(t.scrollTop!==e){clearTimeout(t.timeout);var n=t.element.offsetHeight,r=t.contentElement.children[0].offsetHeight,o=t.options,i=2*o.itemHeight,s=parseFloat(t.contentElement.getAttribute("data-translate"));t.scrollTop=e;var a=s;e<s?a=e-e%i:r+s<n+e&&(a=Math.ceil((n+e-r)/i)*i),t.contentElement.style.setProperty("transform","translateY("+a+"px)");var l=Math.floor(e/o.itemHeight);t.timeout=setTimeout(function(){t.invokeMethodAsync(o.jsinterop.scroll,l)},66)}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(189);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.VirtualColumnScroller,(0,s.addComponentSuffix)(t,"VirtualColumnScroller"),e)}function o(t){(0,s.destroyComponent)((0,s.addComponentSuffix)(t,"VirtualColumnScroller"))}Object.defineProperty(e,"__esModule",{value:!0}),e.initVirtualColumnScroller=r,e.destroyVirtualColumnScroller=o;var i=n(190),s=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.VirtualColumnScroller=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=180;e.VirtualColumnScroller=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,tableSelector:".k-grid-table",debounceDelay:c,jsinterop:{onScroll:""}},i.detectScrollTopChanged=function(t){i.state.scrollTopChanged=i.state.scrollTop!==t.target.scrollTop,i.state.scrollTop=t.target.scrollTop},i.onScroll=function(t){i.state.scrollTopChanged||i.invokeScroll(t.target.scrollLeft)},i.extendOptions(n),i.bindEvents(),i.state={scrollTop:0,scrollTopChanged:!1},i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){var t=this;this.debouncedScroll=(0,l.debounce)(function(e){t.onScroll(e)},this.options.debounceDelay).bind(this),this.element.addEventListener("scroll",this.detectScrollTopChanged),this.element.addEventListener("scroll",this.debouncedScroll)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("scroll",this.detectScrollTopChanged),this.element.removeEventListener("scroll",this.debouncedScroll),this.debouncedScroll=null}},{key:"invokeScroll",value:function(t){this.invokeMethodAsync(this.options.jsinterop.onScroll,{scrollLeft:t})}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(192);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,u.initComponent)(a.Scheduler,t,e)}function o(t,e){(0,u.initComponent)(l.DayTable,t,e)}function i(t,e){(0,u.initComponent)(c.MonthTable,t,e)}function s(t){var e=(0,u.getComponentInstance)(t);return e?e.getSlotMetrics():{width:0,height:0,left:0}}Object.defineProperty(e,"__esModule",{value:!0}),e.initScheduler=r,e.initDayTable=o,e.initMonthTable=i,e.getSlotMetrics=s;var a=n(193),l=n(195),c=n(197),u=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Scheduler=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(194);e.Scheduler=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{removeFocus:"",keyDown:""}},i.onKeyDown=function(t){i.invokeMethodAsync(i.options.jsinterop.keyDown,t)},i.onRemoveFocus=function(){i.invokeMethodAsync(i.options.jsinterop.removeFocus)},i.extendOptions(n),i.createNavigationService(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyNavigationService(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"createNavigationService",value:function(){this.navigationService=new c.NavigationService(this.element,{events:{keyDown:this.onKeyDown,removeFocus:this.onRemoveFocus}})}},{key:"destroyNavigationService",value:function(){this.navigationService&&(this.navigationService.destroy(),this.navigationService=null)}},{key:"focusAppointmentElement",value:function(t){this.navigationService.focusAppointmentElement(t)}},{key:"focusElement",value:function(){this.navigationService.focusElement(this.element)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.NavigationService=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1);e.NavigationService=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={events:{removeFocus:null,keyDown:null},appointmentElementSelector:function(t){return".k-event[data-render-index='"+t+"']"}},i.onKeyDown=function(t){var e=[l.KeyCode.ARROWRIGHT,l.KeyCode.ARROWLEFT,l.KeyCode.ARROWUP,l.KeyCode.ARROWDOWN,l.KeyCode.PAGE_DOWN,l.KeyCode.PAGE_UP,l.KeyCode.HOME,l.KeyCode.END,l.KeyCode.SPACE].includes(t.keyCode);e&&(0,l.hasClass)("k-state-selected",t.target)&&t.target.matches("div.k-event")&&t.preventDefault(),i.trigger("keyDown",{key:t.key,shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.ctrlKey})},i.onFocusOut=function(t){!t.relatedTarget||i.element.querySelector(".k-scheduler-layout").contains(t.relatedTarget)||t.relatedTarget.closest(".k-window")||i.trigger("removeFocus")},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener("keydown",this.onKeyDown),this.element.addEventListener("focusout",this.onFocusOut)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("keydown",this.onKeyDown),this.element.removeEventListener("focusout",this.onFocusOut)}},{key:"focusAppointmentElement",value:function(t){var e=this.element.querySelector(this.options.appointmentElementSelector(t));e&&this.focusElement(e)}},{key:"focusElement",value:function(t){t instanceof HTMLElement&&t!==document.activeElement&&t.focus()}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DayTable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(196),c=(e.DayTable=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return c.call(i),i.extendOptions(n),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.allDayRowElement=null,a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"onMovableDragStart",value:function(t){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onMovableDragStart",this).call(this,t),this.moveTarget&&(this.allDayRowPosition=this.getAllDayRowElement().getBoundingClientRect())}},{key:"onMovableDrop",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onMovableDrop",this).call(this),this.allDayRowPosition=null}},{key:"getAllDayRowElement",value:function(){return this.allDayRowElement||(this.allDayRowElement=this.element.querySelector(".k-scheduler-all-day-row")),this.allDayRowElement}},{key:"getAllDayRowPosition",value:function(){return this.allDayRowPosition||(this.allDayRowPosition=this.getAllDayRowElement().getBoundingClientRect()),this.allDayRowPosition}}]),e}(l.ContentTableBase),function(){var t=this;this.options={jsinterop:{getMoveHint:"",moveAppointment:""}},this.isInVerticalRange=function(e){var n=Math.min(t.tablePosition.bottom,t.getBodyElement().getBoundingClientRect().bottom);return t.isInRange(e.clientY,t.getAllDayRowPosition().bottom,n)},this.isMouseOverAllDayRow=function(e){var n=t.getAllDayRowPosition(),r=t.isInHorizontalRange(e),o=t.isInRange(e.clientY,n.top,n.bottom);return r&&o},this.renderMoveHints=function(e){e&&e.length&&t.moveTarget&&(t.destroyHints(),e.forEach(function(e){var n=t.createHint(t.moveTarget);n.style.left=e.left+"px",n.style.width=e.width+"px",e.isAllDay?(n.style.top="0px",n.style.height="100%",t.getAllDayRowElement().appendChild(n)):(n.style.top=e.top+"px",n.style.height=e.height+"px",t.getBodyElement().appendChild(n))}))}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ContentTableBase=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(55),u=(e.ContentTableBase=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return u.call(i),i.extendOptions(n),i.bindEvents(),i.createMovable(),i.hints=[],i.width=0,i}return i(e,t),s(e,[{key:"destroy",value:function(){this.bodyElement=null,this.unbindEvents(),this.destroyMovable(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){window.addEventListener("resize",this.onResize)}},{key:"unbindEvents",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"invokeResizeAppointments",value:function(){this.invokeMethodAsync(this.options.jsinterop.resizeAppointments,this.getSlotMetrics())}},{key:"refresh",value:function(){this.invokeResizeAppointments()}},{key:"getSlotMetrics",value:function(){var t=this.getFirstCell(),e=this.element.querySelector(".k-scheduler-content-width");return this.slotMetrics={width:e.offsetWidth,height:t.offsetHeight,left:t.offsetLeft,cellWidth:e.offsetWidth/e.querySelectorAll(".k-scheduler-cell").length},this.slotMetrics}},{key:"createMovable",value:function(){this.destroyMovable(),this.options.allowUpdate&&(this.movable=new c.Draggable({press:this.onMovableDragStart.bind(this),drag:this.onMovableDrag.bind(this),release:this.onMovableDrop.bind(this)}),this.movable.bindTo(this.element))}},{key:"destroyMovable",value:function(){this.movable&&this.movable.destroy&&this.movable.destroy(),this.moveTarget=null}},{key:"onMovableDragStart",value:function(t){this.moveTarget=null,this.dragStarted=!1;var e=t.originalEvent.target;e&&e.closest(".k-event")&&(this.moveTarget=e.closest(".k-event"),this.resizeStart=Boolean(e.closest(".k-resize-n, .k-resize-w")),this.resizeEnd=Boolean(e.closest(".k-resize-s, .k-resize-e")),this.tablePosition=this.element.getBoundingClientRect(),this.lastCellIndex=this.originalCellIndex=this.getCellIndex(t),this.lastRowIndex=this.originalRowIndex=this.isMouseOverAllDayRow(t)?-1:this.getRowIndex(t))}},{key:"onMovableDrag",value:function(t){if(this.moveTarget){if(!this.dragStarted)return void(this.dragStarted=!0);var e=this.isMouseOverBody(t),n=this.isMouseOverAllDayRow(t);if(e||n){var r=this.getCellIndex(t),o=r-this.originalCellIndex,i=n?-1:this.getRowIndex(t),s=n?0:i-this.originalRowIndex,a=!1;r!==this.lastCellIndex&&(this.lastCellIndex=r,a=!0),i!==this.lastRowIndex&&(this.lastRowIndex=i,a=!0),a&&this.invokeMethodAsync(this.options.jsinterop.getMoveHint,{rowIndex:i,cellIndex:r,rowOffset:s,cellOffset:o,resizeStart:this.resizeStart,resizeEnd:this.resizeEnd,isAllDay:n}).then(this.renderMoveHints)}}}},{key:"onMovableDrop",value:function(){this.destroyHints(),this.dragStarted&&this.invokeMethodAsync(this.options.jsinterop.moveAppointment),this.moveTarget=null,this.lastCellIndex=this.lastRowIndex=0,this.tablePosition=null}},{key:"getFirstCell",value:function(){return this.element.querySelector(".k-first-cell")}},{key:"getBodyElement",value:function(){return this.bodyElement||(this.bodyElement=this.element.querySelector(".k-scheduler-body")),this.bodyElement}},{key:"isMouseOverBody",value:function(t){var e=this.isInHorizontalRange(t),n=this.isInVerticalRange(t);return e&&n}},{key:"getCellIndex",value:function(t){return Math.floor((t.clientX-(this.tablePosition.left+this.slotMetrics.left))/this.slotMetrics.cellWidth)}},{key:"getRowIndex",value:function(t){return Math.floor((t.clientY-this.getBodyElement().getBoundingClientRect().top)/this.slotMetrics.height)}},{key:"isMouseOverAllDayRow",value:function(){return!1}}]),e}(l.Component),function(){var t=this;this.options={dotNetInstance:null,allowUpdate:!1,jsinterop:{resizeAppointments:""}},this.onResize=function(){var e=t.element.offsetWidth;e!==t.width&&(t.width=e,t.invokeResizeAppointments())},this.isInHorizontalRange=function(e){var n=t.tablePosition.left+t.slotMetrics.left,r=n+t.slotMetrics.width;return t.isInRange(e.clientX,n,r)},this.isInVerticalRange=function(){throw new Error("You have to implement the method isInVerticalRange!")},this.renderMoveHints=function(){throw new Error("You have to implement the method renderMoveHints!")},this.isInRange=function(t,e,n){return t>e&&t<n},this.createHint=function(e){var n=e.cloneNode();return n.className+=" k-event-drag-hint",n.style.zIndex="2",t.hints[t.hints.length]=n,n},this.destroyHints=function(){t.hints.forEach(function(t){t.parentNode.removeChild(t)}),t.hints=[]}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MonthTable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(196),c=(e.MonthTable=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return c.call(i),i.extendOptions(n),i}return i(e,t),s(e,[{key:"destroy",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"onMovableDragStart",value:function(t){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onMovableDragStart",this).call(this,t),this.moveTarget&&(this.headerPosition=this.getHeaderElement().getBoundingClientRect())}},{key:"onMovableDrop",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onMovableDrop",this).call(this),this.headerPosition=null}},{key:"getFirstCell",value:function(){return this.element.querySelector(".k-slot-cell")}},{key:"getHeaderElement",value:function(){return this.headerElement||(this.headerElement=this.element.querySelector(".k-scheduler-head")),this.headerElement}}]),e}(l.ContentTableBase),function(){var t=this;this.options={jsinterop:{getMoveHint:"",moveAppointment:""}},this.isInVerticalRange=function(e){var n=Math.min(t.tablePosition.bottom,t.getBodyElement().getBoundingClientRect().bottom);return t.isInRange(e.clientY,t.headerPosition.bottom,n)},this.renderMoveHints=function(e){e&&e.length&&t.moveTarget&&(t.destroyHints(),e.forEach(function(e){var n=t.createHint(t.moveTarget);n.style.left=e.left+"px",n.style.width=e.width+"px",n.style.top=e.top+"px",n.style.height=e.height+"px",t.getBodyElement().appendChild(n)}))}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(199);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Upload,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initUpload=r;var o=n(200),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Upload=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c=n(201),u=n(202),p=n(205),h=n(206),f=n(207),d=n(204),v="keydown",y="change",g="focusout",m=[l.Key.ARROWLEFT,l.Key.ARROWRIGHT,l.Key.ARROWUP,l.Key.ARROWDOWN],b=function(t){return t?parseInt(t.getAttribute("data-index"),10):null},w=function(t){return null!==t&&t>=0};e.Upload=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,saveUrl:null,saveField:"files",removeUrl:null,removeField:"files",withCredentials:!1,allowedExtensions:[],minFileSize:null,maxFileSize:null,autoUpload:!1,multiple:!1,jsinterop:{onProgress:null,onSuccess:null,onError:null,onSelect:null}},i.onKeyDown=function(t){var e=m.includes(t.key);e&&t.preventDefault()},i.onFocusOut=function(t){var e=t.target.closest(".k-file"),n=b(e),r=t.relatedTarget?t.relatedTarget.closest(".k-file"):null,o=b(r);i.invokeFocusOut(n,o)},i.onInputChange=function(t){var e=i.getFilesInfo(t.target.files);(0,c.isWebkit)()&&(t.target.type="",t.target.type="file"),i.options.multiple||i.clearFiles(),i.addFiles(e),i.triggerFileSelect(e)},i.onProgress=function(t){var e=i.getFile(t.file.id);(0,c.hasValue)(e)&&(e.progress=t.file.progress,i.invokeMethodAsync(i.options.jsinterop.onProgress,{files:[e],progress:t.file.progress}))},i.onSuccess=function(t){var e=[i.getFile(t.file.id)];t.operation===d.UploadOperationType.Remove?i.removeFileFromState(t.file.id):i.setFileStatus(e,p.UploadFileStatus.Uploaded),i.invokeMethodAsync(i.options.jsinterop.onSuccess,{operation:t.operation,files:e,request:t.request})},i.onError=function(t){var e=[i.getFile(t.file.id)];t.operation===d.UploadOperationType.Upload&&i.setFileStatus(e,p.UploadFileStatus.Failed),i.invokeMethodAsync(i.options.jsinterop.onError,{operation:t.operation,files:e,request:t.request})},i.extendOptions(n),i.inputElement=i.element.querySelector("input[type='file']"),i.bindEvents(),i.initOrUpdateUploadService(i.options),i.initValidator(),i.resetState(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),this.inputElement=null,this.destroyUploadService(),this.destroyValidator(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"setOptions",value:function(t){this.extendOptions(t),this.initOrUpdateUploadService(this.options)}},{key:"bindEvents",value:function(){this.inputElement&&this.inputElement.addEventListener(y,this.onInputChange),this.element.addEventListener(v,this.onKeyDown),this.element.addEventListener(g,this.onFocusOut)}},{key:"unbindEvents",value:function(){this.inputElement&&this.inputElement.removeEventListener(y,this.onInputChange),this.element.removeEventListener(v,this.onKeyDown),this.element.removeEventListener(g,this.onFocusOut)}},{key:"resetState",value:function(){this.setState({files:[]})}},{key:"setState",value:function(t){this.state=(0,l.extend)(this.state||{},t)}},{key:"initOrUpdateUploadService",value:function(t){this.uploadService?this.uploadService.setOptions(t):this.uploadService=this.initUploadService(t)}},{key:"initUploadService",value:function(t){var e=new u.UploadService({saveUrl:t.saveUrl,saveField:t.saveField,removeUrl:t.removeUrl,removeField:t.removeField,withCredentials:t.withCredentials,events:{uploadProgress:this.onProgress,uploadSuccess:this.onSuccess,uploadError:this.onError,removeSuccess:this.onSuccess,removeError:this.onError}});return e}},{key:"destroyUploadService",value:function(){this.uploadService&&this.uploadService.destroy()}},{key:"initValidator",value:function(){this.validator=new h.FileValidator}},{key:"destroyValidator",value:function(){this.validator=null}},{key:"triggerFileSelect",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.onSelect,t)}},{key:"addFiles",value:function(t){var e=this;(0,c.toArray)(t).forEach(function(t){e.addFile(t)})}},{key:"addFile",value:function(t){var e=this.getFile(t.id);e||(this.validateFile(t),this.state.files.push(t))}},{key:"deleteFile",value:function(t){var e=t.fileId,n=t.options;this.removeFile(e,n)}},{key:"removeFile",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getFile(t);n&&(n.status===p.UploadFileStatus.Uploaded?this.uploadService.removeFile(n,{headers:e.requestHeaders,data:e.requestData}):this.removeFileFromState(t))}},{key:"removeFileFromState",value:function(t){var e=this.state.files.filter(function(e){return e.id!==t});this.setState({files:e})}},{key:"getFiles",value:function(){return this.state.files}},{key:"getFile",value:function(t){return this.state.files.find(function(e){return e.id===t})}},{key:"getFileInfo",value:function(t){var e=(0,c.getFileInfo)(t);return new f.FileInfo(e)}},{key:"getFilesInfo",value:function(t){var e=(0,c.toArray)(t).map(this.getFileInfo);return e}},{key:"uploadFiles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(t.files||[]).length>0,n=e?t.files:this.getFiles(),r=this.getFilesForUpload(n);this.setFileStatus(r,p.UploadFileStatus.Uploading),this.uploadService.uploadFiles(r,{headers:t.requestHeaders,data:t.requestData})}},{key:"retryFile",value:function(t){var e=this.getFile(t);e&&e.status===p.UploadFileStatus.Failed&&this.uploadService.uploadFile(e)}},{key:"clearFiles",value:function(){this.setState({files:[]})}},{key:"cancelFile",value:function(t){var e=this.getFile(t);e&&(this.uploadService.cancelFile(t),this.removeFile(t))}},{key:"validateFile",value:function(t){if(this.validator){var e=this.validator.validateFile(t,{allowedExtensions:this.options.allowedExtensions,minFileSize:this.options.minFileSize,maxFileSize:this.options.maxFileSize});t.invalidExtension=!e.validExtension,t.invalidMinFileSize=!e.validMinFileSize,t.invalidMaxFileSize=!e.validMaxFileSize}}},{key:"focusFile",value:function(t){var e=Array.from(this.element.querySelectorAll(".k-file")||[])[t];this.focusElement(e)}},{key:"focusClearButton",value:function(){var t=this.element.querySelector(".k-clear-selected");this.focusElement(t)}},{key:"focusInput",value:function(){this.focusElement(this.inputElement)}},{key:"focusElement",value:function(t){t instanceof HTMLElement&&(0,l.focusInNextFrameAsync)(t)}},{key:"getFilesForUpload",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return e.forEach(function(e){var r=t.getFile(e.id);t.isFileForUpload(r)&&n.push(r)}),n}},{key:"isFileForUpload",value:function(t){return t.isValid()&&t.status===p.UploadFileStatus.Selected}},{key:"setFileStatus",value:function(t,e){var n=Array.isArray(t)?t:[t];n.forEach(function(t){(0,c.hasValue)(t)&&(t.status=e)})}},{key:"invokeFocusOut",value:function(t,e){var n=this;w(t)&&setTimeout(function(){n.invokeMethodAsync(n.options.jsinterop.focusout,{relatedTargetFileIndex:e})},1)}}]),e}(l.Component)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(e.toArray=Array.from,e.hasValue=function(t){return"undefined"!=typeof t&&null!==t},e.isWebkit=function(){return navigator.userAgent.match(/webkit/i)},e.getFileExtension=function(t){var e=t.match(/\.([^\.]+)$/);return e?e[0]:""});e.getFileInfo=function(t){var e={name:t.name,size:t.size,extension:n(t.name),rawFile:t};return e}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.UploadService=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),l=n(201),c=n(203),u=n(204),p="uploadSuccess",h="uploadError",f="uploadProgress",d="removeSuccess",v="removeError";e.UploadService=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,null,t));return n.options={saveUrl:"",saveMethod:"POST",saveField:"files",removeUrl:null,removeMethod:"POST",removeField:"files",withCredentials:!1,events:{uploadProgress:null,uploadSuccess:null,uploadError:null}},n.onUploadProgress=function(t){n.trigger(f,t)},n.onUploadSuccess=function(t){n.trigger(p,t)},n.onUploadError=function(t){n.trigger(h,t)},n.onRemoveSuccess=function(t){n.trigger(d,t)},n.onRemoveError=function(t){n.trigger(v,t)},n.extendOptions(t),n.resetState(),n}return i(e,t),s(e,[{key:"setOptions",value:function(t){this.extendOptions(t)}},{key:"resetState",value:function(){this.setState({fileRequests:{}})}},{key:"setState",value:function(t){this.state=(0,a.extend)(this.state||{},t)}},{key:"uploadFiles",value:function(t,e){var n=this;(0,l.toArray)(t).forEach(function(t){n.uploadFile(t,e)})}},{key:"uploadFile",value:function(t,e){this.sendUploadRequest(t,e)}},{key:"cancelFile",value:function(t){var e=this.state.fileRequests[t];e&&(this.untrackUploadRequest(t),e.abort())}},{key:"removeFile",value:function(t,e){this.sendRemoveRequest(t,e)}},{key:"sendUploadRequest",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options.saveUrl){var r=t.id,o=this.getFileUploadFormData(t.rawFile,n.data),i=c.HttpRequest.send({
url:this.options.saveUrl,method:this.options.saveMethod,withCredentials:this.options.withCredentials,data:o,headers:n.headers,success:function(t){e.onUploadSuccess({operation:u.UploadOperationType.Upload,request:t.request,file:{id:r}})},error:function(t){e.onUploadError({operation:u.UploadOperationType.Upload,request:t.request,file:{id:r}})},progress:function(t){e.onUploadProgress({file:{id:r,progress:t.progress}})}});this.trackUploadRequest(r,i)}}},{key:"sendRemoveRequest",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options.removeUrl){var r=t.id,o=this.getFileRemoveFormData(t,n.data);c.HttpRequest.send({url:this.options.removeUrl,method:this.options.removeMethod,withCredentials:this.options.withCredentials,data:o,headers:n.headers,success:function(t){e.onRemoveSuccess({operation:u.UploadOperationType.Remove,request:t.request,file:{id:r}})},error:function(t){e.onRemoveError({operation:u.UploadOperationType.Remove,request:t.request,file:{id:r}})}})}}},{key:"trackUploadRequest",value:function(t,e){this.state.fileRequests[t]=e}},{key:"untrackUploadRequest",value:function(t){this.state.fileRequests[t]=null}},{key:"getFileUploadFormData",value:function(t,e){var n=this.getFormData({field:this.options.saveField,data:t,additionalData:e});return n}},{key:"getFileRemoveFormData",value:function(t,e){var n=this.getFormData({field:this.options.removeField,data:t.name,additionalData:e});return n}},{key:"getFormData",value:function(t){var e=t.data,n=t.field,r=t.additionalData,o=void 0===r?{}:r,i=new FormData;return Object.keys(o).forEach(function(t){i.append(t,o[t])}),i.append(n,e),i}}]),e}(a.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.HttpRequest=void 0;var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(3),l="error",c="progress",u="load",p=function(){return{}},h=function(t){return(0,a.isFunction)(t)?t:p},f=function(t,e){var n=s({request:d(t)},e);return n},d=function(t){var e={status:t.status,statusText:t.statusText,responseText:t.responseText,responseType:t.responseType};return e};e.HttpRequest=function(){function t(){r(this,t)}return i(t,null,[{key:"send",value:function(t){var e=t.url,n=t.method,r=t.data,i=t.withCredentials,s=void 0!==i&&i,a=t.headers,p=void 0===a?{}:a,d=t.success,v=t.error,y=t.progress,g=new XMLHttpRequest,m=h(d),b=h(v),w=h(y);return g.withCredentials=s,g.addEventListener(u,function(){var t=g.status>=200&&g.status<300;t?m(f(g)):b(f(g))}),g.addEventListener(l,function(){b(f(g))}),g.upload.addEventListener(l,function(){b(f(g))}),g.upload.addEventListener(c,function(t){w(f(g,{progress:Math.round(100*t.loaded/t.total)}))}),g.open(n,e,!0),Object.entries(p).forEach(function(t){var e=o(t,2),n=e[0],r=e[1];g.setRequestHeader(n,r)}),g.send(r),g}}]),t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.UploadOperationType={Upload:0,Remove:1}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.UploadFileStatus={Selected:0,Uploaded:1,Uploading:2,Failed:3}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FileValidator=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(201);e.FileValidator=function(){function t(){r(this,t)}return o(t,[{key:"validateFile",value:function(t,e){var n=e.allowedExtensions,r=e.minFileSize,o=e.maxFileSize,i=this.isValidFileExtension(t.extension,n),s=this.isValidMinFileSize(t.size,r),a=this.isValidMaxFileSize(t.size,o);return{validExtension:i,validMinFileSize:s,validMaxFileSize:a}}},{key:"isValidFileExtension",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if((0,i.hasValue)(e)){var n=e.map(function(t){return t.toLowerCase()});return n.includes(t.toLowerCase())}return!0}},{key:"isValidMinFileSize",value:function(t,e){return!(0,i.hasValue)(e)||t>e}},{key:"isValidMaxFileSize",value:function(t,e){return!(0,i.hasValue)(e)||t<e}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FileInfo=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(3),s=n(205);e.FileInfo=function(){function t(e){r(this,t),this.id=(0,i.guid)(),this.name=(0,i.htmlEncode)(e.name),this.size=e.size,this.extension=e.extension,this.progress=e.progress||0,this.rawFile=e.rawFile,this.status=e.status||s.UploadFileStatus.Selected,this.invalidExtension=e.invalidExtension||!1,this.invalidMinFileSize=e.invalidMinSize||!1,this.invalidMaxFileSize=e.invalidMaxFileSize||!1}return o(t,[{key:"isValid",value:function(){return!this.invalidExtension&&!this.invalidMinFileSize&&!this.invalidMaxFileSize}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(209);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Window,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initWindow=r;var o=n(210),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Window=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1);e.Window=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{keydown:"Window_KeyDown"},navigable:!1},i.onKeyDown=function(t){i.element!==t.target&&t.keyCode!==l.KeyCode.ESCAPE||i.invokeKeyDown(t)},i.extendOptions(n),i.bindEvents(),i.options.navigable&&i.enableTabKeyTrap(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),this.options.navigable&&this.disableTabKeyTrap(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.content=null}},{key:"bindEvents",value:function(){this.element.addEventListener("keydown",this.onKeyDown)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("keydown",this.onKeyDown)}},{key:"onShow",value:function(){this.unbindEvents();var t=this.element.getAttribute("data-id");this.element=(0,l.getElementByDataId)(t),this.content=this.element.querySelector(".k-window-content"),this.bindEvents(),this.formKeyTrap&&(this.formKeyTrap.destroy(),this.enableTabKeyTrap()),this.options.navigable?(0,l.focusFirstFocusableChild)(this.content.id):this.element.focus()}},{key:"invokeKeyDown",value:function(t){this.invokeMethodAsync(this.options.jsinterop.keydown,{type:t.type,key:t.key,code:t.keyCode,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey})}},{key:"enableTabKeyTrap",value:function(){this.options.modal&&(this.formKeyTrap=new l.FormKeyTrap(this.content),this.formKeyTrap.enableKeyTrap())}},{key:"disableTabKeyTrap",value:function(){this.formKeyTrap&&this.formKeyTrap.disableTabKeyTrap()}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(212);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.Editor,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initEditor=r;var o=n(1),i=n(213)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Editor=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(214),c=n(250),u=n(251),p=n(252),h=n(253),f=n(254),d=n(1),v="iframe",y="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent);e.Editor=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={editMode:v},i.initialize=function(){i.initContent(),i.initEditor()},i.extendOptions(n),i.iframeEditMode=i.options.editMode===v,i.iframe=i.element.querySelector(".k-iframe"),i.div=i.element.querySelector(".k-content"),i.toolbar=i.element.querySelector(".k-toolbar"),i.bindEvents(),y&&!i.shouldInitialize()||i.initialize(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){y&&this.iframeEditMode&&this.iframe.addEventListener("load",this.initialize,!0),this.toolbar.addEventListener("mousedown",this.onToolBarMouseDown)}},{key:"unbindEvents",value:function(){y&&this.iframeEditMode&&this.iframe.removeEventListener("load",this.initialize,!0),this.toolbar.removeEventListener("mousedown",this.onToolBarMouseDown)}},{key:"shouldInitialize",value:function(){if(this.iframeEditMode){var t=this.iframe.contentDocument||this.iframe.contentWindow.document;return"complete"===t.readyState}return!0}},{key:"initEditor",value:function(){var t=this,e=this.options.updateInterval,n=[new l.Plugin({view:function(){return{update:function(){t.updateToolBarState()}}},key:new l.PluginKey("toolbar-tools-update-plugin")}),new l.Plugin({view:function(){return{update:(0,d.debounce)(t.valueChanged,e).bind(t)}},key:new l.PluginKey("value-changed-plugin")}),(0,l.history)(),(0,l.keymap)((0,l.buildListKeymap)(c.schema)),(0,l.keymap)((0,l.buildKeymap)(c.schema)),(0,l.keymap)(l.baseKeymap),(0,l.tableEditing)()];this.valueContainer=this.element.querySelector("textarea");var r=l.EditorState.create({schema:c.schema,plugins:n,doc:l.DOMParser.fromSchema(c.schema).parse(this.valueContainer)});this.view=new l.EditorView({mount:this.content},{state:r}),this.value=this.view.dom.innerHTML}},{key:"initContent",value:function(){this.content=this.iframeEditMode?this.setupIframe():this.setupDiv()}},{key:"setupIframe",value:function(){var t=this.iframe.contentWindow.document,e=t.createElement("meta");e.setAttribute("charset","utf-8"),t.head.appendChild(e);var n=t.createElement("style");n.appendChild(t.createTextNode(u.defaultStyle)),t.head.appendChild(n);var r=t.createElement("div");return t.body.appendChild(r),t.body.querySelector("div")}},{key:"setupDiv",value:function(){return this.div}},{key:"getDialogArgs",value:function(t){var e=(0,f.getDialogContexts)(this.view);return e[t]()}},{key:"exec",value:function(t){var e=t.commandName,n=p.editorCommands[e](t);n(this.view.state,this.view.dispatch,this.view),t.shouldFocusView&&this.view.focus()}},{key:"setOptions",value:function(t){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setOptions",this).call(this,t)}},{key:"setValue",value:function(){(0,l.setHtml)(this.valueContainer.innerHTML)(this.view.state,this.view.dispatch),this.value=this.view.dom.innerHTML}},{key:"updateToolBarState",value:function(){var t=(0,h.getToolsState)(this.view.state,this.options.toolStates),e=t.stateChanged,n=t.state;e&&(this.options.toolStates=n,this.invokeToolBarUpdate(n))}},{key:"onToolBarMouseDown",value:function(t){(0,d.hasAncestor)(t.target,".k-button",!0)&&t.preventDefault()}},{key:"valueChanged",value:function(){(0,l.hasSameMarkup)(this.view.dom.innerHTML,this.value,c.schema)||(this.value=this.view.dom.innerHTML,this.invokeValueChanged())}},{key:"invokeToolBarUpdate",value:function(t){this.invokeMethodAsync(this.options.jsinterop.updateToolBarState,t)}},{key:"invokeValueChanged",value:function(){this.invokeMethodAsync(this.options.jsinterop.valueChanged,this.value)}},{key:"destroy",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.unbindEvents(),this.view.destroy(),this.content=this.view=this.iframe=null}}]),e}(d.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(87),o=n(215);e.getHtml=o.getHtml,e.setHtml=o.setHtml,e.parseContent=o.parseContent;var i=n(220);e.applyInlineStyle=i.applyInlineStyle,e.getInlineStyles=i.getInlineStyles,e.toggleInlineFormat=i.toggleInlineFormat;var s=n(223);e.applyLink=s.applyLink,e.removeLink=s.removeLink;var a=n(224);e.insertText=a.insertText;var l=n(225);e.insertImage=l.insertImage;var c=n(226);e.alignBlocks=c.alignBlocks,e.isAligned=c.isAligned;var u=n(227);e.hasNode=u.hasNode,e.activeNode=u.activeNode,e.formatBlockElements=u.formatBlockElements,e.getBlockFormats=u.getBlockFormats;var p=n(222);e.hasMark=p.hasMark,e.getMark=p.getMark,e.getActiveMarks=p.getActiveMarks,e.removeAllMarks=p.removeAllMarks;var h=n(228);e.indent=h.indent,e.canIndentAsListItem=h.canIndentAsListItem,e.outdent=h.outdent,e.canOutdentAsListItem=h.canOutdentAsListItem,e.isIndented=h.isIndented,e.canBeIndented=h.canBeIndented,e.indentBlocks=h.indentBlocks;var f=n(232);e.toggleOrderedList=f.toggleOrderedList,e.toggleUnorderedList=f.toggleUnorderedList,e.toggleList=f.toggleList;var d=n(221);e.hasSameMarkup=d.hasSameMarkup,e.getUniqueStyleValues=d.getUniqueStyleValues,e.getSelectionText=d.getSelectionText,e.getNodeFromSelection=d.getNodeFromSelection,e.canInsert=d.canInsert,e.insertNode=d.insertNode,e.indentHtml=d.indentHtml;var v=n(234);e.alignLeftRules=v.alignLeftRules,e.alignCenterRules=v.alignCenterRules,e.alignRightRules=v.alignRightRules,e.alignJustifyRules=v.alignJustifyRules,e.alignRemoveRules=v.alignRemoveRules;var y=n(230);e.indentRules=y.indentRules,e.outdentRules=y.outdentRules;var g=n(235);e.nodes=g.nodes,e.marks=g.marks;var m=n(240);e.buildKeymap=m.buildKeymap,e.buildListKeymap=m.buildListKeymap;var b=n(244);e.bold=b.bold,e.italic=b.italic,e.underline=b.underline,e.strikethrough=b.strikethrough,e.subscript=b.subscript,e.superscript=b.superscript,e.link=b.link;var w=n(245);e.sanitize=w.sanitize,e.removeComments=w.removeComments,e.removeTag=w.removeTag,e.pasteCleanup=w.pasteCleanup,e.sanitizeClassAttr=w.sanitizeClassAttr,e.sanitizeStyleAttr=w.sanitizeStyleAttr,e.removeAttribute=w.removeAttribute;var _=n(246);e.convertMsLists=_.convertMsLists;var x=n(247);e.createTable=x.createTable,r.__exportStar(n(233),e),r.__exportStar(n(248),e),r.__exportStar(n(249),e),r.__exportStar(n(241),e),r.__exportStar(n(243),e),r.__exportStar(n(237),e),r.__exportStar(n(216),e),r.__exportStar(n(229),e),r.__exportStar(n(218),e),r.__exportStar(n(236),e),r.__exportStar(n(219),e),r.__exportStar(n(239),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(216),o=n(218);e.parseContent=function(t,e,n){var o,i=t||"",s=document.createElement("template");if("content"in s)s.innerHTML=i,o=s.content;else{var a=(new DOMParser).parseFromString(i,"text/html");o=a.body}return r.DOMParser.fromSchema(e).parse(o,n)},e.getHtml=function(t){var e=r.DOMSerializer.fromSchema(t.schema).serializeFragment(t.doc.content),n=document.createElement("div");return n.appendChild(e),n.innerHTML},e.setHtml=function(t,n,r){return void 0===n&&(n="setHTML"),void 0===r&&(r={preserveWhitespace:"full"}),function(i,s){return s(i.tr.setSelection(new o.AllSelection(i.doc)).replaceSelectionWith(e.parseContent(t,i.schema,r)).setMeta("commandName",n))}}},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var i=t.child(r),s=e.child(r);if(i!=s){if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(var a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){var l=o(i.content,s.content,n+1);if(null!=l)return l}n+=i.nodeSize}else n+=i.nodeSize}}function i(t,e,n,r){for(var o=t.childCount,s=e.childCount;;){if(0==o||0==s)return o==s?null:{a:n,b:r};var a=t.child(--o),l=e.child(--s),c=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){for(var u=0,p=Math.min(a.text.length,l.text.length);u<p&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){var h=i(a.content,l.content,n-1,r-1);if(h)return h}n-=c,r-=c}else n-=c,r-=c}}function s(t,e){return Y.index=t,Y.offset=e,Y}function a(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!a(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e&&a(t[o],e[o])))return!1;for(var i in e)if(!(i in t))return!1}return!0}function l(t){var e=Error.call(this,t);return e.__proto__=l.prototype,e}function c(t,e,n){var r=t.findIndex(e),o=r.index,i=r.offset,s=t.maybeChild(o),a=t.findIndex(n),l=a.index,u=a.offset;if(i==e||s.isText){if(u!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(c(s.content,e-i-1,n-i-1)))}function u(t,e,n,r){var o=t.findIndex(e),i=o.index,s=o.offset,a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));var l=u(a.content,e-s-1,n);return l&&t.replaceChild(i,a.copy(l))}function p(t,e,n){if(n.openStart>t.depth)throw new l("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new l("Inconsistent open depths");return h(t,e,n,0)}function h(t,e,n,r){var o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){var s=h(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var a=w(n,t),l=a.start,c=a.end;return g(i,m(t,l,c,e,r))}var u=t.parent,p=u.content;return g(u,p.cut(0,t.parentOffset).append(n.content).append(p.cut(e.parentOffset)))}return g(i,b(t,e,r))}function f(t,e){if(!e.type.compatibleContent(t.type))throw new l("Cannot join "+e.type.name+" onto "+t.type.name)}function d(t,e,n){var r=t.node(n);return f(r,e.node(n)),r}function v(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function y(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(v(t.nodeAfter,r),i++));for(var a=i;a<s;a++)v(o.child(a),r);e&&e.depth==n&&e.textOffset&&v(e.nodeBefore,r)}function g(t,e){if(!t.type.validContent(e))throw new l("Invalid content for node "+t.type.name);return t.copy(e)}function m(t,e,n,r,o){var i=t.depth>o&&d(t,e,o+1),s=r.depth>o&&d(n,r,o+1),a=[];return y(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(f(i,s),v(g(i,m(t,e,n,r,o+1)),a)):(i&&v(g(i,b(t,e,o+1)),a),y(e,n,o,a),s&&v(g(s,b(n,r,o+1)),a)),y(r,null,o,a),new G(a)}function b(t,e,n){var r=[];if(y(null,t,n,r),t.depth>n){var o=d(t,e,n+1);v(g(o,b(t,e,n+1)),r)}return y(e,null,n,r),new G(r)}function w(t,e){for(var n=e.depth-t.openStart,r=e.node(n),o=r.copy(t.content),i=n-1;i>=0;i--)o=e.node(i).copy(G.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}function _(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}function x(t){var e=[];do e.push(k(t));while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function k(t){var e=[];do e.push(S(t));while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function S(t){for(var e=T(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=C(t,e)}return e}function O(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function C(t,e){var n=O(t),r=n;return t.eat(",")&&(r="}"!=t.next?O(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function M(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}return 0==o.length&&t.err("No node type or group '"+e+"' found"),o}function T(t){if(t.eat("(")){var e=x(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=M(t,t.next).map(function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}});return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}function E(t){function e(){return i.push([])-1}function n(t,e,n){var r={term:n,to:e};return i[t].push(r),r}function r(t,e){t.forEach(function(t){return t.to=e})}function o(t,i){if("choice"==t.type)return t.exprs.reduce(function(t,e){return t.concat(o(e,i))},[]);if("seq"==t.type)for(var s=0;;s++){var a=o(t.exprs[s],i);if(s==t.exprs.length-1)return a;r(a,i=e())}else{if("star"==t.type){var l=e();return n(i,l),r(o(t.expr,l),l),[n(l)]}if("plus"==t.type){var c=e();return r(o(t.expr,i),c),r(o(t.expr,c),c),[n(c)]}if("opt"==t.type)return[n(i)].concat(o(t.expr,i));if("range"==t.type){for(var u=i,p=0;p<t.min;p++){var h=e();r(o(t.expr,u),h),u=h}if(t.max==-1)r(o(t.expr,u),u);else for(var f=t.min;f<t.max;f++){var d=e();n(u,d),r(o(t.expr,u),d),u=d}return[n(u)]}if("name"==t.type)return[n(i,null,t.value)]}}var i=[[]];return r(o(t,0),e()),i}function P(t,e){return e-t}function A(t,e){function n(e){var o=t[e];if(1==o.length&&!o[0].term)return n(o[0].to);r.push(e);for(var i=0;i<o.length;i++){var s=o[i],a=s.term,l=s.to;a||r.indexOf(l)!=-1||n(l)}}var r=[];return n(e),r.sort(P)}function j(t){function e(r){var o=[];r.forEach(function(e){t[e].forEach(function(e){var n=e.term,r=e.to;if(n){var i=o.indexOf(n),s=i>-1&&o[i+1];A(t,r).forEach(function(t){s||o.push(n,s=[]),s.indexOf(t)==-1&&s.push(t)})}})});for(var i=n[r.join(",")]=new ut(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(P);i.next.push(o[s],n[a.join(",")]||e(a))}return i}var n=Object.create(null);return e(A(t,0))}function D(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var l=o.next[a],c=o.next[a+1];s.push(l.name),!i||l.isText||l.hasRequiredAttrs()||(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function R(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function I(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function z(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new yt(t[n]);return e}function F(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(var a in t.marks){var l=t.marks[a];("_"==o||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function L(t){return(t?St:0)|("full"===t?Ot:0)}function N(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&kt.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}function B(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function V(t){for(var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];e=n.exec(t);)r.push(e[1],e[2].trim());return r}function H(t){var e={};for(var n in t)e[n]=t[n];return e}function U(t,e){var n=e.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(t)){var i=[],s=function(t){i.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),o=r.type,a=r.next;if(o==e)return!0;if(i.indexOf(a)<0&&s(a))return!0}};return s(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}function K(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function q(t){return t.document||window.document}Object.defineProperty(e,"__esModule",{value:!0});var W=r(n(217)),G=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},$={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};G.prototype.nodesBetween=function(t,e,n,r,o){void 0===r&&(r=0);for(var i=0,s=0;s<e;i++){var a=this.content[i],l=s+a.nodeSize;if(l>t&&n(a,r+s,o,i)!==!1&&a.content.size){var c=s+1;a.nodesBetween(Math.max(0,t-c),Math.min(a.content.size,e-c),n,r+c)}s=l}},G.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},G.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),i=!n):s.isLeaf&&r?(o+=r,i=!n):!i&&s.isBlock&&(o+=n,i=!0)},0),o},G.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new G(r,this.size+t.size)},G.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var o=0,i=0;i<e;o++){var s=this.content[o],a=i+s.nodeSize;a>t&&((i<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-i),Math.min(s.text.length,e-i)):s.cut(Math.max(0,t-i-1),Math.min(s.content.size,e-i-1))),n.push(s),r+=s.nodeSize),i=a}return new G(n,r)},G.prototype.cutByIndex=function(t,e){return t==e?G.empty:0==t&&e==this.content.length?this:new G(this.content.slice(t,e))},G.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new G(r,o)},G.prototype.addToStart=function(t){return new G([t].concat(this.content),this.size+t.nodeSize)},G.prototype.addToEnd=function(t){return new G(this.content.concat(t),this.size+t.nodeSize)},G.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},$.firstChild.get=function(){return this.content.length?this.content[0]:null},$.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},$.childCount.get=function(){return this.content.length},G.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},G.prototype.maybeChild=function(t){return this.content[t]},G.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},G.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),o(this,t,e)},G.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),i(this,t,e,n)},G.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return s(0,t);if(t==this.size)return s(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=this.child(n),i=r+o.nodeSize;if(i>=t)return i==t||e>0?s(n+1,i):s(n,r);r=i}},G.prototype.toString=function(){return"<"+this.toStringInner()+">"},G.prototype.toStringInner=function(){return this.content.join(", ")},G.prototype.toJSON=function(){return this.content.length?this.content.map(function(t){return t.toJSON()}):null},G.fromJSON=function(t,e){if(!e)return G.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new G(e.map(t.nodeFromJSON))},G.fromArray=function(t){if(!t.length)return G.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new G(e||t,n)},G.from=function(t){if(!t)return G.empty;if(t instanceof G)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new G([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(G.prototype,$);var Y={index:0,offset:0};G.empty=new G([],0);var X=function(t,e){this.type=t,this.attrs=e};X.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},X.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},X.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},X.prototype.eq=function(t){return this==t||this.type==t.type&&a(this.attrs,t.attrs)},X.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},X.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs);
},X.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},X.setFrom=function(t){if(!t||0==t.length)return X.none;if(t instanceof X)return[t];var e=t.slice();return e.sort(function(t,e){return t.type.rank-e.type.rank}),e},X.none=[],l.prototype=Object.create(Error.prototype),l.prototype.constructor=l,l.prototype.name="ReplaceError";var J=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},Z={size:{configurable:!0}};Z.size.get=function(){return this.content.size-this.openStart-this.openEnd},J.prototype.insertAt=function(t,e){var n=u(this.content,t+this.openStart,e,null);return n&&new J(n,this.openStart,this.openEnd)},J.prototype.removeBetween=function(t,e){return new J(c(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},J.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},J.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},J.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},J.fromJSON=function(t,e){if(!e)return J.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new J(G.fromJSON(t,e.content),n,r)},J.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new J(t,n,r)},Object.defineProperties(J.prototype,Z),J.empty=new J(G.empty,0,0);var Q=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},tt={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};Q.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},tt.parent.get=function(){return this.node(this.depth)},tt.doc.get=function(){return this.node(0)},Q.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},Q.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},Q.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},Q.prototype.start=function(t){return t=this.resolveDepth(t),0==t?0:this.path[3*t-1]+1},Q.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},Q.prototype.before=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},Q.prototype.after=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},tt.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},tt.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},tt.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},Q.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,o=0;o<t;o++)r+=n.child(o).nodeSize;return r},Q.prototype.marks=function t(){var e=this.parent,n=this.index();if(0==e.content.size)return X.none;if(this.textOffset)return e.child(n).marks;var r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){var i=r;r=o,o=i}for(var t=r.marks,s=0;s<t.length;s++)t[s].type.spec.inclusive!==!1||o&&t[s].isInSet(o.marks)||(t=t[s--].removeFromSet(t));return t},Q.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)n[o].type.spec.inclusive!==!1||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},Q.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},Q.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new ot(this,t,n)},Q.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},Q.prototype.max=function(t){return t.pos>this.pos?t:this},Q.prototype.min=function(t){return t.pos<this.pos?t:this},Q.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},Q.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var s=i.content.findIndex(o),a=s.index,l=s.offset,c=o-l;if(n.push(i,a,r+l),!c)break;if(i=i.child(a),i.isText)break;o=c-1,r+=l+1}return new Q(e,n,o)},Q.resolveCached=function(t,e){for(var n=0;n<et.length;n++){var r=et[n];if(r.pos==e&&r.doc==t)return r}var o=et[nt]=Q.resolve(t,e);return nt=(nt+1)%rt,o},Object.defineProperties(Q.prototype,tt);var et=[],nt=0,rt=12,ot=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},it={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};it.start.get=function(){return this.$from.before(this.depth+1)},it.end.get=function(){return this.$to.after(this.depth+1)},it.parent.get=function(){return this.$from.node(this.depth)},it.startIndex.get=function(){return this.$from.index(this.depth)},it.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(ot.prototype,it);var st=Object.create(null),at=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||G.empty,this.marks=r||X.none},lt={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};lt.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},lt.childCount.get=function(){return this.content.childCount},at.prototype.child=function(t){return this.content.child(t)},at.prototype.maybeChild=function(t){return this.content.maybeChild(t)},at.prototype.forEach=function(t){this.content.forEach(t)},at.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},at.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},lt.textContent.get=function(){return this.textBetween(0,this.content.size,"")},at.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},lt.firstChild.get=function(){return this.content.firstChild},lt.lastChild.get=function(){return this.content.lastChild},at.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},at.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},at.prototype.hasMarkup=function(t,e,n){return this.type==t&&a(this.attrs,e||t.defaultAttrs||st)&&X.sameSet(this.marks,n||X.none)},at.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},at.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},at.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},at.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return J.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),s=r.start(i),a=r.node(i),l=a.content.cut(r.pos-s,o.pos-s);return new J(l,r.depth-i,o.depth-i)},at.prototype.replace=function(t,e,n){return p(this.resolve(t),this.resolve(e),n)},at.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,o=n.offset;if(e=e.maybeChild(r),!e)return null;if(o==t||e.isText)return e;t-=o+1}},at.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},at.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},at.prototype.resolve=function(t){return Q.resolveCached(this,t)},at.prototype.resolveNoCache=function(t){return Q.resolve(this,t)},at.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,function(t){return n.isInSet(t.marks)&&(r=!0),!r}),r},lt.isBlock.get=function(){return this.type.isBlock},lt.isTextblock.get=function(){return this.type.isTextblock},lt.inlineContent.get=function(){return this.type.inlineContent},lt.isInline.get=function(){return this.type.isInline},lt.isText.get=function(){return this.type.isText},lt.isLeaf.get=function(){return this.type.isLeaf},lt.isAtom.get=function(){return this.type.isAtom},at.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),_(this.marks,t)},at.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},at.prototype.canReplace=function(t,e,n,r,o){void 0===n&&(n=G.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(t).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var a=r;a<o;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0},at.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},at.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},at.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach(function(t){return t.check()})},at.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(function(t){return t.toJSON()})),t},at.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=G.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(at.prototype,lt);var ct=function(t){function e(e,n,r,o){if(t.call(this,e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):_(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(at),ut=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},pt={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};ut.parse=function(t,e){var n=new ht(t,e);if(null==n.next)return ut.empty;var r=x(n);n.next&&n.err("Unexpected trailing text");var o=j(E(r));return D(o,n),o},ut.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},ut.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},pt.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},pt.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},ut.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},ut.prototype.fillBefore=function(t,e,n){function r(i,s){var a=i.matchFragment(t,n);if(a&&(!e||a.validEnd))return G.from(s.map(function(t){return t.createAndFill()}));for(var l=0;l<i.next.length;l+=2){var c=i.next[l],u=i.next[l+1];if(!c.isText&&!c.hasRequiredAttrs()&&o.indexOf(u)==-1){o.push(u);var p=r(u,s.concat(c));if(p)return p}}}void 0===e&&(e=!1),void 0===n&&(n=0);var o=[this];return r(this,[])},ut.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},ut.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],s=r;s.type;s=s.via)i.push(s.type);return i.reverse()}for(var a=0;a<o.next.length;a+=2){var l=o.next[a];l.isLeaf||l.hasRequiredAttrs()||l.name in e||r.type&&!o.next[a+1].validEnd||(n.push({match:l.contentMatch,type:l,via:r}),e[l.name]=!0)}}},pt.edgeCount.get=function(){return this.next.length>>1},ut.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},ut.prototype.toString=function(){function t(n){e.push(n);for(var r=1;r<n.next.length;r+=2)e.indexOf(n.next[r])==-1&&t(n.next[r])}var e=[];return t(this),e.map(function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o+=2)r+=(o?", ":"")+t.next[o].name+"->"+e.indexOf(t.next[o+1]);return r}).join("\n")},Object.defineProperties(ut.prototype,pt),ut.empty=new ut(!0);var ht=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},ft={next:{configurable:!0}};ft.next.get=function(){return this.tokens[this.pos]},ht.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},ht.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(ht.prototype,ft);var dt=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=z(n.attrs),this.defaultAttrs=R(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},vt={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};vt.isInline.get=function(){return!this.isBlock},vt.isTextblock.get=function(){return this.isBlock&&this.inlineContent},vt.isLeaf.get=function(){return this.contentMatch==ut.empty},vt.isAtom.get=function(){return this.isLeaf||this.spec.atom},dt.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},dt.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},dt.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:I(this.attrs,t)},dt.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new at(this,this.computeAttrs(t),G.from(e),X.setFrom(n))},dt.prototype.createChecked=function(t,e,n){if(e=G.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new at(this,this.computeAttrs(t),e,X.setFrom(n))},dt.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),e=G.from(e),e.size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(G.empty,!0);return o?new at(this,t,e.append(o),X.setFrom(n)):null},dt.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},dt.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},dt.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},dt.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:X.empty:t},dt.compile=function(t,e){var n=Object.create(null);t.forEach(function(t,r){return n[t]=new dt(t,e,r)});var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(dt.prototype,vt);var yt=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},gt={isRequired:{configurable:!0}};gt.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(yt.prototype,gt);var mt=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=z(r.attrs),this.rank=e,this.excluded=null;var o=R(this.attrs);this.instance=o&&new X(this,o)};mt.prototype.create=function(t){return!t&&this.instance?this.instance:new X(this,I(this.attrs,t))},mt.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach(function(t,o){return n[t]=new mt(t,r++,e,o)}),n},mt.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t.slice(0,e).concat(t.slice(e+1));return t},mt.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},mt.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var bt=function(t){this.spec={};for(var e in t)this.spec[e]=t[e];this.spec.nodes=W.from(t.nodes),this.spec.marks=W.from(t.marks),this.nodes=dt.compile(this.spec.nodes,this),this.marks=mt.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var o=this.nodes[r],i=o.spec.content||"",s=o.spec.marks;o.contentMatch=n[i]||(n[i]=ut.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==s?null:s?F(this,s.split(" ")):""!=s&&o.inlineContent?null:[]}for(var a in this.marks){var l=this.marks[a],c=l.spec.excludes;l.excluded=null==c?[l]:""==c?[]:F(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};bt.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof dt))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},bt.prototype.text=function(t,e){var n=this.nodes.text;return new ct(n,n.defaultAttrs,t,X.setFrom(e))},bt.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},bt.prototype.nodeFromJSON=function(t){return at.fromJSON(this,t)},bt.prototype.markFromJSON=function(t){return X.fromJSON(this,t)},bt.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var wt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)}),this.normalizeLists=!this.tags.some(function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)})};wt.prototype.parse=function(t,e){void 0===e&&(e={});var n=new Tt(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},wt.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new Tt(this,e,!0);return n.addAll(t,null,e.from,e.to),J.maxOpen(n.finish())},wt.prototype.matchTag=function(t,e){for(var n=0;n<this.tags.length;n++){var r=this.tags[n];if(B(t,r.tag)&&(void 0===r.namespace||t.namespaceURI==r.namespace)&&(!r.context||e.matchesContext(r.context))){if(r.getAttrs){var o=r.getAttrs(t);if(o===!1)continue;r.attrs=o}return r}}},wt.prototype.matchStyle=function(t,e,n){for(var r=0;r<this.styles.length;r++){var o=this.styles[r];if(!(0!=o.style.indexOf(t)||o.context&&!n.matchesContext(o.context)||o.style.length>t.length&&(61!=o.style.charCodeAt(t.length)||o.style.slice(t.length+1)!=e))){if(o.getAttrs){var i=o.getAttrs(e);if(i===!1)continue;o.attrs=i}return o}}},wt.schemaRules=function(t){function e(t){for(var e=null==t.priority?50:t.priority,r=0;r<n.length;r++){var o=n[r],i=null==o.priority?50:o.priority;if(i<e)break}n.splice(r,0,t)}var n=[],r=function(n){var r=t.marks[n].spec.parseDOM;r&&r.forEach(function(t){e(t=H(t)),t.mark=n})};for(var o in t.marks)r(o);var i=function(n){var r=t.nodes[s].spec.parseDOM;r&&r.forEach(function(t){e(t=H(t)),t.node=s})};for(var s in t.nodes)i();return n},wt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new wt(t,wt.schemaRules(t)))};var _t={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},xt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},kt={ol:!0,ul:!0},St=1,Ot=2,Ct=4,Mt=function(t,e,n,r,o,i,s){this.type=t,this.attrs=e,this.solid=o,this.match=i||(s&Ct?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=X.none,this.pendingMarks=r};Mt.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(G.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},Mt.prototype.finish=function(t){if(!(this.options&St)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=G.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(G.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},Mt.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):U(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}};var Tt=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,o=e.topNode,i=L(e.preserveWhitespace)|(n?Ct:0);r=o?new Mt(o.type,o.attrs,X.none,X.none,!0,e.topMatch||o.type.contentMatch,i):n?new Mt(null,null,X.none,X.none,!0,null,i):new Mt(t.schema.topNodeType,null,X.none,X.none,!0,null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},Et={top:{configurable:!0},currentPos:{configurable:!0}};Et.top.get=function(){return this.nodes[this.open]},Tt.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(V(e)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},Tt.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(e)){if(n.options&St)n.options&Ot||(e=e.replace(/\r?\n|\r/g," "));else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},Tt.prototype.addElement=function(t){var e=t.nodeName.toLowerCase();kt.hasOwnProperty(e)&&this.parser.normalizeLists&&N(t);var n=this.options.ruleFromNode&&this.options.ruleFromNode(t)||this.parser.matchTag(t,this);if(n?n.ignore:xt.hasOwnProperty(e))this.findInside(t);else if(!n||n.skip||n.closeParent){n&&n.closeParent?this.open=Math.max(0,this.open-1):n&&n.skip.nodeType&&(t=n.skip);var r,o=this.top,i=this.needsBlock;if(_t.hasOwnProperty(e))r=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),r&&this.sync(o),this.needsBlock=i}else this.addElementByRule(t,n)},Tt.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},Tt.prototype.readStyles=function(t){for(var e=X.none,n=0;n<t.length;n+=2){var r=this.parser.matchStyle(t[n],t[n+1],this);if(r){if(r.ignore)return null;e=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(e)}}return e},Tt.prototype.addElementByRule=function(t,e){var n,r,o,i,s=this;e.node?(r=this.parser.schema.nodes[e.node],r.isLeaf?this.insertNode(r.create(e.attrs))||this.leafFallback(t):n=this.enter(r,e.attrs,e.preserveWhitespace)):(o=this.parser.schema.marks[e.mark],i=o.create(e.attrs),this.addPendingMark(i));var a=this.top;if(r&&r.isLeaf)this.findInside(t);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(function(t){return s.insertNode(t)});else{var l=e.contentElement;"string"==typeof l?l=t.querySelector(l):"function"==typeof l&&(l=l(t)),l||(l=t),this.findAround(t,l,!0),this.addAll(l,n)}n&&(this.sync(a),this.open--),i&&this.removePendingMark(i,a)},Tt.prototype.addAll=function(t,e,n,r){for(var o=n||0,i=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i),e&&_t.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},Tt.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=o,!i.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},Tt.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},Tt.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},Tt.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=null==r?o.options&~Ct:L(r);o.options&Ct&&0==o.content.length&&(i|=Ct),this.nodes.push(new Mt(t,e,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},Tt.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},Tt.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},Tt.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},Et.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},Tt.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},Tt.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},Tt.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)){var o=e.compareDocumentPosition(this.find[r].node);o&(n?2:4)&&(this.find[r].pos=this.currentPos)}},Tt.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},Tt.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=function(t,a){for(;t>=0;t--){var l=n[t];if(""==l){if(t==n.length-1||0==t)continue;for(;a>=i;a--)if(s(t-1,a))return!0;return!1}var c=a>0||0==a&&o?e.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!c||c.name!=l&&c.groups.indexOf(l)==-1)return!1;a--}return!0};return s(n.length-1,this.open)},Tt.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},Tt.prototype.addPendingMark=function(t){this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},Tt.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n],o=r.pendingMarks.lastIndexOf(t);if(o>-1?r.pendingMarks=t.removeFromSet(r.pendingMarks):r.activeMarks=t.removeFromSet(r.activeMarks),r==e)break}},Object.defineProperties(Tt.prototype,Et);var Pt=function(t,e){this.nodes=t||{},this.marks=e||{}};Pt.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=q(e).createDocumentFragment());var o=n,i=null;return t.forEach(function(t){if(i||t.marks.length){i||(i=[]);for(var n=0,s=0;n<i.length&&s<t.marks.length;){var a=t.marks[s];if(r.marks[a.type.name]){if(!a.eq(i[n])||a.type.spec.spanning===!1)break;n+=2,s++}else s++}for(;n<i.length;)o=i.pop(),i.pop();for(;s<t.marks.length;){var l=t.marks[s++],c=r.serializeMark(l,t.isInline,e);c&&(i.push(l,o),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(r.serializeNode(t,e))}),n},
Pt.prototype.serializeNode=function(t,e){void 0===e&&(e={});var n=Pt.renderSpec(q(e),this.nodes[t.type.name](t)),r=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return r},Pt.prototype.serializeNodeAndMarks=function(t,e){void 0===e&&(e={});for(var n=this.serializeNode(t,e),r=t.marks.length-1;r>=0;r--){var o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},Pt.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&Pt.renderSpec(q(n),r(t,e))},Pt.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};var r=e[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,s=n?t.createElementNS(n,r):t.createElement(r),a=e[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a)){l=2;for(var c in a)if(null!=a[c]){var u=c.indexOf(" ");u>0?s.setAttributeNS(c.slice(0,u),c.slice(u+1),a[c]):s.setAttribute(c,a[c])}}for(var p=l;p<e.length;p++){var h=e[p];if(0===h){if(p<e.length-1||p>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var f=Pt.renderSpec(t,h,n),d=f.dom,v=f.contentDOM;if(s.appendChild(d),v){if(i)throw new RangeError("Multiple content holes");i=v}}return{dom:s,contentDOM:i}},Pt.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new Pt(this.nodesFromSchema(t),this.marksFromSchema(t)))},Pt.nodesFromSchema=function(t){var e=K(t.nodes);return e.text||(e.text=function(t){return t.text}),e},Pt.marksFromSchema=function(t){return K(t.marks)},e.ContentMatch=ut,e.DOMParser=wt,e.DOMSerializer=Pt,e.Fragment=G,e.Mark=X,e.MarkType=mt,e.Node=at,e.NodeRange=ot,e.NodeType=dt,e.ReplaceError=l,e.ResolvedPos=Q,e.Schema=bt,e.Slice=J},function(t,e){function n(t){this.content=t}n.prototype={constructor:n,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var o=r&&r!=t?this.remove(r):this,i=o.find(t),s=o.content.slice();return i==-1?s.push(r||t,e):(s[i+1]=e,r&&(s[i]=r)),new n(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new n(r)},addToStart:function(t,e){return new n([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new n(r)},addBefore:function(t,e,r){var o=this.remove(e),i=o.content.slice(),s=o.find(t);return i.splice(s==-1?i.length:s,0,e,r),new n(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=n.from(t),t.size?new n(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=n.from(t),t.size?new n(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=n.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},get size(){return this.content.length>>1}},n.from=function(t){if(t instanceof n)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new n(e)},t.exports=n},function(t,e,n){"use strict";function r(t,e,n,o,i,s){if(e.inlineContent)return d.create(t,n);for(var a=o-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){var l=e.child(a);if(l.isAtom){if(!s&&y.isSelectable(l))return y.create(t,n-(i<0?l.nodeSize:0))}else{var c=r(t,l,n+i,i<0?l.childCount:0,i,s);if(c)return c}n+=l.nodeSize*i}}function o(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o=t.steps[r];if(o instanceof c.ReplaceStep||o instanceof c.ReplaceAroundStep){var i,s=t.mapping.maps[r];s.forEach(function(t,e,n,r){null==i&&(i=r)}),t.setSelection(p.near(t.doc.resolve(i),n))}}}function i(t,e){return e&&t?t.bind(e):t}function s(t,e,n){for(var r in t){var o=t[r];o instanceof Function?o=o.bind(e):"handleDOMEvents"==r&&(o=s(o,e,{})),n[r]=o}return n}function a(t){return t in A?t+"$"+ ++A[t]:(A[t]=0,t+"$")}Object.defineProperty(e,"__esModule",{value:!0});var l=n(216),c=n(219),u=Object.create(null),p=function(t,e,n){this.ranges=n||[new f(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},h={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};h.anchor.get=function(){return this.$anchor.pos},h.head.get=function(){return this.$head.pos},h.from.get=function(){return this.$from.pos},h.to.get=function(){return this.$to.pos},h.$from.get=function(){return this.ranges[0].$from},h.$to.get=function(){return this.ranges[0].$to},h.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},p.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},p.prototype.replace=function(t,e){void 0===e&&(e=l.Slice.empty);for(var n=e.content.lastChild,r=null,i=0;i<e.openEnd;i++)r=n,n=n.lastChild;for(var s=t.steps.length,a=this.ranges,c=0;c<a.length;c++){var u=a[c],p=u.$from,h=u.$to,f=t.mapping.slice(s);t.replaceRange(f.map(p.pos),f.map(h.pos),c?l.Slice.empty:e),0==c&&o(t,s,(n?n.isInline:r&&r.isTextblock)?-1:1)}},p.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,i=0;i<r.length;i++){var s=r[i],a=s.$from,l=s.$to,c=t.mapping.slice(n),u=c.map(a.pos),p=c.map(l.pos);i?t.deleteRange(u,p):(t.replaceRangeWith(u,p,e),o(t,n,e.isInline?-1:1))}},p.findFrom=function(t,e,n){var o=t.parent.inlineContent?new d(t):r(t.node(0),t.parent,t.pos,t.index(),e,n);if(o)return o;for(var i=t.depth-1;i>=0;i--){var s=e<0?r(t.node(0),t.node(i),t.before(i+1),t.index(i),e,n):r(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,n);if(s)return s}},p.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new m(t.node(0))},p.atStart=function(t){return r(t,t,0,0,1)||new m(t)},p.atEnd=function(t){return r(t,t,t.content.size,t.childCount,-1)||new m(t)},p.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=u[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},p.jsonID=function(t,e){if(t in u)throw new RangeError("Duplicate use of selection JSON ID "+t);return u[t]=e,e.prototype.jsonID=t,e},p.prototype.getBookmark=function(){return d.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(p.prototype,h),p.prototype.visible=!0;var f=function(t,e){this.$from=t,this.$to=e},d=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return t.near(o);var i=n.resolve(r.map(this.anchor));return new e(i.parent.inlineContent?i:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=l.Slice.empty),t.prototype.replace.call(this,e,n),n==l.Slice.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new v(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,o,!0)||t.findFrom(r,-o,!0);if(!s)return t.near(r,o);r=s.$head}return n.parent.inlineContent||(0==i?n=r:(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor,n.pos<r.pos!=i<0&&(n=r))),new e(n,r)},Object.defineProperties(e.prototype,n),e}(p);p.jsonID("text",d);var v=function(t,e){this.anchor=t,this.head=e};v.prototype.map=function(t){return new v(t.map(this.anchor),t.map(this.head))},v.prototype.resolve=function(t){return d.between(t.resolve(this.anchor),t.resolve(this.head))};var y=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,s=o.pos,a=n.resolve(s);return i?t.near(a):new e(a)},e.prototype.content=function(){return new l.Slice(l.Fragment.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new g(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&t.type.spec.selectable!==!1},e}(p);y.prototype.visible=!1,p.jsonID("node",y);var g=function(t){this.anchor=t};g.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new v(r,r):new g(r)},g.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&y.isSelectable(n)?new y(e):p.near(e)};var m=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=l.Slice.empty),n==l.Slice.empty){e.delete(0,e.doc.content.size);var r=t.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return b},e}(p);p.jsonID("all",m);var b={map:function(){return this},resolve:function(t){return new m(t)}},w=1,_=2,x=4,k=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|w)&~_,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&w)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=_,this},e.prototype.ensureMarks=function(t){return l.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&_)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=this.updated&~_,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return e!==!1&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||l.Mark.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(e);o=n==e?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(p.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=x,this},n.scrolledIntoView.get=function(){return(this.updated&x)>0},Object.defineProperties(e.prototype,n),e}(c.Transform),S=function(t,e,n){this.name=t,this.init=i(e.init,n),this.apply=i(e.apply,n)},O=[new S("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new S("selection",{init:function(t,e){return t.selection||p.atStart(e.doc)},apply:function(t){return t.selection}}),new S("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new S("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],C=function(t,e){var n=this;this.schema=t,this.fields=O.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach(function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new S(t.key,t.spec.state,t))})},M=function(t){this.config=t},T={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};T.schema.get=function(){return this.config.schema},T.plugins.get=function(){return this.config.plugins},M.prototype.apply=function(t){return this.applyTransaction(t).state},M.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},M.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var s=this.config.plugins[i];if(s.spec.appendTransaction){var a=r?r[i].n:0,l=r?r[i].state:this,c=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",t),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<i?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}},M.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new M(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}for(var i=0;i<E.length;i++)E[i](this,t,e);return e},T.tr.get=function(){return new k(this)},M.create=function(t){for(var e=new C(t.schema||t.doc.type.schema,t.plugins),n=new M(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},M.prototype.reconfigure=function(t){for(var e=new C(t.schema||this.schema,t.plugins),n=e.fields,r=new M(e),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(t,r)}return r},M.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(function(t){return t.toJSON()})),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e},M.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var r=new C(t.schema,t.plugins),o=new M(r);return r.fields.forEach(function(r){if("doc"==r.name)o.doc=l.Node.fromJSON(t.schema,e.doc);else if("selection"==r.name)o.selection=p.fromJSON(o.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var i in n){var s=n[i],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,i))return void(o[r.name]=a.fromJSON.call(s,t,e[i],o))}o[r.name]=r.init(t,o)}}),o},M.addApplyListener=function(t){E.push(t)},M.removeApplyListener=function(t){var e=E.indexOf(t);e>-1&&E.splice(e,1)},Object.defineProperties(M.prototype,T);var E=[],P=function(t){this.props={},t.props&&s(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:a("plugin")};P.prototype.getState=function(t){return t[this.key]};var A=Object.create(null),j=function(t){void 0===t&&(t="key"),this.key=a(t)};j.prototype.get=function(t){return t.config.pluginsByKey[this.key]},j.prototype.getState=function(t){return t[this.key]},e.AllSelection=m,e.EditorState=M,e.NodeSelection=y,e.Plugin=P,e.PluginKey=j,e.Selection=p,e.SelectionRange=f,e.TextSelection=d,e.Transaction=k},function(t,e,n){"use strict";function r(t,e){return t+e*I}function o(t){return t&R}function i(t){return(t-(t&R))/I}function s(t){var e=Error.call(this,t);return e.__proto__=s.prototype,e}function a(){throw new Error("Override me")}function l(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function c(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function u(t){for(var e=t.parent,n=e.content.cutByIndex(t.startIndex,t.endIndex),r=t.depth;;--r){var o=t.$from.node(r),i=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(i,s,n))return r;if(0==r||o.type.spec.isolating||!c(o,i,s))break}}function p(t,e,n,r){void 0===r&&(r=t);var o=f(t,e),i=o&&d(r,e);return i?o.map(h).concat({type:e,attrs:n}).concat(i.map(h)):null}function h(t){return{type:t,attrs:null}}function f(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;var s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}function d(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;for(var a=s.length?s[s.length-1]:e,l=a.contentMatch,c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return l&&l.validEnd?s:null}function v(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function y(t,e,n,r){void 0===n&&(n=1);var o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,l=n-2;a>i;a--,l--){var c=o.node(a),u=o.index(a);if(c.type.spec.isolating)return!1;var p=c.content.cutByIndex(u,c.childCount),h=r&&r[l]||c;if(h!=c&&(p=p.replaceChild(0,h.type.create(h.attrs))),!c.canReplace(u+1,c.childCount)||!h.type.validContent(p))return!1}var f=o.indexAfter(i),d=r&&r[0];return o.node(i).canReplaceWith(f,f,d?d.type:o.node(i+1).type)}function g(t,e){var n=t.resolve(e),r=n.index();return m(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function m(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function b(t,e,n){void 0===n&&(n=-1);for(var r=t.resolve(e),o=r.depth;;o--){var i=void 0,s=void 0,a=r.index(o);if(o==r.depth?(i=r.nodeBefore,s=r.nodeAfter):n>0?(i=r.node(o+1),a++,s=r.node(o).maybeChild(a)):(i=r.node(o).maybeChild(a-1),s=r.node(o+1)),i&&!i.isTextblock&&m(i,s)&&r.node(o).canReplace(a,a+1))return e;if(0==o)break;e=n<0?r.before(o):r.after(o)}}function w(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}function _(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(l>0?1:0);if(1==s?r.node(a).canReplace(c,c,o):r.node(a).contentMatchAt(c).findWrapping(o.firstChild.type))return 0==l?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function x(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(x(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return D.Fragment.fromArray(r)}function k(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=D.Slice.empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);return S(o,i,r)?new K(e,n,r):new $(o,i,r).fit()}function S(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}function O(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(O(t.firstChild.content,e-1,n)))}function C(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(C(t.lastChild.content,e-1,n)))}function M(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function T(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,T(r.firstChild,e-1,1==r.childCount?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(D.Fragment.empty,!0)))),t.copy(r)}function E(t,e,n,r,o){var i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;var a=r.fillBefore(i.content,!0,s);return a&&!P(n,i.content,s)?a:null}function P(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function A(t,e,n,r,o){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(A(i.content,e+1,n,r,i)))}if(e>r){var s=o.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(D.Fragment.empty,!0))}return t}function j(t,e){for(var n=[],r=Math.min(t.depth,e.depth),o=r;o>=0;o--){var i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;i==e.start(o)&&n.push(o)}return n}Object.defineProperty(e,"__esModule",{value:!0});var D=n(216),R=65535,I=Math.pow(2,16),z=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},F=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};F.prototype.recover=function(t){var e=0,n=o(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+i(t)},F.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},F.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},F.prototype._map=function(t,e,n){for(var o=0,i=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?o:0);if(l>t)break;var c=this.ranges[a+i],u=this.ranges[a+s],p=l+c;if(t<=p){var h=c?t==l?-1:t==p?1:e:e,f=l+o+(h<0?0:u);if(n)return f;var d=t==(e<0?l:p)?null:r(a/3,t-l);return new z(f,e<0?t!=l:t!=p,d)}o+=u-c}return n?t+o:new z(t+o)},F.prototype.touches=function(t,e){for(var n=0,r=o(e),i=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?n:0);if(l>t)break;var c=this.ranges[a+i],u=l+c;if(t<=u&&a==3*r)return!0;n+=this.ranges[a+s]-c}return!1},F.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),l=this.ranges[r+e],c=this.ranges[r+n];t(s,s+l,a,a+c),o+=c-l}},F.prototype.invert=function(){return new F(this.ranges,!this.inverted)},F.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},F.offset=function(t){return 0==t?F.empty:new F(t<0?[0,-t,0]:[0,0,t])},F.empty=new F([]);var L=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};L.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new L(this.maps,this.mirror,t,e)},L.prototype.copy=function(){return new L(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},L.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},L.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},L.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},L.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},L.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},L.prototype.invert=function(){var t=new L;return t.appendMappingInverted(this),t},L.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},L.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},L.prototype._map=function(t,e,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o],s=i.mapResult(t,e);if(null!=s.recover){var a=this.getMirror(o);if(null!=a&&a>o&&a<this.to){o=a,t=this.maps[a].recover(s.recover);continue}}s.deleted&&(r=!0),t=s.pos}return n?t:new z(t,r)},s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.prototype.name="TransformError";var N=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new L},B={before:{configurable:!0},docChanged:{configurable:!0}};B.before.get=function(){return this.docs.length?this.docs[0]:this.doc},N.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new s(e.failed);return this},N.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},B.docChanged.get=function(){return this.steps.length>0},N.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(N.prototype,B);var V=Object.create(null),H=function(){};H.prototype.apply=function(t){return a()},H.prototype.getMap=function(){return F.empty},H.prototype.invert=function(t){return a()},H.prototype.map=function(t){return a()},H.prototype.merge=function(t){return null},H.prototype.toJSON=function(){return a()},H.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=V[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},H.jsonID=function(t,e){if(t in V)throw new RangeError("Duplicate use of step JSON ID "+t);return V[t]=e,e.prototype.jsonID=t,e};var U=function(t,e){this.doc=t,this.failed=e};U.ok=function(t){return new U(t,null)},U.fail=function(t){return new U(null,t)},U.fromReplace=function(t,e,n,r){try{return U.ok(t.replace(e,n,r))}catch(t){if(t instanceof D.ReplaceError)return U.fail(t.message);throw t}};var K=function(t){function e(e,n,r,o){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&l(t,this.from,this.to)?U.fail("Structure replace would overwrite content"):U.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new F([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?D.Slice.empty:new D.Slice(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?D.Slice.empty:new D.Slice(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,D.Slice.fromJSON(t,n.slice),!!n.structure)},e}(H);H.jsonID("replace",K);var q=function(t){function e(e,n,r,o,i,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(l(t,this.from,this.gapFrom)||l(t,this.gapTo,this.to)))return U.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return U.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?U.fromReplace(t,this.from,this.to,n):U.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new F([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new e(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,D.Slice.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(H);H.jsonID("replaceAround",q),N.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,i=n.before(o+1),s=r.after(o+1),a=i,l=s,c=D.Fragment.empty,u=0,p=o,h=!1;p>e;p--)h||n.index(p)>0?(h=!0,
c=D.Fragment.from(n.node(p).copy(c)),u++):a--;for(var f=D.Fragment.empty,d=0,v=o,y=!1;v>e;v--)y||r.after(v+1)<r.end(v)?(y=!0,f=D.Fragment.from(r.node(v).copy(f)),d++):l++;return this.step(new q(a,l,i,s,new D.Slice(c.append(f),u,d),c.size-u,!0))},N.prototype.wrap=function(t,e){for(var n=D.Fragment.empty,r=e.length-1;r>=0;r--)n=D.Fragment.from(e[r].type.create(e[r].attrs,n));var o=t.start,i=t.end;return this.step(new q(o,i,o,i,new D.Slice(n,0,0),e.length,!0))},N.prototype.setBlockType=function(t,e,n,r){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&v(o.doc,o.mapping.slice(i).map(e),n)){o.clearIncompatible(o.mapping.slice(i).map(e,1),n);var s=o.mapping.slice(i),a=s.map(e,1),l=s.map(e+t.nodeSize,1);return o.step(new q(a,l,a+1,l-1,new D.Slice(D.Fragment.from(n.create(r,null,t.marks)),0,0),1,!0)),!1}}),this},N.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new q(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new D.Slice(D.Fragment.from(i),0,0),1,!0))},N.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),o=D.Fragment.empty,i=D.Fragment.empty,s=r.depth,a=r.depth-e,l=e-1;s>a;s--,l--){o=D.Fragment.from(r.node(s).copy(o));var c=n&&n[l];i=D.Fragment.from(c?c.type.create(c.attrs,i):r.node(s).copy(i))}return this.step(new K(t,t,new D.Slice(o.append(i),e,e),!0))},N.prototype.join=function(t,e){void 0===e&&(e=1);var n=new K(t-e,t+e,D.Slice.empty,!0);return this.step(n)};var W=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new D.Slice(x(n.content,function(t,n){return n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t},o),n.openStart,n.openEnd);return U.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new G(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(H);H.jsonID("addMark",W);var G=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new D.Slice(x(n.content,function(t){return t.mark(e.mark.removeFromSet(t.marks))}),n.openStart,n.openEnd);return U.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new W(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(H);H.jsonID("removeMark",G),N.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,function(r,l,c){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var p=Math.max(l,t),h=Math.min(l+r.nodeSize,e),f=n.addToSet(u),d=0;d<u.length;d++)u[d].isInSet(f)||(s&&s.to==p&&s.mark.eq(u[d])?s.to=h:o.push(s=new G(p,h,u[d])));a&&a.to==p?a.to=h:i.push(a=new W(p,h,n))}}}),o.forEach(function(t){return r.step(t)}),i.forEach(function(t){return r.step(t)}),this},N.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,function(r,s){if(r.isInline){i++;var a=null;if(n instanceof D.MarkType){var l=n.isInSet(r.marks);l&&(a=[l])}else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length)for(var c=Math.min(s+r.nodeSize,e),u=0;u<a.length;u++){for(var p=a[u],h=void 0,f=0;f<o.length;f++){var d=o[f];d.step==i-1&&p.eq(o[f].style)&&(h=d)}h?(h.to=c,h.step=i):o.push({style:p,from:Math.max(s,t),to:c,step:i})}}}),o.forEach(function(t){return r.step(new G(t.from,t.to,t.style))}),this},N.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],i=t+1,s=0;s<r.childCount;s++){var a=r.child(s),l=i+a.nodeSize,c=n.matchType(a.type,a.attrs);if(c){n=c;for(var u=0;u<a.marks.length;u++)e.allowsMarkType(a.marks[u].type)||this.step(new G(i,l,a.marks[u]))}else o.push(new K(i,l,D.Slice.empty));i=l}if(!n.validEnd){var p=n.fillBefore(D.Fragment.empty,!0);this.replace(i,i,new D.Slice(p,0,0))}for(var h=o.length-1;h>=0;h--)this.step(o[h]);return this},N.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=D.Slice.empty);var r=k(this.doc,t,e,n);return r&&this.step(r),this},N.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new D.Slice(D.Fragment.from(n),0,0))},N.prototype.delete=function(t,e){return this.replace(t,e,D.Slice.empty)},N.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var $=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var r=0;r<=t.depth;r++){var o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}this.placed=D.Fragment.empty;for(var i=t.depth;i>0;i--)this.placed=D.Fragment.from(t.node(i).copy(this.placed))},Y={depth:{configurable:!0}};Y.depth.get=function(){return this.frontier.length-1},$.prototype.fit=function t(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;for(var i=this.placed,s=r.depth,a=o.depth;s&&a&&1==i.childCount;)i=i.firstChild.content,s--,a--;var l=new D.Slice(i,s,a);return e>-1?new q(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new K(r.pos,o.pos,l):void 0},$.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--){var n=void 0,r=void 0;e?(r=M(this.unplaced.content,e-1).firstChild,n=r.content):n=this.unplaced.content;for(var o=n.firstChild,i=this.depth;i>=0;i--){var s=this.frontier[i],a=s.type,l=s.match,c=void 0,u=void 0;if(1==t&&(o?l.matchType(o.type)||(u=l.fillBefore(D.Fragment.from(o),!1)):a.compatibleContent(r.type)))return{sliceDepth:e,frontierDepth:i,parent:r,inject:u};if(2==t&&o&&(c=l.findWrapping(o.type)))return{sliceDepth:e,frontierDepth:i,parent:r,wrap:c};if(r&&l.matchType(r.type))break}}},$.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=M(e,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new D.Slice(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)},$.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=M(e,n);if(o.childCount<=1&&n>0){var i=e.size-n<=n+o.size;this.unplaced=new D.Slice(O(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new D.Slice(O(e,n,1),n,r)},$.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,r=t.parent,o=t.inject,i=t.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var s=0;s<i.length;s++)this.openFrontierNode(i[s]);var a=this.unplaced,l=r?r.content:a.content,c=a.openStart-e,u=0,p=[],h=this.frontier[n],f=h.match,d=h.type;if(o){for(var v=0;v<o.childCount;v++)p.push(o.child(v));f=f.matchFragment(o)}for(var y=l.size+e-(a.content.size-a.openEnd);u<l.childCount;){var g=l.child(u),m=f.matchType(g.type);if(!m)break;u++,(u>1||0==c||g.content.size)&&(f=m,p.push(T(g.mark(d.allowedMarks(g.marks)),1==u?c:0,u==l.childCount?y:-1)))}var b=u==l.childCount;b||(y=-1),this.placed=C(this.placed,n,D.Fragment.from(p)),this.frontier[n].match=f,b&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.closeFrontierNode();for(var w=0,_=l;w<y;w++){var x=_.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),_=x.content}this.unplaced=b?0==e?D.Slice.empty:new D.Slice(O(a.content,e-1,1),e-1,y<0?a.openEnd:e-1):new D.Slice(O(a.content,e,u),a.openStart,a.openEnd)},$.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!E(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to,r=n.depth,o=this.$to.after(r);r>1&&o==this.$to.end(--r);)++o;return o},$.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,o=n.type,i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=E(t,e,o,r,i);if(s){for(var a=e-1;a>=0;a--){var l=this.frontier[a],c=l.match,u=l.type,p=E(t,a,u,c,!0);if(!p||p.childCount)continue t}return{depth:e,fit:s,move:i?t.doc.resolve(t.after(e+1)):t}}}},$.prototype.close=function t(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=C(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e},$.prototype.openFrontierNode=function(t,e,n){var r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=C(this.placed,this.depth,D.Fragment.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},$.prototype.closeFrontierNode=function(){var t=this.frontier.pop(),e=t.match.fillBefore(D.Fragment.empty,!0);e.childCount&&(this.placed=C(this.placed,this.frontier.length,e))},Object.defineProperties($.prototype,Y),N.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(S(r,o,n))return this.step(new K(t,e,n));var i=j(r,this.doc.resolve(e));0==i[i.length-1]&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var a=r.depth,l=r.pos-1;a>0;a--,l--){var c=r.node(a).type.spec;if(c.defining||c.isolating)break;i.indexOf(a)>-1?s=a:r.before(a)==l&&i.splice(1,0,-a)}for(var u=i.indexOf(s),p=[],h=n.openStart,f=n.content,d=0;;d++){var v=f.firstChild;if(p.push(v),d==n.openStart)break;f=v.content}h>0&&p[h-1].type.spec.defining&&r.node(u).type!=p[h-1].type?h-=1:h>=2&&p[h-1].isTextblock&&p[h-2].type.spec.defining&&r.node(u).type!=p[h-2].type&&(h-=2);for(var y=n.openStart;y>=0;y--){var g=(y+h+1)%(n.openStart+1),m=p[g];if(m)for(var b=0;b<i.length;b++){var w=i[(b+u)%i.length],_=!0;w<0&&(_=!1,w=-w);var x=r.node(w-1),k=r.index(w-1);if(x.canReplaceWith(k,k,m.type,m.marks))return this.replace(r.before(w),_?o.after(w):e,new D.Slice(A(n.content,0,n.openStart,g),g,n.openEnd))}}for(var O=this.steps.length,C=i.length-1;C>=0&&(this.replace(t,e,n),!(this.steps.length>O));C--){var M=i[C];C<0||(t=r.before(M),e=o.after(M))}return this},N.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=w(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new D.Slice(D.Fragment.from(n),0,0))},N.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=j(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(t-n.start(l)==n.depth-l&&e>n.end(l)&&r.end(l)-e!=r.depth-l)return this.delete(n.before(l),e);return this.delete(t,e)},e.AddMarkStep=W,e.MapResult=z,e.Mapping=L,e.RemoveMarkStep=G,e.ReplaceAroundStep=q,e.ReplaceStep=K,e.Step=H,e.StepMap=F,e.StepResult=U,e.Transform=N,e.TransformError=s,e.canJoin=g,e.canSplit=y,e.dropPoint=_,e.findWrapping=p,e.insertPoint=w,e.joinPoint=b,e.liftTarget=u,e.replaceStep=k},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(87),o=n(219),i=n(221),s=n(222);e.changeStyleFromMark=function(t,e){var n=t.find(function(t){return"style"===t.type.name}),r=n&&n.attrs.style;return i.changeStyles(r,e)},e.changeStyleMark=function(t,n,i,s,a){var l=a.create({style:s.style}),c=[],u=[],p=null,h=null;return t.doc.nodesBetween(n,i,function(t,f,d){if(t.isInline){var v=t.marks;if(!l.isInSet(v)&&d.type.allowsMarkType(l.type)){var y=Math.max(f,n),g=Math.min(f+t.nodeSize,i),m=e.changeStyleFromMark(v,s);if(m.changed||s.newValue){for(var b=m.changed?{style:m.style||null}:{style:[s.style]+": "+s.newValue+";"},w=a.isInSet(v)?v.find(function(t){return"style"===t.type.name}):null,_=w?r.__assign({},w.attrs,b):b,x=a.create(_),k=x.addToSet(v),S=0;S<v.length;S++)v[S].isInSet(k)||(p&&p.to===y&&p.mark.eq(v[S])?p.to=g:(p=new o.RemoveMarkStep(y,g,v[S]),c.push(p)));var O=h&&h.to===y,C=O&&x.attrs.style===h.mark.attrs.style;O&&C?h.to=g:Object.keys(_).some(function(t){return null!==_[t]})&&(h=new o.AddMarkStep(y,g,x),u.push(h))}}}}),c.forEach(function(e){return t.step(e)}),u.forEach(function(e){return t.step(e)}),c.length+u.length>0},e.hasStyle=function(t,n){var r=t.selection,o=r.from,i=r.$from,s=r.to,a=r.empty,l=!1,c={style:n.name,value:n.value};return a?l=e.changeStyleFromMark(t.storedMarks||i.marks(),c).changed:t.doc.nodesBetween(o,s,function(t,n,r){!l&&t.isInline&&(l=e.changeStyleFromMark(t.marks,c).changed)}),l},e.getInlineStyles=function(t,n){var r,o=t.selection,i=o.from,s=o.$from,a=o.to,l=o.empty,c=[],u={style:n.name,value:n.value};return l?(r=e.changeStyleFromMark(t.storedMarks||s.marks(),u),r.changed&&(c=r.styleMatches)):t.doc.nodesBetween(i,a,function(t,n,o){t.isInline&&(r=e.changeStyleFromMark(t.marks,u),r.changed?c.push.apply(c,r.styleMatches):c.push(null))}),c.filter(function(t){return null!==t})},e.changeStyle=function(t,n){return function(o,i,a){var l=o.selection,c=l.empty,u=l.$cursor,p=l.ranges;if(c&&!u||!s.markApplies(o.doc,p,t))return!1;var h=!1;if(i)if(a=a||o.tr,u){var f=o.storedMarks||u.marks();if(t.isInSet(f)){var d=e.changeStyleFromMark(f,n),v=f.find(function(t){return"style"===t.type.name}),y=r.__assign({},v?v.attrs:{},{style:d.style||null});i(a.removeStoredMark(t)),Object.keys(y).some(function(t){return null!==y[t]})&&i(a.addStoredMark(t.create(y))),h=!0}}else{for(var g=0;g<p.length;g++){var m=p[g],b=m.$from,w=m.$to;h=e.changeStyleMark(a,b.pos,w.pos,n,t)}h&&(a.scrollIntoView(),i(a))}return h}},e.toggleInlineFormat=function(t,n,r){return function(o,i){var a=o.schema.marks,l=t.altStyle,c=t.altMarks,u=void 0===c?[]:c,p=t.mark;n=n||o.tr;var h=!1,f=!1,d=function(){return f=!0};if(l&&a.style){var v=a.style,y=e.changeStyle(v,{style:l.name,value:l.value});h=y(o,d,n)}var g=[p].concat(u).filter(function(t){return a[t]}),m=g.map(function(t){return s.hasMark(o,{mark:t})&&a[t]}).filter(function(t){return t});return m.length?s.removeMarks(m,o,d,n):h||s.toggleMark(a[p],r,n)(o,d),f&&i(n),f}},e.applyInlineStyle=function(t,n){return function(o,a){var l=o.schema.marks,c=l.style,u={style:t.style,value:/^.+$/,newValue:t.value},p=o.tr;n&&p.setMeta("commandName",n),p.setMeta("args",t);var h=o.selection,f=h.empty,d=h.$cursor,v=h.ranges;if(f&&!d||!s.markApplies(o.doc,v,c))return!1;if(d){var y=o.storedMarks||d.marks(),g=c.isInSet(y)?y.find(function(t){return"style"===t.type.name}):null,m={style:null};if(g&&g.attrs.style){var b=i.changeStyles(g.attrs.style,u);b.changed&&b.style&&(m.style=b.style)}else u.newValue&&(m.style=[u.style]+": "+u.newValue+";");var w=g?r.__assign({},g.attrs,m):m;return a(Object.keys(w).some(function(t){return null!==w[t]})?p.addStoredMark(c.create(w)):p.removeStoredMark(c)),!0}return e.changeStyle(c,u)(o,a,p)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(216),o=n(218),i=n(222),s=n(220),a=n(215);e.changeStyles=function(t,e){var n=e.style,r=e.value,o=e.newValue,i=[];if(t){var s=t.split(/\s*;\s*/).filter(function(t){return t}),a=s.filter(function(t){if(!t.toLowerCase().trim().startsWith(n))return!0;var e=t.split(":")[1].trim();return!r.test(e)||(i.push(e),!1)});return o&&a.push(n+": "+o),{style:a.join("; ")+(a.length?";":""),changed:!!o||a.length!==s.length,styleMatches:i}}return{changed:!1,styleMatches:i,style:null}},e.changeStyle=function(t,e){return function(n,r,o){var a=n.selection,l=a.empty,c=a.$cursor,u=a.ranges;if(l&&!c||!i.markApplies(n.doc,u,t))return!1;var p=!1;if(r)if(o=o||n.tr,c){var h=n.storedMarks||c.marks();if(t.isInSet(h)){var f=s.changeStyleFromMark(h,e);r(o.removeStoredMark(t)),r(o.addStoredMark(t.create({style:f.style}))),p=!0}}else{for(var d=0;d<u.length;d++){var v=u[d],y=v.$from,g=v.$to;p=s.changeStyleMark(o,y.pos,g.pos,e,t)}p&&(o.scrollIntoView(),r(o))}return p}},e.canInsert=function(t,e){for(var n=t.selection.$from,r=n.depth;r>=0;r--){var o=n.index(r);if(n.node(r).canReplaceWith(o,o,e))return!0}return!1},e.getTypeName=function(t){return t instanceof r.Node?t.type.name:t.name},e.findParentNode=function(t){return function(e){for(var n=e.$from,r=n.depth;r>0;r--){var o=n.node(r);if(t(o))return{depth:r,node:o}}}},e.findNthParentNode=function(t,e){return void 0===e&&(e=1),function(n){for(var r=n.$from,o=r.depth;o>0;o--){var i=r.node(o);if(t(i)&&(e-=1,0===e))return{depth:o,node:i}}}},e.findNthParentNodeOfType=function(t,n){return void 0===n&&(n=1),function(r){return e.findNthParentNode(function(n){return e.getTypeName(n)===e.getTypeName(t)},n)(r)}},e.insertNode=function(t,e){return function(n,r){var o=n.tr.replaceSelectionWith(t);e&&o.scrollIntoView(),r(o)}},e.hasSameMarkup=function(t,e,n,o){var i=r.Fragment.from(a.parseContent(t,n,o)),s=r.Fragment.from(a.parseContent(e,n,o));return i.eq(s)},e.first=function(t){return t[0]},e.last=function(t){return t[t.length-1]},e.split=function(t){return function(e){return e.split(t)}},e.trim=function(t){return t.trim()},e.filter=function(t){return function(e){return e.filter(t)}},e.getUniqueStyleValues=function(t,n){if(t.hasNodesWithoutMarks)return"";var r=t.marks.filter(function(t){return"style"===t.type.name}).map(function(t){return t.attrs.style}).map(e.split(";")).map(e.filter(function(t){return t.includes(n)})).map(function(t){return 0!==t.length?t:[n+": INVALID"]}).map(e.first).map(e.split(":")).map(e.last).map(e.trim).reduce(function(t,e){return t.indexOf(e)>-1?t:t.concat([e])},[]);return r.indexOf("INVALID")>-1||1!==r.length?"":r[0]},e.getSelectionText=function(t){var e=t.selection;if(e instanceof o.TextSelection||e instanceof o.AllSelection){var n=e.content().content;return n.textBetween(0,n.size)}return""},e.getNodeFromSelection=function(t){if(t.selection instanceof o.NodeSelection)return t.selection.node},e.indentHtml=function(t){return t.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(219),o=n(216),i=n(218),s=n(220);e.markApplies=function(t,e,n){for(var r=function(r){var o=e[r],i=o.$from,s=o.$to,a=0===i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,s.pos,function(t){return!a&&void(a=t.inlineContent&&t.type.allowsMarkType(n))}),a)return{v:!0}},o=0;o<e.length;o++){var i=r(o);if(i)return i.v}return!1},e.toggleMark=function(t,n,r){return function(o,i){var s=o.selection,a=s.empty,l=s.$cursor,c=s.ranges;if(a&&!l||!e.markApplies(o.doc,c,t))return!1;if(i)if(l)i(t.isInSet(o.storedMarks||l.marks())?r.removeStoredMark(t):r.addStoredMark(t.create(n)));else{for(var u=!1,p=0;!u&&p<c.length;p++){var h=c[p],f=h.$from,d=h.$to;u=o.doc.rangeHasMark(f.pos,d.pos,t)}for(var p=0;p<c.length;p++){var v=c[p],f=v.$from,d=v.$to;u?r.removeMark(f.pos,d.pos,t):r.addMark(f.pos,d.pos,t.create(n))}i(r.scrollIntoView())}return!0}},e.removeMark=function(t,e,n,i){void 0===i&&(i=null);var s=[],a=0;return t.doc.nodesBetween(e,n,function(t,r){if(t.isInline){a++;var l=null;if(i instanceof o.MarkType){var c=i.isInSet(t.marks);c&&(l=[c])}else i?i.isInSet(t.marks)&&(l=[i]):l=t.marks;if(l&&l.length)for(var u=Math.min(r+t.nodeSize,n),p=0;p<l.length;p++){for(var h=l[p],f=void 0,d=0;d<s.length;d++){var v=s[d];v.step===a-1&&h.eq(v.style)&&(f=v)}f?(f.to=u,f.step=a):s.push({style:h,from:Math.max(r,e),to:u,step:a})}}}),s.forEach(function(e){return t.step(new r.RemoveMarkStep(e.from,e.to,e.style))}),t},e.removeMarks=function(t,n,r,o){var i=n.selection,s=i.$cursor,a=i.ranges;if(o=o||n.tr,s)t.forEach(function(t){t.isInSet(n.storedMarks||s.marks())&&r(o.removeStoredMark(t))});else{for(var l=function(n){var r=a[n],i=r.$from,s=r.$to;t.forEach(function(t){e.removeMark(o,i.pos,s.pos,t)})},c=0;c<a.length;c++)l(c);r(o.scrollIntoView())}return!0};var a=function(t){return t instanceof Array?t:[t]};e.removeAllMarks=function(t){var e=(void 0===t?{}:t).except,n=void 0===e?[]:e;return function(t,e){var r=t.schema,o=t.selection,i=o.empty,s=o.ranges,l=t.tr,c=a(n).map(function(t){return t.name});if(!i){var u=Object.keys(r.marks).map(function(t){return r.marks[t]}).filter(function(t){return c.indexOf(t.name)===-1});s.forEach(function(t){var e=t.$from,n=t.$to;u.forEach(function(t){return l.removeMark(e.pos,n.pos,t)})}),e(l)}}},e.getParentMark=function(t,e){var n=t.selection,r=n.from,o=n.$from,i=n.to,s=n.empty,a=t.doc;if(s)return e.isInSet(t.storedMarks||o.marks())||null;var l=[];return a.nodesBetween(r,i,function(t){t.isInline&&l.push(e.isInSet(t.marks))}),1===l.length&&l[0]?l[0]:null},e.hasMark=function(t,e){var n,r=t.schema.marks,o=(e.altMarks||[]).filter(function(t){return r[t]}),i=e.altStyle,a=t.selection,l=a.from,c=a.$from,u=a.to,p=a.empty,h=r[e.mark],f=t.doc,d=!1;return p?(n=t.storedMarks||c.marks(),d=h&&h.isInSet(n)||o.some(function(t){return r[t].isInSet(n)})):d=h&&f.rangeHasMark(l,u,h)||o.some(function(t){return f.rangeHasMark(l,u,r[t])}),!d&&i?s.hasStyle(t,i):Boolean(d)},e.getMark=function(t,e){var n,r=t.selection,o=r.from,i=r.$from,s=r.to,a=r.empty,l=t.doc;if(a)n=e.isInSet(t.storedMarks||i.marks());else{var c=[];l.nodesBetween(o,s,function(t){t.isInline&&c.push(e.isInSet(t.marks))}),c.some(function(t){return!t})||(n=c[c.length-1])}return n};var l=function(t,e){return e.marks.filter(function(e){return e.type.name===t.name})};e.getActiveMarks=function(t,e){var n=t.selection,r=!1;if(n instanceof i.TextSelection&&n.$cursor)return{hasNodesWithoutMarks:r,marks:n.$cursor.marks().filter(function(t){return!e||t.type.name===e.name})};var o=[];return n.content().content.descendants(function(t){if("text"===t.type.name){var n=e?l(e,t):t.marks;t.marks.length>0&&n.length>0?o.push.apply(o,n):r=!0}}),{hasNodesWithoutMarks:r,marks:o}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(220),o=n(222),i=n(218),s=function(t,e){return function(n,r){var o=n.selection,i=o.$cursor,s=o.from,a=o.to,l=n.schema.marks[t.mark];if(i){var c=i.parent,u=i.index(),p=c.child(u).marks.find(function(t){return t.type===l}),h=c.childCount,f=i.pos-i.textOffset,d=c.child(u).nodeSize,v=void 0,y=void 0;for(v=u-1;v>=0&&p.isInSet(c.child(v).marks);)y=c.child(v).nodeSize,d+=y,f-=y,v-=1;for(v=u+1;v<h&&p.isInSet(c.child(v).marks);)d+=c.child(v).nodeSize,v+=1;e.removeMark(f,f+d,l),e.addMark(f,f+d,l.create(t.attrs)),r(e)}else e.doc.nodesBetween(s,a,function(n,o){n.isInline&&l.isInSet(n.marks)&&(e.removeMark(o,o+n.nodeSize,l),e.addMark(o,o+n.nodeSize,l.create(t.attrs)),r(e))})}};e.removeLink=function(t,e){return function(n,i){var s=n.selection.$cursor;if(s){var a=s.parent,l=s.index(),c=n.schema.marks[t.mark],u=a.child(l).marks.find(function(t){return t.type===c}),p=a.childCount,h=s.pos-s.textOffset,f=a.child(l).nodeSize,d=void 0,v=void 0;for(d=l-1;d>=0&&u.isInSet(a.child(d).marks);)v=a.child(d).nodeSize,f+=v,h-=v,d-=1;for(d=l+1;d<p&&u.isInSet(a.child(d).marks);)f+=a.child(d).nodeSize,d+=1;i(o.removeMark(e||n.tr,h,h+f,u))}else r.toggleInlineFormat(t,e)(n,i)}},e.applyLink=function(t,n){var a=t.mark,l=t.attrs;return void 0===n&&(n="link"),function(t,c){var u=t.schema.marks,p=t.tr;n&&(p.setMeta("commandName",n),p.setMeta("args",l));var h=!1,f=function(){return h=!0};if(o.getParentMark(t,u[a]))s({mark:a,attrs:l},p)(t,f);else{var d=t;o.hasMark(t,{mark:a})&&(e.removeLink({mark:a,attrs:l},p)(t,f),d=i.EditorState.create({doc:p.doc,selection:p.selection})),h?o.toggleMark(u[a],l,p)(d,f):r.toggleInlineFormat({mark:a},p,l)(d,f)}return h&&c(p),h}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.insertText=function(t){return function(e,n){n(e.tr.insertText(t.text,t.from,t.to))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(221);e.insertImage=function(t){return function(e,n){var o=e.schema.nodes.image,i="insertImage",s=o.createAndFill(t);r.insertNode(s)(e,function(e){return n(e.setMeta("commandName",i).setMeta("args",t))})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(227);e.alignBlocks=function(t,e){return function(n,o){var i=r.blockNodes(n),s=n.tr;s.setMeta("commandName",e);var a=!1;return i.forEach(function(e){if(e.type.isTextblock){var i={},l=t.find(function(t){return t.node===e.type.name});l&&(i=r.addStyles(e,l.style)),a=r.changeBlockNode(n,o,s,e,e.type,i)||a}}),a&&o(s.scrollIntoView()),a}},e.isAligned=function(t,e){var n=r.blockNodes(t),o=!1;return n.forEach(function(t){if(!o&&t.type.isTextblock&&t.attrs.style){var n=e.find(function(e){return e.node===t.type.name});n&&(o=n.style.every(function(e){return!!e.value&&new RegExp(e.name+":\\s?"+e.value,"i").test(t.attrs.style)}))}}),o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(87),o=n(221),i=n(219),s=n(216),a=n(218),l=function(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)};e.changeBlockNode=function(t,e,n,r,o,a){var c=t.selection,u=c.from,p=c.to,h=!1;if(t.doc.nodesBetween(u,p,function(e,n){if(h)return!1;if(e.isTextblock&&!e.hasMarkup(o,a))if(e.type===o)h=!0;else{var r=t.doc.resolve(n),i=r.index();h=r.parent.canReplaceWith(i,i+1,o)}}),!h)return!1;if(e){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var f=n.steps.length;n.doc.nodesBetween(u,p,function(t,e){if(t.eq(r)&&t.isTextblock&&!t.hasMarkup(o,a)&&l(n.doc,n.mapping.slice(f).map(e),o)){n.clearIncompatible(n.mapping.slice(f).map(e,1),o);var c=n.mapping.slice(f),u=c.map(e,1),p=c.map(e+t.nodeSize,1),h=new s.Slice(s.Fragment.from(o.create(a,null,t.marks)),0,0);return n.step(new i.ReplaceAroundStep(u,p,u+1,p-1,h,1,!0)),!1}})}return!0},e.blockNodes=function(t){var e=t.selection,n=e.from,r=e.to,o=e.$from,i=[];return e.node?e.node.isBlock?i.push(e.node):o.parent&&o.parent.isBlock&&i.push(o.parent):t.doc.nodesBetween(n,r,function(t){t.isBlock&&i.push(t)}),i},e.formatBlockElements=function(t,n){return function(o,i){var s=e.blockNodes(o),a=o.schema.nodes,l=!1,c=o.tr;return c.setMeta("commandName",n),c.setMeta("args",{value:t}),s.forEach(function(n){if(n.type.isTextblock)if("p"===t){var s=n.attrs,u=s.level,p=r.__rest(s,["level"]);l=e.changeBlockNode(o,i,c,n,a.paragraph,p)||l}else if(/^h[1-6]$/i.test(t)){var u=parseInt(t.substr(1),10);l=e.changeBlockNode(o,i,c,n,a.heading,r.__assign({},n.attrs,{level:u}))||l}else if("blockquote"===t){var h=n.attrs,u=h.level,p=r.__rest(h,["level"]);l=e.changeBlockNode(o,i,c,n,a.blockquote,p)||l}}),l&&i(c.scrollIntoView()),l}},e.getBlockFormats=function(t){var n=e.blockNodes(t),r=t.schema.nodes,o=[];return n.forEach(function(t){if(t.type===r.paragraph)o.push("p");else if(t.type===r.heading)for(var e=1;e<=6;e++)if(t.attrs.level===e){o.push("h"+e);break}}),o},e.addStyles=function(t,e){var n=t.attrs.style,r=null,i=null;n&&e.forEach(function(t){i={style:t.name,value:/^.+$/,newValue:t.value},r=o.changeStyles(n,i),n=r.changed?r.style:n});var s=function(t,e){return(t&&e.value?t+" ":"")+e.value?e.name+": "+e.value+";":""};return n=n||e.reduce(s,""),Object.assign({},t.attrs,{style:n||null})},e.hasNode=function(t,e){var n=t.selection,r=n.from,o=n.to,i=!1;return t.doc.nodesBetween(r,o,function(t){return i=i||t.type===e,!i}),i};var c=function(t,e){return Object.keys(t).filter(function(t){return e(t)}).reduce(function(e,n){var r;return Object.assign(e,(r={},r[n]=t[n],r))},{})},u=function(t){var e=function(e){return null!==t[e]&&void 0!==t[e]&&""!==t[e]};return c(t,e)};e.getNodeTagName=function(t,e){var n,r=t.type.spec.parseDOM||[],o=t.attrs;return n=1===r.length?r[0]:r.find(function(n){var r=s.DOMSerializer.fromSchema(e).serializeNode(t);return JSON.stringify(n.getAttrs(r))===JSON.stringify(u(o))}),n?n.tag.toLowerCase().replace(/ *\[[^\]]*]/,""):""},e.activeNode=function(t){var n,r=t.schema.nodes.doc;if(t.selection instanceof a.AllSelection)n=t.doc;else if(t.selection instanceof a.TextSelection){var i=t.selection.$anchor,s=i.node(i.blockRange().depth),l=o.getTypeName(s)===o.getTypeName(r);n=l?i.node():s}else t.selection instanceof a.NodeSelection&&(n=t.selection.node);return{name:o.getTypeName(n),tag:e.getNodeTagName(n,t.schema)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(229),o=n(230),i=n(227),s=n(221);e.indentBlocks=function(t,e,n){return function(r,o){var s=i.blockNodes(r),a=r.tr,l=!1;return a.setMeta("commandName",e),s.forEach(function(e){if(e.type.isTextblock){var s=void 0,c=t.find(function(t){return t.node===e.type.name});if(c){var u="rtl"===n?c.rtlStyle:c.style,p={name:u,value:c.step>0?""+c.step+c.unit:""};if(e.attrs.style){var h=new RegExp(u+":\\s?(\\d+)"+c.unit,"i"),f=e.attrs.style.match(h);if(f){var d=parseFloat(f[1])+c.step;d=d<=0?"":d,p.value=""+d+(d?c.unit:"")}}s=i.addStyles(e,[p])}s&&(l=i.changeBlockNode(r,o,a,e,e.type,s)||l)}}),l&&o(a.scrollIntoView()),l}},e.isIndented=function(t,e,n){var r=i.blockNodes(t),o=!1;return r.forEach(function(t){if(!o&&t.type.isTextblock&&t.attrs.style){var r=e.find(function(e){return e.node===t.type.name});if(r){var i="rtl"===n?r.rtlStyle:r.style,s=new RegExp(i+":\\s?\\d+"+r.unit,"i");o=s.test(t.attrs.style)}}}),o},e.canIndentAsListItem=function(t,e){return r.sinkListItem(e)(t)},e.canOutdentAsListItem=function(t,e){var n=t.schema.nodes[e.listsTypes.listItem],o=t.schema.nodes[e.listsTypes.orderedList],i=t.schema.nodes[e.listsTypes.bulletList],a=!!s.findNthParentNodeOfType(o,2)(t.selection),l=!!s.findNthParentNodeOfType(i,2)(t.selection);return(a||l)&&r.liftListItem(n)(t)},e.canBeIndented=function(t,n){var r=t.schema.nodes,s=r[o.indentRules.listsTypes.listItem];return(e.isIndented(t,n.nodes)||o.indentRules.nodes.some(function(e){return r[e.node]&&i.hasNode(t,r[e.node])}))&&!i.hasNode(t,s)},e.indent=function(t,n){var i=t.schema.nodes[o.indentRules.listsTypes.listItem],s=e.canBeIndented(t,o.indentRules);e.canIndentAsListItem(t,i)?r.sinkListItem(i)(t,n):s&&e.indentBlocks(o.indentRules.nodes)(t,n)},e.outdent=function(t,n){var i=t.schema.nodes[o.outdentRules.listsTypes.listItem],s=e.canBeIndented(t,o.outdentRules);e.canOutdentAsListItem(t,o.outdentRules)?r.liftListItem(i)(t,n):s&&e.indentBlocks(o.outdentRules.nodes)(t,n)}},function(t,e,n){"use strict";function r(t,e){
var n={};for(var r in t)n[r]=t[r];for(var o in e)n[o]=e[o];return n}function o(t,e,n){return t.append({ordered_list:r(g,{content:"list_item+",group:n}),bullet_list:r(m,{content:"list_item+",group:n}),list_item:r(b,{content:e})})}function i(t,e){return function(n,r){var o=n.selection,i=o.$from,a=o.$to,l=i.blockRange(a),c=!1,u=l;if(!l)return!1;if(l.depth>=2&&i.node(l.depth-1).type.compatibleContent(t)&&0==l.startIndex){if(0==i.index(l.depth-1))return!1;var p=n.doc.resolve(l.start-2);u=new f.NodeRange(p,p,l.depth),l.endIndex<l.parent.childCount&&(l=new f.NodeRange(i,n.doc.resolve(a.end(l.depth)),l.depth)),c=!0}var d=h.findWrapping(u,t,e,l);return!!d&&(r&&r(s(n.tr,l,d,c,t).scrollIntoView()),!0)}}function s(t,e,n,r,o){for(var i=f.Fragment.empty,s=n.length-1;s>=0;s--)i=f.Fragment.from(n[s].type.create(n[s].attrs,i));t.step(new h.ReplaceAroundStep(e.start-(r?2:0),e.end,e.start,e.end,new f.Slice(i,0,0),n.length,!0));for(var a=0,l=0;l<n.length;l++)n[l].type==o&&(a=l+1);for(var c=n.length-a,u=e.start+n.length-(r?2:0),p=e.parent,d=e.startIndex,v=e.endIndex,y=!0;d<v;d++,y=!1)!y&&h.canSplit(t.doc,u,c)&&(t.split(u,c),u+=2*c),u+=p.child(d).nodeSize;return t}function a(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,s=r.node;if(s&&s.isBlock||o.depth<2||!o.sameParent(i))return!1;var a=o.node(-1);if(a.type!=t)return!1;if(0==o.parent.content.size){if(2==o.depth||o.node(-3).type!=t||o.index(-2)!=o.node(-2).childCount-1)return!1;if(n){for(var l=f.Fragment.empty,c=o.index(-1)>0,u=o.depth-(c?1:2);u>=o.depth-3;u--)l=f.Fragment.from(o.node(u).copy(l));l=l.append(f.Fragment.from(t.createAndFill()));var p=e.tr.replace(o.before(c?null:-1),o.after(-3),new f.Slice(l,c?3:2,2));p.setSelection(e.selection.constructor.near(p.doc.resolve(o.pos+(c?3:2)))),n(p.scrollIntoView())}return!0}var d=i.pos==o.end()?a.contentMatchAt(0).defaultType:null,v=e.tr.delete(o.pos,i.pos),y=d&&[null,{type:d}];return!!h.canSplit(v.doc,o.pos,2,y)&&(n&&n(v.split(o.pos,2,y).scrollIntoView()),!0)}}function l(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,s=o.blockRange(i,function(e){return e.childCount&&e.firstChild.type==t});return!!s&&(!n||(o.node(s.depth-1).type==t?c(e,n,t,s):u(e,n,s)))}}function c(t,e,n,r){var o=t.tr,i=r.end,s=r.$to.end(r.depth);return i<s&&(o.step(new h.ReplaceAroundStep(i-1,s,i,s,new f.Slice(f.Fragment.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new f.NodeRange(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth)),e(o.lift(r,h.liftTarget(r)).scrollIntoView()),!0}function u(t,e,n){for(var r=t.tr,o=n.parent,i=n.end,s=n.endIndex-1,a=n.startIndex;s>a;s--)i-=o.child(s).nodeSize,r.delete(i-1,i+1);var l=r.doc.resolve(n.start),c=l.nodeAfter,u=0==n.startIndex,p=n.endIndex==o.childCount,d=l.node(-1),v=l.index(-1);if(!d.canReplace(v+(u?0:1),v+1,c.content.append(p?f.Fragment.empty:f.Fragment.from(o))))return!1;var y=l.pos,g=y+c.nodeSize;return r.step(new h.ReplaceAroundStep(y-(u?1:0),g+(p?1:0),y+1,g-1,new f.Slice((u?f.Fragment.empty:f.Fragment.from(o.copy(f.Fragment.empty))).append(p?f.Fragment.empty:f.Fragment.from(o.copy(f.Fragment.empty))),u?0:1,p?0:1),u?0:1)),e(r.scrollIntoView()),!0}function p(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,s=o.blockRange(i,function(e){return e.childCount&&e.firstChild.type==t});if(!s)return!1;var a=s.startIndex;if(0==a)return!1;var l=s.parent,c=l.child(a-1);if(c.type!=t)return!1;if(n){var u=c.lastChild&&c.lastChild.type==l.type,p=f.Fragment.from(u?t.create():null),d=new f.Slice(f.Fragment.from(t.create(null,f.Fragment.from(l.type.create(null,p)))),u?3:1,0),v=s.start,y=s.end;n(e.tr.step(new h.ReplaceAroundStep(v-(u?3:1),y,v,y,d,1,!0)).scrollIntoView())}return!0}}Object.defineProperty(e,"__esModule",{value:!0});var h=n(219),f=n(216),d=["ol",0],v=["ul",0],y=["li",0],g={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM:function(t){return 1==t.attrs.order?d:["ol",{start:t.attrs.order},0]}},m={parseDOM:[{tag:"ul"}],toDOM:function(){return v}},b={parseDOM:[{tag:"li"}],toDOM:function(){return y},defining:!0};e.addListNodes=o,e.bulletList=m,e.liftListItem=l,e.listItem=b,e.orderedList=g,e.sinkListItem=p,e.splitListItem=a,e.wrapInList=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(87),o=n(231);e.indentRules={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"}],listsTypes:r.__assign({},o.listsTypes)},e.outdentRules={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"}],listsTypes:r.__assign({},o.listsTypes)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(87);e.listsTypes={orderedList:"ordered_list",bulletList:"bullet_list",listItem:"list_item"},e.orderedList={listType:e.listsTypes.orderedList,types:r.__assign({},e.listsTypes)},e.bulletList={listType:e.listsTypes.bulletList,types:r.__assign({},e.listsTypes)}},function(t,e,n){"use strict";function r(t,n,r){var o=t.selection,i=o.from,s=o.to,a=t.schema.nodes,l=a.paragraph,c=a.heading,u=[];n.doc.nodesBetween(i,s,function(t,e){t.type!==l&&t.type!==c||u.push({node:t,pos:e})});for(var p=u.length-1;p>=0;p--){var h=u[p],f=n.doc.resolve(n.mapping.map(h.pos));if(f.depth>0){var d=void 0;d=h.node.textContent&&h.node.textContent.length>0?n.doc.resolve(n.mapping.map(h.pos+h.node.textContent.length)):n.doc.resolve(n.mapping.map(h.pos+1));var v=f.blockRange(d);v&&n.lift(v,e.getListLiftTarget(t.schema,f,r))}}return n}function o(t){return function(e,n,r){if(!r)return!1;e=r.state;var o=e.schema.nodes[t.listType],i=e.selection,s=i.$from,l=i.$to,c=s.node(-2),h=s.node(-3),f=a(e.doc,s,l,o);return(c&&c.type===o||h&&h.type===o)&&f?u(t)(e,n):(f||(u(t)(e,n),e=r.state),p(o)(e,n))}}function i(t,e,n,r){r||(r=t.schema.nodes.listItem);var o=e.$from,i=e.$to,s=o.blockRange(i,function(t){return t.childCount&&t.firstChild.type===r});if(!s||s.depth<2||o.node(s.depth-1).type!==r)return n;var a=s.end,l=i.end(s.depth);return a<l&&(n.step(new g.ReplaceAroundStep(a-1,l,a,l,new v.Slice(v.Fragment.from(r.create(void 0,s.parent.copy())),1,0),1,!0)),s=new v.NodeRange(n.doc.resolve(o.pos),n.doc.resolve(l),s.depth)),n.lift(s,g.liftTarget(s)).scrollIntoView()}function s(t,e,n,r,o,s){s||(s=t.schema.nodes.listItem);var a=!1;return o.doc.nodesBetween(e,n,function(n,l){if(!a&&n.type===s&&l>e){a=!0;for(var c=r+3;c>r+2;){var u=o.doc.resolve(o.mapping.map(l));c=u.depth;var p=o.doc.resolve(o.mapping.map(l+n.textContent.length)),h=new y.TextSelection(u,p);o=i(t,h,o,s)}}}),o}function a(t,e,n,r){return 0===l(t,e,n).filter(function(t){return t.type!==r}).length}function l(t,e,n){for(var r=Array(),o=c(t,e).depth,i=t.resolve(e.start(o));i.pos<=n.start(n.depth);){var s=Math.min(i.depth,o),a=i.node(s);if(a&&r.push(a),0===s)break;var l=t.resolve(i.after(s));if(l.start(s)>=t.nodeSize-2)break;l.depth!==i.depth&&(l=t.resolve(l.pos+2)),i=l.depth?t.resolve(l.start(l.depth)):t.resolve(l.end(l.depth))}return r}function c(t,e){var n=["blockquote","bulletList","orderedList"];if(1===e.depth)return e;for(var r=e.node(e.depth),o=e;e.depth>=1;)e=t.resolve(e.before(e.depth)),r=e.node(e.depth),r&&n.indexOf(r.type.name)!==-1&&(o=e);return o}function u(t){return function(e,n){var r=e.tr,o=e.selection,i=o.$from,s=o.$to;return r.doc.nodesBetween(i.pos,s.pos,function(n,o){if(n.isTextblock||"blockquote"===n.type.name||"div"===n.type.name){var i=new y.NodeSelection(r.doc.resolve(r.mapping.map(o))),s=i.$from.blockRange(i.$to);if(!s||i.$from.parent.type!==e.schema.nodes[t.listItem])return!1;var a=s&&g.liftTarget(s);if(void 0===a||null===a)return!1;r.lift(s,a)}}),n&&n(r),!0}}function p(t){return m.autoJoin(b.wrapInList(t),function(e,n){return e.type===n.type&&e.type===t})}function h(t,n,r){return e.toggleList(t,n,r,d.__assign({listType:w.bulletList.listType},w.bulletList.types))}function f(t,n,r){return e.toggleList(t,n,r,d.__assign({listType:w.orderedList.listType},w.orderedList.types))}Object.defineProperty(e,"__esModule",{value:!0});var d=n(87),v=n(216),y=n(218),g=n(219),m=n(233),b=n(229),w=n(231);e.rootListDepth=function(t,e){for(var n,r=e.bulletList,o=e.orderedList,i=e.listItem,s=t.depth-1;s>0;s--){var a=t.node(s);if(a.type!==r&&a.type!==o||(n=s),a.type!==r&&a.type!==o&&a.type!==i)break}return n},e.getListLiftTarget=function(t,e,n){for(var r=e.depth,o=t.nodes[n.bulletList],i=t.nodes[n.orderedList],s=t.nodes[n.listItem],a=e.depth;a>0;a--){var l=e.node(a);if(l.type!==o&&l.type!==i||(r=a),l.type!==o&&l.type!==i&&l.type!==s)break}return r-1},e.liftSelectionList=r,e.toggleList=function(t,n,i,a,l){var c=a.listType,u=t.selection,p=u.$from.node(u.$from.depth-2),h=u.$to.node(u.$to.depth-2);if(p&&p.type.name===c&&h&&h.type.name===c){var f=i.state.schema.nodes,d={bulletList:f[a.bulletList],orderedList:f[a.orderedList],listItem:f[a.listItem]},v=e.rootListDepth(u.$to,d),y=s(t,u.$to.pos,u.$to.end(v),v,i.state.tr,d.listItem);return y=r(t,y,a),y.setMeta("commandName",l),n(y),!0}return o(a)(t,n,i)},e.toggleListCommand=o,e.liftFollowingList=s,e.isRangeOfType=a,e.getAncestorNodesBetween=l,e.findAncestorPosition=c,e.liftListItems=u,e.wrapInList=p,e.toggleUnorderedList=h,e.toggleOrderedList=f,e.splitListItemKeepMarks=function(t){return function(e,n){return b.splitListItem(t)(e,function(t){var r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();r&&t.ensureMarks(r),n(t)})}}},function(t,e,n){"use strict";function r(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function o(t,e,n){var r=t.selection,o=r.$cursor;if(!o||(n?!n.endOfTextblock("backward",t):o.parentOffset>0))return!1;var s=a(o);if(!s){var l=o.blockRange(),c=l&&j.liftTarget(l);return null!=c&&(e&&e(t.tr.lift(l,c).scrollIntoView()),!0)}var u=s.nodeBefore;if(!u.type.spec.isolating&&S(t,s,e))return!0;if(0==o.parent.content.size&&(i(u,"end")||R.NodeSelection.isSelectable(u))){if(e){var p=t.tr.deleteRange(o.before(),o.after());p.setSelection(i(u,"end")?R.Selection.findFrom(p.doc.resolve(p.mapping.map(s.pos,-1)),-1):R.NodeSelection.create(p.doc,s.pos-u.nodeSize)),e(p.scrollIntoView())}return!0}return!(!u.isAtom||s.depth!=o.depth-1)&&(e&&e(t.tr.delete(s.pos-u.nodeSize,s.pos).scrollIntoView()),!0)}function i(t,e){for(;t;t="start"==e?t.firstChild:t.lastChild)if(t.isTextblock)return!0;return!1}function s(t,e,n){var r=t.selection,o=r.$head,i=r.empty,s=o;if(!i)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;s=a(o)}var l=s&&s.nodeBefore;return!(!l||!R.NodeSelection.isSelectable(l))&&(e&&e(t.tr.setSelection(R.NodeSelection.create(t.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)}function a(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function l(t,e,n){var r=t.selection,o=r.$cursor;if(!o||(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size))return!1;var s=u(o);if(!s)return!1;var a=s.nodeAfter;if(S(t,s,e))return!0;if(0==o.parent.content.size&&(i(a,"start")||R.NodeSelection.isSelectable(a))){if(e){var l=t.tr.deleteRange(o.before(),o.after());l.setSelection(i(a,"start")?R.Selection.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):R.NodeSelection.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}return!(!a.isAtom||s.depth!=o.depth-1)&&(e&&e(t.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0)}function c(t,e,n){var r=t.selection,o=r.$head,i=r.empty,s=o;if(!i)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;s=u(o)}var a=s&&s.nodeAfter;return!(!a||!R.NodeSelection.isSelectable(a))&&(e&&e(t.tr.setSelection(R.NodeSelection.create(t.doc,s.pos)).scrollIntoView()),!0)}function u(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function p(t,e){var n,r=t.selection,o=r instanceof R.NodeSelection;if(o){if(r.node.isTextblock||!j.canJoin(t.doc,r.from))return!1;n=r.from}else if(n=j.joinPoint(t.doc,r.from,-1),null==n)return!1;if(e){var i=t.tr.join(n);o&&i.setSelection(R.NodeSelection.create(i.doc,n-t.doc.resolve(n).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0}function h(t,e){var n,r=t.selection;if(r instanceof R.NodeSelection){if(r.node.isTextblock||!j.canJoin(t.doc,r.to))return!1;n=r.to}else if(n=j.joinPoint(t.doc,r.to,1),null==n)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0}function f(t,e){var n=t.selection,r=n.$from,o=n.$to,i=r.blockRange(o),s=i&&j.liftTarget(i);return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}function d(t,e){var n=t.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}function v(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e),r=n.type;if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function y(t,e){var n=t.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),s=r.indexAfter(-1),a=v(i.contentMatchAt(s));if(!i.canReplaceWith(s,s,a))return!1;if(e){var l=r.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection(R.Selection.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0}function g(t,e){var n=t.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var i=v(r.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(R.TextSelection.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}function m(t,e){var n=t.selection,r=n.$cursor;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){var o=r.before();if(j.canSplit(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}var i=r.blockRange(),s=i&&j.liftTarget(i);return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}function b(t,e){var n=t.selection,r=n.$from,o=n.$to;if(t.selection instanceof R.NodeSelection&&t.selection.node.isBlock)return!(!r.parentOffset||!j.canSplit(t.doc,r.pos))&&(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(e){var i=o.parentOffset==o.parent.content.size,s=t.tr;t.selection instanceof R.TextSelection&&s.deleteSelection();var a=0==r.depth?null:v(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=i&&a?[{type:a}]:null,c=j.canSplit(s.doc,s.mapping.map(r.pos),1,l);l||c||!j.canSplit(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])||(l=[{type:a}],c=!0),c&&(s.split(s.mapping.map(r.pos),1,l),i||r.parentOffset||r.parent.type==a||!r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),D.Fragment.from(a.create(),r.parent))||s.setNodeMarkup(s.mapping.map(r.before()),a)),e(s.scrollIntoView())}return!0}function w(t,e){return b(t,e&&function(n){var r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();r&&n.ensureMarks(r),e(n)})}function _(t,e){var n,r=t.selection,o=r.$from,i=r.to,s=o.sharedDepth(i);return 0!=s&&(n=o.before(s),e&&e(t.tr.setSelection(R.NodeSelection.create(t.doc,n))),!0)}function x(t,e){return e&&e(t.tr.setSelection(new R.AllSelection(t.doc))),!0}function k(t,e,n){var r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(i,i+1)||!o.isTextblock&&!j.canJoin(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0))}function S(t,e,n){var r,o,i=e.nodeBefore,s=e.nodeAfter;if(i.type.spec.isolating||s.type.spec.isolating)return!1;if(k(t,e,n))return!0;if(e.parent.canReplace(e.index(),e.index()+1)&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(r[0]||s.type).validEnd){if(n){for(var a=e.pos+s.nodeSize,l=D.Fragment.empty,c=r.length-1;c>=0;c--)l=D.Fragment.from(r[c].create(null,l));l=D.Fragment.from(i.copy(l));var u=t.tr.step(new j.ReplaceAroundStep(e.pos-1,a,e.pos,a,new D.Slice(l,1,0),r.length,!0)),p=a+2*r.length;j.canJoin(u.doc,p)&&u.join(p),n(u.scrollIntoView())}return!0}var h=R.Selection.findFrom(e,1),f=h&&h.$from.blockRange(h.$to),d=f&&j.liftTarget(f);return null!=d&&d>=e.depth&&(n&&n(t.tr.lift(f,d).scrollIntoView()),!0)}function O(t,e){return function(n,r){var o=n.selection,i=o.$from,s=o.$to,a=i.blockRange(s),l=a&&j.findWrapping(a,t,e);return!!l&&(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0)}}function C(t,e){return function(n,r){var o=n.selection,i=o.from,s=o.to,a=!1;return n.doc.nodesBetween(i,s,function(r,o){if(a)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)a=!0;else{var i=n.doc.resolve(o),s=i.index();a=i.parent.canReplaceWith(s,s+1,t)}}),!!a&&(r&&r(n.tr.setBlockType(i,s,t,e).scrollIntoView()),!0)}}function M(t,e,n){for(var r=function(r){var o=e[r],i=o.$from,s=o.$to,a=0==i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,s.pos,function(t){return!a&&void(a=t.inlineContent&&t.type.allowsMarkType(n))}),a)return{v:!0}},o=0;o<e.length;o++){var i=r(o);if(i)return i.v}return!1}function T(t,e){return function(n,r){var o=n.selection,i=o.empty,s=o.$cursor,a=o.ranges;if(i&&!s||!M(n.doc,a,t))return!1;if(r)if(s)r(t.isInSet(n.storedMarks||s.marks())?n.tr.removeStoredMark(t):n.tr.addStoredMark(t.create(e)));else{for(var l=!1,c=n.tr,u=0;!l&&u<a.length;u++){var p=a[u],h=p.$from,f=p.$to;l=n.doc.rangeHasMark(h.pos,f.pos,t)}for(var d=0;d<a.length;d++){var v=a[d],y=v.$from,g=v.$to;l?c.removeMark(y.pos,g.pos,t):c.addMark(y.pos,g.pos,t.create(e))}r(c.scrollIntoView())}return!0}}function E(t,e){return function(n){if(!n.isGeneric)return t(n);for(var r=[],o=0;o<n.mapping.maps.length;o++){for(var i=n.mapping.maps[o],s=0;s<r.length;s++)r[s]=i.map(r[s]);i.forEach(function(t,e,n,o){return r.push(n,o)})}for(var a=[],l=0;l<r.length;l+=2)for(var c=r[l],u=r[l+1],p=n.doc.resolve(c),h=p.sharedDepth(u),f=p.node(h),d=p.indexAfter(h),v=p.after(h+1);v<=u;++d){var y=f.maybeChild(d);if(!y)break;if(d&&a.indexOf(v)==-1){var g=f.child(d-1);g.type==y.type&&e(g,y)&&a.push(v)}v+=y.nodeSize}a.sort(function(t,e){return t-e});for(var m=a.length-1;m>=0;m--)j.canJoin(n.doc,a[m])&&n.join(a[m]);t(n)}}function P(t,e){if(Array.isArray(e)){var n=e;e=function(t){return n.indexOf(t.type.name)>-1}}return function(n,r){return t(n,r&&E(r,e))}}function A(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,r){for(var o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}Object.defineProperty(e,"__esModule",{value:!0});var j=n(219),D=n(216),R=n(218),I=A(r,o,s),z=A(r,l,c),F={Enter:A(d,g,m,b),"Mod-Enter":y,Backspace:I,"Mod-Backspace":I,Delete:z,"Mod-Delete":z,"Mod-a":x},L={"Ctrl-h":F.Backspace,"Alt-Backspace":F["Mod-Backspace"],"Ctrl-d":F.Delete,"Ctrl-Alt-Backspace":F["Mod-Delete"],"Alt-Delete":F["Mod-Delete"],"Alt-d":F["Mod-Delete"]};for(var N in F)L[N]=F[N];var B="undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform(),V=B?L:F;e.autoJoin=P,e.baseKeymap=V,e.chainCommands=A,e.createParagraphNear=g,e.deleteSelection=r,e.exitCode=y,e.joinBackward=o,e.joinDown=h,e.joinForward=l,e.joinUp=p,e.lift=f,e.liftEmptyBlock=m,e.macBaseKeymap=L,e.newlineInCode=d,e.pcBaseKeymap=F,e.selectAll=x,e.selectNodeBackward=s,e.selectNodeForward=c,e.selectParentNode=_,e.setBlockType=C,e.splitBlock=b,e.splitBlockKeepMarks=w,e.toggleMark=T,e.wrapIn=O},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){return{name:t,value:e}};e.alignLeftRules=[{node:"paragraph",style:[n("text-align","left")]},{node:"heading",style:[n("text-align","left")]},{node:"listItem",style:[n("text-align","left"),n("list-style-position","inside")]}],e.alignRightRules=[{node:"paragraph",style:[n("text-align","right")]},{node:"heading",style:[n("text-align","right")]},{node:"listItem",style:[n("text-align","right"),n("list-style-position","inside")]}],e.alignCenterRules=[{node:"paragraph",style:[n("text-align","center")]},{node:"heading",style:[n("text-align","center")]},{node:"listItem",style:[n("text-align","center"),n("list-style-position","inside")]}],e.alignJustifyRules=[{node:"paragraph",style:[n("text-align","justify")]},{node:"heading",style:[n("text-align","justify")]},{node:"listItem",style:[n("text-align","justify"),n("list-style-position","justify")]}],e.alignRemoveRules=[{node:"paragraph",style:[n("text-align","")]},{node:"heading",style:[n("text-align","")]},{node:"listItem",style:[n("text-align",""),n("list-style-position","")]}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(87),o=n(236),i=0,s=["blockquote",i],a=["hr"],l=["pre",["code",i]],c=["ol",0],u=["ul",0],p=["li",0],h=function(t){for(var e,n={},r=t.attributes,o=0;o<r.length;o++)e=r[o],n[e.name]=e.value;return n},f=function(){return{style:{default:null},class:{default:null},id:{default:null}}},d=function(t,e){for(var n in t)if(n&&null!==t[n]&&n!==e)return!0;return!1},v=function(t,e){var n={};for(var r in t)r&&null!==t[r]&&r!==e&&(n[r]=t[r]);return n},y=function(t){var e;return e={},e[t]={name:t,inclusive:!0,parseDOM:[{tag:t}],toDOM:function(){return[t,i]}},e},g=r.__assign({link:{attrs:r.__assign({},f(),{href:{default:null},target:{default:null},title:{default:null}}),inclusive:!1,parseDOM:[{tag:"a",getAttrs:h}],toDOM:function(t){return["a",v(t.attrs),i]}}},y("strong"),y("b"),y("em"),y("i"),y("u"),y("del"),y("sub"),y("sup"),y("code"),{style:{attrs:r.__assign({},f()),parseDOM:[{tag:"span",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["span",v(t.attrs),i]:["span",i]}}});e.marks=g;var m=r.__assign({doc:{content:"block+"},paragraph:{content:"inline*",group:"block",attrs:r.__assign({},f()),parseDOM:[{tag:"p",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["p",v(t.attrs),i]:["p",i]}},div:{content:"block*",group:"block",attrs:r.__assign({},f()),parseDOM:[{tag:"div",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["div",v(t.attrs),i]:["div",i]}},blockquote:{attrs:r.__assign({},f()),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return s}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return a}},heading:{attrs:r.__assign({},f(),{level:{default:1}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:function(t){return r.__assign({},h(t),{level:1})}},{tag:"h2",getAttrs:function(t){return r.__assign({},h(t),{level:2})}},{tag:"h3",getAttrs:function(t){return r.__assign({},h(t),{level:3})}},{tag:"h4",getAttrs:function(t){return r.__assign({},h(t),{level:4})}},{tag:"h5",getAttrs:function(t){return r.__assign({},h(t),{level:5})}},{tag:"h6",getAttrs:function(t){return r.__assign({},h(t),{level:6})}}],toDOM:function(t){return d(t.attrs,"level")?["h"+t.attrs.level,v(t.attrs,"level"),i]:["h"+t.attrs.level,i]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return l}},text:{inline:!0,group:"inline"},image:{inline:!0,attrs:r.__assign({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},f()),group:"inline",draggable:!0,parseDOM:[{tag:"img",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["img",v(t.attrs)]:["img"]}},hard_break:{inline:!0,attrs:r.__assign({},f()),group:"inline",selectable:!1,parseDOM:[{tag:"br",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["br",v(t.attrs)]:["br"]}},ordered_list:{content:"list_item+",group:"block",attrs:r.__assign({},f(),{type:{default:null},order:{default:1}}),parseDOM:[{tag:"ol",getAttrs:function(t){return r.__assign({},h(t),{order:t.hasAttribute("start")?parseInt(t.getAttribute("start")||"1",10):1})}}],toDOM:function(t){return 1===t.attrs.order?d(t.attrs,"order")?["ol",v(t.attrs,"order"),i]:c:["ol",r.__assign({},v(t.attrs,"order"),{start:t.attrs.order}),i]}},bullet_list:{content:"list_item+",group:"block",attrs:r.__assign({},f()),parseDOM:[{tag:"ul",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["ul",v(t.attrs),i]:u}},list_item:{content:"block*",attrs:r.__assign({},f()),parseDOM:[{tag:"li",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["li",v(t.attrs),i]:p},defining:!0}},o.tableNodes({tableGroup:"block",cellContent:"block+",cellAttributes:{}}));e.nodes=m},function(t,e,n){"use strict";function r(t){if("table"!=t.type.spec.tableRole)throw new RangeError("Not a table node: "+t.type.name);for(var e=o(t),n=t.childCount,r=[],s=0,a=null,l=[],c=0,u=e*n;c<u;c++)r[c]=0;for(var p=0,h=0;p<n;p++){var f=t.child(p);h++;for(var d=0;;d++){for(;s<r.length&&0!=r[s];)s++;if(d==f.childCount)break;for(var v=f.child(d),y=v.attrs,g=y.colspan,m=y.rowspan,b=y.colwidth,w=0;w<m;w++){if(w+p>=n){(a||(a=[])).push({type:"overlong_rowspan",pos:h,n:m-w});break}for(var _=s+w*e,x=0;x<g;x++){0==r[_+x]?r[_+x]=h:(a||(a=[])).push({type:"collision",row:p,pos:h,n:g-x});var k=b&&b[x];if(k){var S=(_+x)%e*2,O=l[S];null==O||O!=k&&1==l[S+1]?(l[S]=k,l[S+1]=1):O==k&&l[S+1]++}}}s+=g,h+=v.nodeSize}for(var C=(p+1)*e,M=0;s<C;)0==r[s++]&&M++;M&&(a||(a=[])).push({type:"missing",row:p,n:M}),h++}for(var T=new $t(e,n,r,a),E=!1,P=0;!E&&P<l.length;P+=2)null!=l[P]&&l[P+1]<n&&(E=!0);return E&&i(T,l,t),T}function o(t){for(var e=-1,n=!1,r=0;r<t.childCount;r++){var o=t.child(r),i=0;if(n)for(var s=0;s<r;s++)for(var a=t.child(s),l=0;l<a.childCount;l++){var c=a.child(l);s+c.attrs.rowspan>r&&(i+=c.attrs.colspan)}for(var u=0;u<o.childCount;u++){var p=o.child(u);i+=p.attrs.colspan,p.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function i(t,e,n){t.problems||(t.problems=[]);for(var r=0,o={};r<t.map.length;r++){var i=t.map[r];if(!o[i]){o[i]=!0;for(var a=n.nodeAt(i),l=null,c=0;c<a.attrs.colspan;c++){var u=(r+c)%t.width,p=e[2*u];null==p||a.attrs.colwidth&&a.attrs.colwidth[c]==p||((l||(l=s(a.attrs)))[c]=p)}l&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}}function s(t){if(t.colwidth)return t.colwidth.slice();for(var e=[],n=0;n<t.colspan;n++)e.push(0);return e}function a(t,e){var n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(function(t){return Number(t)}):null,o=Number(t.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(var s in e){var a=e[s].getFromDOM,l=a&&a(t);null!=l&&(i[s]=l)}return i}function l(t,e){var n={};1!=t.attrs.colspan&&(n.colspan=t.attrs.colspan),1!=t.attrs.rowspan&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(","));for(var r in e){var o=e[r].setDOMAttr;o&&o(t.attrs[r],n)}return n}function c(t){var e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in e)n[r]={default:e[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(t){return a(t,e)}}],toDOM:function(t){return["td",l(t,e),0]}},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(t){return a(t,e)}}],toDOM:function(t){return["th",l(t,e),0]}}}}function u(t){var e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(var n in t.nodes){var r=t.nodes[n],o=r.spec.tableRole;o&&(e[o]=r)}}return e}function p(t){for(var e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1));return null}function h(t){for(var e=t.depth;e>0;e--){var n=t.node(e).type.spec.tableRole;if("cell"===n||"header_cell"===n)return t.node(e)}return null}function f(t){for(var e=t.selection.$head,n=e.depth;n>0;n--)if("row"==e.node(n).type.spec.tableRole)return!0;return!1}function d(t){var e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&"cell"==e.node.type.spec.tableRole?e.$anchor:p(e.$head)||v(e.$head)}function v(t){for(var e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){var r=e.type.spec.tableRole;if("cell"==r||"header_cell"==r)return t.doc.resolve(n)}for(var o=t.nodeBefore,i=t.pos;o;o=o.lastChild,i--){var s=o.type.spec.tableRole;if("cell"==s||"header_cell"==s)return t.doc.resolve(i-o.nodeSize)}}function y(t){return"row"==t.parent.type.spec.tableRole&&t.nodeAfter}function g(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function m(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function b(t){return $t.get(t.node(-1)).findCell(t.pos-t.start(-1))}function w(t){return $t.get(t.node(-1)).colCount(t.pos-t.start(-1))}function _(t,e,n){var r=t.start(-1),o=$t.get(t.node(-1)),i=o.nextCell(t.pos-r,e,n);return null==i?null:t.node(0).resolve(r+i)}function x(t,e,n){var r={};for(var o in t)r[o]=t[o];return r[e]=n,r}function k(t,e,n){void 0===n&&(n=1);var r=x(t,"colspan",t.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(function(t){return t>0})||(r.colwidth=null)),r}function S(t,e,n){void 0===n&&(n=1);var r=x(t,"colspan",t.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(e,0,0)}return r}function O(t,e,n){for(var r=u(e.type.schema).header_cell,o=0;o<t.height;o++)if(e.nodeAt(t.map[n+o*t.width]).type!=r)return!1;return!0}function C(t){if(!(t.selection instanceof Xt))return null;var e=[];return t.selection.forEachCell(function(t,n){e.push(Vt.Decoration.node(n,n+t.nodeSize,{class:"selectedCell"}))}),Vt.DecorationSet.create(t.doc,e)}function M(t){var e=t.$from,n=t.$to;if(e.pos==n.pos||e.pos<e.pos-6)return!1;for(var r=e.pos,o=n.pos,i=e.depth;i>=0&&!(e.after(i+1)<e.end(i));i--,r++);for(var s=n.depth;s>=0&&!(n.before(s+1)>n.start(s));s--,o--);return r==o&&/row|table/.test(e.node(i).type.spec.tableRole)}function T(t){for(var e,n,r=t.$from,o=t.$to,i=r.depth;i>0;i--){var s=r.node(i);if("cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){e=s;break}}for(var a=o.depth;a>0;a--){var l=o.node(a);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){n=l;break}}return e!==n&&0===o.parentOffset}function E(t,e,n){var r,o,i=(e||t).selection,s=(e||t).doc;if(i instanceof Lt.NodeSelection&&(o=i.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=Xt.create(s,i.from);else if("row"==o){var a=s.resolve(i.from+1);r=Xt.rowSelection(a,a)}else if(!n){var l=$t.get(i.node),c=i.from+1,u=c+l.map[l.width*l.height-1];r=Xt.create(s,c+1,u)}}else i instanceof Lt.TextSelection&&M(i)?r=Lt.TextSelection.create(s,i.from):i instanceof Lt.TextSelection&&T(i)&&(r=Lt.TextSelection.create(s,i.$from.start(),i.$from.end()));return r&&(e||(e=t.tr)).setSelection(r),e}function P(t){if(!t.size)return null;for(var e=t.content,n=t.openStart,r=t.openEnd;1==e.childCount&&(n>0&&r>0||"table"==e.firstChild.type.spec.tableRole);)n--,r--,e=e.firstChild.content;var o=e.firstChild,i=o.type.spec.tableRole,s=o.type.schema,a=[];if("row"==i)for(var l=0;l<e.childCount;l++){var c=e.child(l).content,p=l?0:Math.max(0,n-1),h=l<e.childCount-1?0:Math.max(0,r-1);(p||h)&&(c=j(u(s).row,new Nt.Slice(c,p,h)).content),a.push(c)}else{if("cell"!=i&&"header_cell"!=i)return null;a.push(n||r?j(u(s).row,new Nt.Slice(e,n,r)).content:e)}return A(s,a)}function A(t,e){for(var n=[],r=0;r<e.length;r++)for(var o=e[r],i=o.childCount-1;i>=0;i--)for(var s=o.child(i).attrs,a=s.rowspan,l=s.colspan,c=r;c<r+a;c++)n[c]=(n[c]||0)+l;for(var p=0,h=0;h<n.length;h++)p=Math.max(p,n[h]);for(var f=0;f<n.length;f++)if(f>=e.length&&e.push(Nt.Fragment.empty),n[f]<p){for(var d=u(t).cell.createAndFill(),v=[],y=n[f];y<p;y++)v.push(d);e[f]=e[f].append(Nt.Fragment.from(v))}return{height:e.length,
width:p,rows:e}}function j(t,e){var n=t.createAndFill(),r=new Ht.Transform(n).replace(0,n.content.size,e);return r.doc}function D(t,e,n){var r=t.width,o=t.height,i=t.rows;if(r!=e){for(var s=[],a=[],l=0;l<i.length;l++){for(var c=i[l],u=[],p=s[l]||0,h=0;p<e;h++){var f=c.child(h%c.childCount);p+f.attrs.colspan>e&&(f=f.type.create(k(f.attrs,f.attrs.colspan,p+f.attrs.colspan-e),f.content)),u.push(f),p+=f.attrs.colspan;for(var d=1;d<f.attrs.rowspan;d++)s[l+d]=(s[l+d]||0)+f.attrs.colspan}a.push(Nt.Fragment.from(u))}i=a,r=e}if(o!=n){for(var v=[],y=0,g=0;y<n;y++,g++){for(var m=[],b=i[g%o],w=0;w<b.childCount;w++){var _=b.child(w);y+_.attrs.rowspan>n&&(_=_.type.create(x(_.attrs,"rowspan",n-_.attrs.rowspan),_.content)),m.push(_)}v.push(Nt.Fragment.from(m))}i=v,o=n}return{width:r,height:o,rows:i}}function R(t,e,n,r,o,i,s){var a,l,c=t.doc.type.schema,p=u(c);if(o>e.width)for(var h=0,f=0;h<e.height;h++){var d=n.child(h);f+=d.nodeSize;var v=[],y=void 0;y=null==d.lastChild||d.lastChild.type==p.cell?a||(a=p.cell.createAndFill()):l||(l=p.header_cell.createAndFill());for(var g=e.width;g<o;g++)v.push(y);t.insert(t.mapping.slice(s).map(f-1+r),v)}if(i>e.height){for(var m=[],b=0,w=(e.height-1)*e.width;b<Math.max(e.width,o);b++){var _=!(b>=e.width)&&n.nodeAt(e.map[w+b]).type==p.header_cell;m.push(_?l||(l=p.header_cell.createAndFill()):a||(a=p.cell.createAndFill()))}for(var x=p.row.create(null,Nt.Fragment.from(m)),k=[],S=e.height;S<i;S++)k.push(x);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),k)}return!(!a&&!l)}function I(t,e,n,r,o,i,s,a){if(0==s||s==e.height)return!1;for(var l=!1,c=o;c<i;c++){var u=s*e.width+c,p=e.map[u];if(e.map[u-e.width]==p){l=!0;var h=n.nodeAt(p),f=e.findCell(p),d=f.top,v=f.left;t.setNodeMarkup(t.mapping.slice(a).map(p+r),null,x(h.attrs,"rowspan",s-d)),t.insert(t.mapping.slice(a).map(e.positionAt(s,v,n)),h.type.createAndFill(x(h.attrs,"rowspan",d+h.attrs.rowspan-s))),c+=h.attrs.colspan-1}}return l}function z(t,e,n,r,o,i,s,a){if(0==s||s==e.width)return!1;for(var l=!1,c=o;c<i;c++){var u=c*e.width+s,p=e.map[u];if(e.map[u-1]==p){l=!0;var h=n.nodeAt(p),f=e.colCount(p),d=t.mapping.slice(a).map(p+r);t.setNodeMarkup(d,null,k(h.attrs,s-f,h.attrs.colspan-(s-f))),t.insert(d+h.nodeSize,h.type.createAndFill(k(h.attrs,0,s-f))),c+=h.attrs.rowspan-1}}return l}function F(t,e,n,r,o){function i(){s=n?h.doc.nodeAt(n-1):h.doc,a=$t.get(s),f=h.mapping.maps.length}var s=n?t.doc.nodeAt(n-1):t.doc,a=$t.get(s),l=r.top,c=r.left,u=c+o.width,p=l+o.height,h=t.tr,f=0;R(h,a,s,n,u,p,f)&&i(),I(h,a,s,n,c,u,l,f)&&i(),I(h,a,s,n,c,u,p,f)&&i(),z(h,a,s,n,l,p,c,f)&&i(),z(h,a,s,n,l,p,u,f)&&i();for(var d=l;d<p;d++){var v=a.positionAt(d,c,s),y=a.positionAt(d,u,s);h.replace(h.mapping.slice(f).map(v+n),h.mapping.slice(f).map(y+n),new Nt.Slice(o.rows[d-l],0,0))}i(),h.setSelection(new Xt(h.doc.resolve(n+a.positionAt(l,c,s)),h.doc.resolve(n+a.positionAt(p-1,u-1,s)))),e(h)}function L(t,e,n){return!n.eq(t.selection)&&(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function N(t,e){return function(n,r,o){var i=n.selection;if(i instanceof Xt)return L(n,r,Lt.Selection.near(i.$headCell,e));if("horiz"!=t&&!i.empty)return!1;var s=q(o,t,e);if(null==s)return!1;if("horiz"==t)return L(n,r,Lt.Selection.near(n.doc.resolve(i.head+e),e));var a,l=n.doc.resolve(s),c=_(l,t,e);return a=c?Lt.Selection.near(c,1):e<0?Lt.Selection.near(n.doc.resolve(l.before(-1)),-1):Lt.Selection.near(n.doc.resolve(l.after(-1)),1),L(n,r,a)}}function B(t,e){return function(n,r,o){var i=n.selection;if(!(i instanceof Xt)){var s=q(o,t,e);if(null==s)return!1;i=new Xt(n.doc.resolve(s))}var a=_(i.$headCell,t,e);return!!a&&L(n,r,new Xt(i.$anchorCell,a))}}function V(t,e){var n=t.selection;if(!(n instanceof Xt))return!1;if(e){var r=t.tr,o=u(t.schema).cell.createAndFill().content;n.forEachCell(function(t,e){t.content.eq(o)||r.replace(r.mapping.map(e+1),r.mapping.map(e+t.nodeSize-1),new Nt.Slice(o,0,0))}),r.docChanged&&e(r)}return!0}function H(t,e){var n=t.state.doc,r=p(n.resolve(e));return!!r&&(t.dispatch(t.state.tr.setSelection(new Xt(r))),!0)}function U(t,e,n){if(!f(t.state))return!1;var r=P(n),o=t.state.selection;if(o instanceof Xt){r||(r={width:1,height:1,rows:[Nt.Fragment.from(j(u(t.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),a=$t.get(i).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return r=D(r,a.right-a.left,a.bottom-a.top),F(t.state,t.dispatch,s,a,r),!0}if(r){var l=d(t.state),c=l.start(-1);return F(t.state,t.dispatch,c,$t.get(l.node(-1)).findCell(l.pos-c),r),!0}return!1}function K(t,e){function n(e,n){var r=G(t,n),o=null==Yt.getState(t.state);if(!r||!m(e,r)){if(!o)return;r=e}var i=new Xt(e,r);if(o||!t.state.selection.eq(i)){var s=t.state.tr.setSelection(i);o&&s.setMeta(Yt,e.pos),t.dispatch(s)}}function r(){t.root.removeEventListener("mouseup",r),t.root.removeEventListener("dragstart",r),t.root.removeEventListener("mousemove",o),null!=Yt.getState(t.state)&&t.dispatch(t.state.tr.setMeta(Yt,-1))}function o(o){var i,a=Yt.getState(t.state);if(null!=a)i=t.state.doc.resolve(a);else if(W(t,o.target)!=s&&(i=G(t,e),!i))return r();i&&n(i,o)}if(!e.ctrlKey&&!e.metaKey){var i,s=W(t,e.target);if(e.shiftKey&&t.state.selection instanceof Xt)n(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&s&&null!=(i=p(t.state.selection.$anchor))&&G(t,e).pos!=i.pos)n(i,e),e.preventDefault();else if(!s)return;t.root.addEventListener("mouseup",r),t.root.addEventListener("dragstart",r),t.root.addEventListener("mousemove",o)}}function q(t,e,n){if(!(t.state.selection instanceof Lt.TextSelection))return null;for(var r=t.state.selection,o=r.$head,i=o.depth-1;i>=0;i--){var s=o.node(i),a=n<0?o.index(i):o.indexAfter(i);if(a!=(n<0?0:s.childCount))return null;if("cell"==s.type.spec.tableRole||"header_cell"==s.type.spec.tableRole){var l=o.before(i),c="vert"==e?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(c)?l:null}}return null}function W(t,e){for(;e&&e!=t.dom;e=e.parentNode)if("TD"==e.nodeName||"TH"==e.nodeName)return e}function G(t,e){var n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?p(t.state.doc.resolve(n.pos)):null}function $(t,e,n,r){var o=t.childCount,i=e.childCount;t:for(var s=0,a=0;s<i;s++){for(var l=e.child(s),c=a,u=Math.min(o,s+3);c<u;c++)if(t.child(c)==l){a=c+1,n+=l.nodeSize;continue t}r(l,n),a<o&&t.child(a).sameMarkup(l)?$(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function Y(t,e){var n,r=function(e,r){"table"==e.type.spec.tableRole&&(n=X(t,e,r,n))};return e?e.doc!=t.doc&&$(e.doc,t.doc,0,r):t.doc.descendants(r),n}function X(t,e,n,r){var o=$t.get(e);if(!o.problems)return r;r||(r=t.tr);for(var i=[],s=0;s<o.height;s++)i.push(0);for(var a=0;a<o.problems.length;a++){var l=o.problems[a];if("collision"==l.type){for(var c=e.nodeAt(l.pos),p=0;p<c.attrs.rowspan;p++)i[l.row+p]+=l.n;r.setNodeMarkup(r.mapping.map(n+1+l.pos),null,k(c.attrs,c.attrs.colspan-l.n,l.n))}else if("missing"==l.type)i[l.row]+=l.n;else if("overlong_rowspan"==l.type){var h=e.nodeAt(l.pos);r.setNodeMarkup(r.mapping.map(n+1+l.pos),null,x(h.attrs,"rowspan",h.attrs.rowspan-l.n))}else if("colwidth mismatch"==l.type){var f=e.nodeAt(l.pos);r.setNodeMarkup(r.mapping.map(n+1+l.pos),null,x(f.attrs,"colwidth",l.colwidth))}}for(var d,v,y=0;y<i.length;y++)i[y]&&(null==d&&(d=y),v=y);for(var g=0,m=n+1;g<o.height;g++){var b=e.child(g),w=m+b.nodeSize,_=i[g];if(_>0){var S="cell";b.firstChild&&(S=b.firstChild.type.spec.tableRole);for(var O=[],C=0;C<_;C++)O.push(u(t.schema)[S].createAndFill());var M=0!=g&&d!=g-1||v!=g?w-1:m+1;r.insert(r.mapping.map(M),O)}m=w}return r.setMeta(Qt,{fixTables:!0})}function J(t){var e,n=t.selection,r=d(t),o=r.node(-1),i=r.start(-1),s=$t.get(o);return e=n instanceof Xt?s.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):s.findCell(r.pos-i),e.tableStart=i,e.map=s,e.table=o,e}function Z(t,e,n){var r=e.map,o=e.tableStart,i=e.table,s=n>0?-1:0;O(r,i,n+s)&&(s=0==n||n==r.width?null:0);for(var a=0;a<r.height;a++){var l=a*r.width+n;if(n>0&&n<r.width&&r.map[l-1]==r.map[l]){var c=r.map[l],p=i.nodeAt(c);t.setNodeMarkup(t.mapping.map(o+c),null,S(p.attrs,n-r.colCount(c))),a+=p.attrs.rowspan-1}else{var h=null==s?u(i.type.schema).cell:i.nodeAt(r.map[l+s]).type,f=r.positionAt(a,n,i);t.insert(t.mapping.map(o+f),h.createAndFill())}}return t}function Q(t,e){if(!f(t))return!1;if(e){var n=J(t);e(Z(t.tr,n,n.left))}return!0}function tt(t,e){if(!f(t))return!1;if(e){var n=J(t);e(Z(t.tr,n,n.right))}return!0}function et(t,e,n){for(var r=e.map,o=e.table,i=e.tableStart,s=t.mapping.maps.length,a=0;a<r.height;){var l=a*r.width+n,c=r.map[l],u=o.nodeAt(c);if(n>0&&r.map[l-1]==c||n<r.width-1&&r.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(s).map(i+c),null,k(u.attrs,n-r.colCount(c)));else{var p=t.mapping.slice(s).map(i+c);t.delete(p,p+u.nodeSize)}a+=u.attrs.rowspan}}function nt(t,e){if(!f(t))return!1;if(e){var n=J(t),r=t.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;et(r,n,o),o!=n.left;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=$t.get(n.table);e(r)}return!0}function rt(t,e,n){for(var r=u(e.type.schema).header_cell,o=0;o<t.width;o++)if(e.nodeAt(t.map[o+n*t.width]).type!=r)return!1;return!0}function ot(t,e,n){for(var r=e.map,o=e.tableStart,i=e.table,s=o,a=0;a<n;a++)s+=i.child(a).nodeSize;var l=[],c=n>0?-1:0;rt(r,i,n+c)&&(c=0==n||n==r.height?null:0);for(var p=0,h=r.width*n;p<r.width;p++,h++)if(n>0&&n<r.height&&r.map[h]==r.map[h-r.width]){var f=r.map[h],d=i.nodeAt(f).attrs;t.setNodeMarkup(o+f,null,x(d,"rowspan",d.rowspan+1)),p+=d.colspan-1}else{var v=null==c?u(i.type.schema).cell:i.nodeAt(r.map[h+c*r.width]).type;l.push(v.createAndFill())}return t.insert(s,u(i.type.schema).row.create(null,l)),t}function it(t,e){if(!f(t))return!1;if(e){var n=J(t);e(ot(t.tr,n,n.top))}return!0}function st(t,e){if(!f(t))return!1;if(e){var n=J(t);e(ot(t.tr,n,n.bottom))}return!0}function at(t,e,n){for(var r=e.map,o=e.table,i=e.tableStart,s=0,a=0;a<n;a++)s+=o.child(a).nodeSize;var l=s+o.child(n).nodeSize,c=t.mapping.maps.length;t.delete(s+i,l+i);for(var u=0,p=n*r.width;u<r.width;u++,p++){var h=r.map[p];if(n>0&&h==r.map[p-r.width]){var f=o.nodeAt(h).attrs;t.setNodeMarkup(t.mapping.slice(c).map(h+i),null,x(f,"rowspan",f.rowspan-1)),u+=f.colspan-1}else if(n<r.width&&h==r.map[p+r.width]){var d=o.nodeAt(h),v=d.type.create(x(d.attrs,"rowspan",d.attrs.rowspan-1),d.content),y=r.positionAt(n+1,u,o);t.insert(t.mapping.slice(c).map(i+y),v),u+=d.attrs.colspan-1}}}function lt(t,e){if(!f(t))return!1;if(e){var n=J(t),r=t.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;at(r,n,o),o!=n.top;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=$t.get(n.table);e(r)}return!0}function ct(t){var e=t.content;return 1==e.childCount&&e.firstChild.isTextblock&&0==e.firstChild.childCount}function ut(t,e){for(var n=t.width,r=t.height,o=t.map,i=e.top*n+e.left,s=i,a=(e.bottom-1)*n+e.left,l=i+(e.right-e.left-1),c=e.top;c<e.bottom;c++){if(e.left>0&&o[s]==o[s-1]||e.right<n&&o[l]==o[l+1])return!0;s+=n,l+=n}for(var u=e.left;u<e.right;u++){if(e.top>0&&o[i]==o[i-n]||e.bottom<r&&o[a]==o[a+n])return!0;i++,a++}return!1}function pt(t,e){var n=t.selection;if(!(n instanceof Xt)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=J(t),o=r.map;if(ut(o,r))return!1;if(e){for(var i,s,a=t.tr,l={},c=Nt.Fragment.empty,u=r.top;u<r.bottom;u++)for(var p=r.left;p<r.right;p++){var h=o.map[u*o.width+p],f=r.table.nodeAt(h);if(!l[h])if(l[h]=!0,null==i)i=h,s=f;else{ct(f)||(c=c.append(f.content));var d=a.mapping.map(h+r.tableStart);a.delete(d,d+f.nodeSize)}}if(a.setNodeMarkup(i+r.tableStart,null,x(S(s.attrs,s.attrs.colspan,r.right-r.left-s.attrs.colspan),"rowspan",r.bottom-r.top)),c.size){var v=i+1+s.content.size,y=ct(s)?i+1:v;a.replaceWith(y+r.tableStart,v+r.tableStart,c)}a.setSelection(new Xt(a.doc.resolve(i+r.tableStart))),e(a)}return!0}function ht(t,e){var n=u(t.schema);return ft(function(t){var e=t.node;return n[e.type.spec.tableRole]})(t,e)}function ft(t){return function(e,n){var r,o,i=e.selection;if(i instanceof Xt){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(r=h(i.$from),!r)return!1;o=p(i.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){var s=r.attrs,a=[],l=s.colwidth;s.rowspan>1&&(s=x(s,"rowspan",1)),s.colspan>1&&(s=x(s,"colspan",1));for(var c=J(e),u=e.tr,f=0;f<c.right-c.left;f++)a.push(l?x(s,"colwidth",l&&l[f]?[l[f]]:null):s);for(var d,v=c.top;v<c.bottom;v++){var y=c.map.positionAt(v,c.left,c.table);v==c.top&&(y+=r.nodeSize);for(var g=c.left,m=0;g<c.right;g++,m++)g==c.left&&v==c.top||u.insert(d=u.mapping.map(y+c.tableStart,1),t({node:r,row:v,col:g}).createAndFill(a[m]))}u.setNodeMarkup(o,t({node:r,row:c.top,col:c.left}),a[0]),i instanceof Xt&&u.setSelection(new Xt(u.doc.resolve(i.$anchorCell.pos),d&&u.doc.resolve(d))),n(u)}return!0}}function dt(t,e){return function(n,r){if(!f(n))return!1;var o=d(n);if(o.nodeAfter.attrs[t]===e)return!1;if(r){var i=n.tr;n.selection instanceof Xt?n.selection.forEachCell(function(n,r){n.attrs[t]!==e&&i.setNodeMarkup(r,null,x(n.attrs,t,e))}):i.setNodeMarkup(o.pos,null,x(o.nodeAfter.attrs,t,e)),r(i)}return!0}}function vt(t){return function(e,n){if(!f(e))return!1;if(n){for(var r=u(e.schema),o=J(e),i=e.tr,s=o.map.cellsInRect("column"==t?new Gt(o.left,0,o.right,o.map.height):"row"==t?new Gt(0,o.top,o.map.width,o.bottom):o),a=s.map(function(t){return o.table.nodeAt(t)}),l=0;l<s.length;l++)a[l].type==r.header_cell&&i.setNodeMarkup(o.tableStart+s[l],r.cell,a[l].attrs);if(0==i.steps.length)for(var c=0;c<s.length;c++)i.setNodeMarkup(o.tableStart+s[c],r.header_cell,a[c].attrs);n(i)}return!0}}function yt(t,e,n){for(var r=e.map.cellsInRect({left:0,top:0,right:"row"==t?e.map.width:1,bottom:"column"==t?e.map.height:1}),o=0;o<r.length;o++){var i=e.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function gt(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?vt(t):function(e,n){if(!f(e))return!1;if(n){var r=u(e.schema),o=J(e),i=e.tr,s=yt("row",o,r),a=yt("column",o,r),l="column"===t?s:"row"===t&&a,c=l?1:0,p="column"==t?new Gt(0,c,1,o.map.height):"row"==t?new Gt(c,0,o.map.width,1):o,h="column"==t?a?r.cell:r.header_cell:"row"==t?s?r.cell:r.header_cell:r.cell;o.map.cellsInRect(p).forEach(function(t){var e=t+o.tableStart,n=i.doc.nodeAt(e);n&&i.setNodeMarkup(e,h,n.attrs)}),n(i)}return!0}}function mt(t,e){if(e<0){var n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(var r=t.index(-1)-1,o=t.before();r>=0;r--){var i=t.node(-1).child(r);if(i.childCount)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;for(var s=t.node(-1),a=t.indexAfter(-1),l=t.after();a<s.childCount;a++){var c=s.child(a);if(c.childCount)return l+1;l+=c.nodeSize}}}function bt(t){return function(e,n){if(!f(e))return!1;var r=mt(d(e),t);if(null!=r){if(n){var o=e.doc.resolve(r);n(e.tr.setSelection(Lt.TextSelection.between(o,g(o))).scrollIntoView())}return!0}}}function wt(t,e){for(var n=t.selection.$anchor,r=n.depth;r>0;r--){var o=n.node(r);if("table"==o.type.spec.tableRole)return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}function _t(t,e,n,r,o,i){for(var s=0,a=!0,l=e.firstChild,c=t.firstChild,u=0,p=0;u<c.childCount;u++)for(var h=c.child(u).attrs,f=h.colspan,d=h.colwidth,v=0;v<f;v++,p++){var y=o==p?i:d&&d[v],g=y?y+"px":"";s+=y||r,y||(a=!1),l?(l.style.width!=g&&(l.style.width=g),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=g}for(;l;){var m=l.nextSibling;l.parentNode.removeChild(l),l=m}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}function xt(t){void 0===t&&(t={});var e=t.handleWidth;void 0===e&&(e=5);var n=t.cellMinWidth;void 0===n&&(n=25);var r=t.View;void 0===r&&(r=re);var o=t.lastColumnResizable;void 0===o&&(o=!0);var i=new Lt.Plugin({key:oe,state:{init:function(t,e){return this.spec.props.nodeViews[u(e.schema).table.name]=function(t,e){return new r(t,n,e)},new ie(-1,!1)},apply:function(t,e){return e.apply(t)}},props:{attributes:function(t){var e=oe.getState(t);return e.activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(t,r){kt(t,r,e,n,o)},mouseleave:function(t){St(t)},mousedown:function(t,e){Ot(t,e,n)}},decorations:function(t){var e=oe.getState(t);if(e.activeHandle>-1)return Rt(t,e.activeHandle)},nodeViews:{}}});return i}function kt(t,e,n,r,o){var i=oe.getState(t.state);if(!i.dragging){var s=Mt(e.target),a=-1;if(s){var l=s.getBoundingClientRect(),c=l.left,u=l.right;e.clientX-c<=n?a=Tt(t,e,"left"):u-e.clientX<=n&&(a=Tt(t,e,"right"))}if(a!=i.activeHandle){if(!o&&a!==-1){var p=t.state.doc.resolve(a),h=p.node(-1),f=$t.get(h),d=p.start(-1),v=f.colCount(p.pos-d)+p.nodeAfter.attrs.colspan-1;if(v==f.width-1)return}Pt(t,a)}}}function St(t){var e=oe.getState(t.state);e.activeHandle>-1&&!e.dragging&&Pt(t,-1)}function Ot(t,e,n){function r(e){window.removeEventListener("mouseup",r),window.removeEventListener("mousemove",o);var i=oe.getState(t.state);i.dragging&&(At(t,i.activeHandle,Et(i.dragging,e,n)),t.dispatch(t.state.tr.setMeta(oe,{setDragging:null})))}function o(e){if(!e.which)return r(e);var o=oe.getState(t.state),i=Et(o.dragging,e,n);jt(t,o.activeHandle,i,n)}var i=oe.getState(t.state);if(i.activeHandle==-1||i.dragging)return!1;var s=t.state.doc.nodeAt(i.activeHandle),a=Ct(t,i.activeHandle,s.attrs);return t.dispatch(t.state.tr.setMeta(oe,{setDragging:{startX:e.clientX,startWidth:a}})),window.addEventListener("mouseup",r),window.addEventListener("mousemove",o),e.preventDefault(),!0}function Ct(t,e,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var s=t.domAtPos(e),a=s.node.childNodes[s.offset],l=a.offsetWidth,c=r;if(o)for(var u=0;u<r;u++)o[u]&&(l-=o[u],c--);return l/c}function Mt(t){for(;t&&"TD"!=t.nodeName&&"TH"!=t.nodeName;)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}function Tt(t,e,n){var r=t.posAtCoords({left:e.clientX,top:e.clientY}),o=r.pos,i=p(t.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;var s=$t.get(i.node(-1)),a=i.start(-1),l=s.map.indexOf(i.pos-a);return l%s.width==0?-1:a+s.map[l-1]}function Et(t,e,n){var r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function Pt(t,e){t.dispatch(t.state.tr.setMeta(oe,{setHandle:e}))}function At(t,e,n){for(var r=t.state.doc.resolve(e),o=r.node(-1),i=$t.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,l=t.state.tr,c=0;c<i.height;c++){var u=c*i.width+a;if(!c||i.map[u]!=i.map[u-i.width]){var p=i.map[u],h=o.nodeAt(p),f=h.attrs,d=1==f.colspan?0:a-i.colCount(p);if(!f.colwidth||f.colwidth[d]!=n){var v=f.colwidth?f.colwidth.slice():Dt(f.colspan);v[d]=n,l.setNodeMarkup(s+p,null,x(f,"colwidth",v))}}}l.docChanged&&t.dispatch(l)}function jt(t,e,n,r){for(var o=t.state.doc.resolve(e),i=o.node(-1),s=o.start(-1),a=$t.get(i).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,l=t.domAtPos(o.start(-1)).node;"TABLE"!=l.nodeName;)l=l.parentNode;_t(i,l.firstChild,l,r,a,n)}function Dt(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}function Rt(t,e){for(var n=[],r=t.doc.resolve(e),o=r.node(-1),i=$t.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan,l=0;l<i.height;l++){var c=a+l*i.width-1;if(!(a!=i.width&&i.map[c]==i.map[c+1]||0!=l&&i.map[c-1]==i.map[c-1-i.width])){var u=i.map[c],p=s+u+o.nodeAt(u).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",n.push(Vt.Decoration.widget(p,h))}}return Vt.DecorationSet.create(t.doc,n)}function It(t){void 0===t&&(t={});var e=t.allowTableNodeSelection;return void 0===e&&(e=!1),new Lt.Plugin({key:Yt,state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(Yt);if(null!=n)return n==-1?null:n;if(null==e||!t.docChanged)return e;var r=t.mapping.mapResult(e),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:C,handleDOMEvents:{mousedown:K},createSelectionBetween:function(t){if(null!=Yt.getState(t.state))return t.state.selection},handleTripleClick:H,handleKeyDown:Zt,handlePaste:U},appendTransaction:function(t,n,r){return E(r,Y(r,n),e)}})}Object.defineProperty(e,"__esModule",{value:!0});var zt,Ft,Lt=n(218),Nt=n(216),Bt=n(237),Vt=n(239),Ht=n(219);if("undefined"!=typeof WeakMap){var Ut=new WeakMap;zt=function(t){return Ut.get(t)},Ft=function(t,e){return Ut.set(t,e),e}}else{var Kt=[],qt=10,Wt=0;zt=function(t){for(var e=0;e<Kt.length;e+=2)if(Kt[e]==t)return Kt[e+1]},Ft=function(t,e){return Wt==qt&&(Wt=0),Kt[Wt++]=t,Kt[Wt++]=e}}var Gt=function(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r},$t=function(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r};$t.prototype.findCell=function(t){for(var e=0;e<this.map.length;e++){var n=this.map[e];if(n==t){for(var r=e%this.width,o=e/this.width|0,i=r+1,s=o+1,a=1;i<this.width&&this.map[e+a]==n;a++)i++;for(var l=1;s<this.height&&this.map[e+this.width*l]==n;l++)s++;return new Gt(r,o,i,s)}}throw new RangeError("No cell with offset "+t+" found")},$t.prototype.colCount=function(t){for(var e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError("No cell with offset "+t+" found")},$t.prototype.nextCell=function(t,e,n){var r=this.findCell(t),o=r.left,i=r.right,s=r.top,a=r.bottom;return"horiz"==e?(n<0?0==o:i==this.width)?null:this.map[s*this.width+(n<0?o-1:i)]:(n<0?0==s:a==this.height)?null:this.map[o+this.width*(n<0?s-1:a)]},$t.prototype.rectBetween=function(t,e){var n=this.findCell(t),r=n.left,o=n.right,i=n.top,s=n.bottom,a=this.findCell(e),l=a.left,c=a.right,u=a.top,p=a.bottom;return new Gt(Math.min(r,l),Math.min(i,u),Math.max(o,c),Math.max(s,p))},$t.prototype.cellsInRect=function(t){for(var e=[],n={},r=t.top;r<t.bottom;r++)for(var o=t.left;o<t.right;o++){var i=r*this.width+o,s=this.map[i];n[s]||(n[s]=!0,o==t.left&&o&&this.map[i-1]==s||r==t.top&&r&&this.map[i-this.width]==s||e.push(s))}return e},$t.prototype.positionAt=function(t,e,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r==t){for(var s=e+t*this.width,a=(t+1)*this.width;s<a&&this.map[s]<o;)s++;return s==a?i-1:this.map[s]}o=i}},$t.get=function(t){return zt(t)||Ft(t,r(t))};var Yt=new Lt.PluginKey("selectingCells"),Xt=function(t){function e(e,n){void 0===n&&(n=e);var r=e.node(-1),o=$t.get(r),i=e.start(-1),s=o.rectBetween(e.pos-i,n.pos-i),a=e.node(0),l=o.cellsInRect(s).filter(function(t){return t!=n.pos-i});l.unshift(n.pos-i);var c=l.map(function(t){var e=r.nodeAt(t),n=t+i+1;return new Lt.SelectionRange(a.resolve(n),a.resolve(n+e.content.size))});t.call(this,c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,n){var r=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(y(r)&&y(o)&&m(r,o)){var i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?e.rowSelection(r,o):i&&this.isColSelection()?e.colSelection(r,o):new e(r,o)}return Lt.TextSelection.between(r,o)},e.prototype.content=function(){for(var t=this.$anchorCell.node(-1),e=$t.get(t),n=this.$anchorCell.start(-1),r=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],s=r.top;s<r.bottom;s++){for(var a=[],l=s*e.width+r.left,c=r.left;c<r.right;c++,l++){var u=e.map[l];if(!o[u]){o[u]=!0;var p=e.findCell(u),h=t.nodeAt(u),f=r.left-p.left,d=p.right-r.right;if(f>0||d>0){var v=h.attrs;f>0&&(v=k(v,0,f)),d>0&&(v=k(v,v.colspan-d,d)),h=p.left<r.left?h.type.createAndFill(v):h.type.create(v,h.content)}if(p.top<r.top||p.bottom>r.bottom){var y=x(h.attrs,"rowspan",Math.min(p.bottom,r.bottom)-Math.max(p.top,r.top));h=p.top<r.top?h.type.createAndFill(y):h.type.create(y,h.content)}a.push(h)}}i.push(t.child(s).copy(Nt.Fragment.from(a)))}var g=this.isColSelection()&&this.isRowSelection()?t:i;return new Nt.Slice(Nt.Fragment.from(g),1,1)},e.prototype.replace=function(e,n){void 0===n&&(n=Nt.Slice.empty);for(var r=e.steps.length,o=this.ranges,i=0;i<o.length;i++){var s=o[i],a=s.$from,l=s.$to,c=e.mapping.slice(r);e.replace(c.map(a.pos),c.map(l.pos),i?Nt.Slice.empty:n)}var u=t.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);u&&e.setSelection(u)},e.prototype.replaceWith=function(t,e){this.replace(t,new Nt.Slice(Nt.Fragment.from(e),0,0))},e.prototype.forEachCell=function(t){for(var e=this.$anchorCell.node(-1),n=$t.get(e),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++)t(e.nodeAt(o[i]),r+o[i])},e.prototype.isColSelection=function(){var t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;var n=t+this.$anchorCell.nodeAfter.attrs.rowspan,r=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},e.colSelection=function(t,n){void 0===n&&(n=t);var r=$t.get(t.node(-1)),o=t.start(-1),i=r.findCell(t.pos-o),s=r.findCell(n.pos-o),a=t.node(0);return i.top<=s.top?(i.top>0&&(t=a.resolve(o+r.map[i.left])),s.bottom<r.height&&(n=a.resolve(o+r.map[r.width*(r.height-1)+s.right-1]))):(s.top>0&&(n=a.resolve(o+r.map[s.left])),i.bottom<r.height&&(t=a.resolve(o+r.map[r.width*(r.height-1)+i.right-1]))),new e(t,n)},e.prototype.isRowSelection=function(){var t=$t.get(this.$anchorCell.node(-1)),e=this.$anchorCell.start(-1),n=t.colCount(this.$anchorCell.pos-e),r=t.colCount(this.$headCell.pos-e);if(Math.min(n,r)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==t.width},e.prototype.eq=function(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos},e.rowSelection=function(t,n){void 0===n&&(n=t);var r=$t.get(t.node(-1)),o=t.start(-1),i=r.findCell(t.pos-o),s=r.findCell(n.pos-o),a=t.node(0);return i.left<=s.left?(i.left>0&&(t=a.resolve(o+r.map[i.top*r.width])),s.right<r.width&&(n=a.resolve(o+r.map[r.width*(s.top+1)-1]))):(s.left>0&&(n=a.resolve(o+r.map[s.top*r.width])),i.right<r.width&&(t=a.resolve(o+r.map[r.width*(i.top+1)-1]))),new e(t,n)},e.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},e.fromJSON=function(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,n,r){return void 0===r&&(r=n),new e(t.resolve(n),t.resolve(r))},e.prototype.getBookmark=function(){return new Jt(this.$anchorCell.pos,this.$headCell.pos)},e}(Lt.Selection);Xt.prototype.visible=!1,Lt.Selection.jsonID("cell",Xt);var Jt=function(t,e){this.anchor=t,this.head=e};Jt.prototype.map=function(t){return new Jt(t.map(this.anchor),t.map(this.head))},Jt.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&m(e,n)?new Xt(e,n):Lt.Selection.near(n,1)};var Zt=Bt.keydownHandler({ArrowLeft:N("horiz",-1),ArrowRight:N("horiz",1),ArrowUp:N("vert",-1),ArrowDown:N("vert",1),"Shift-ArrowLeft":B("horiz",-1),"Shift-ArrowRight":B("horiz",1),"Shift-ArrowUp":B("vert",-1),"Shift-ArrowDown":B("vert",1),Backspace:V,"Mod-Backspace":V,Delete:V,"Mod-Delete":V}),Qt=new Lt.PluginKey("fix-tables"),te=gt("row",{useDeprecatedLogic:!0}),ee=gt("column",{useDeprecatedLogic:!0}),ne=gt("cell",{useDeprecatedLogic:!0}),re=function(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),_t(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};re.prototype.update=function(t){return t.type==this.node.type&&(this.node=t,_t(t,this.colgroup,this.table,this.cellMinWidth),!0)},re.prototype.ignoreMutation=function(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))};var oe=new Lt.PluginKey("tableColumnResizing"),ie=function(t,e){this.activeHandle=t,this.dragging=e};ie.prototype.apply=function(t){var e=this,n=t.getMeta(oe);if(n&&null!=n.setHandle)return new ie(n.setHandle,null);if(n&&void 0!==n.setDragging)return new ie(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){var r=t.mapping.map(e.activeHandle,-1);y(t.doc.resolve(r))||(r=null),e=new ie(r,e.dragging)}return e},e.CellSelection=Xt,e.TableMap=$t,e.TableView=re,e.__clipCells=D,e.__insertCells=F,e.__pastedCells=P,e.addColSpan=S,e.addColumn=Z,e.addColumnAfter=tt,e.addColumnBefore=Q,e.addRow=ot,e.addRowAfter=st,e.addRowBefore=it,e.cellAround=p,e.colCount=w,e.columnIsHeader=O,e.columnResizing=xt,e.columnResizingPluginKey=oe,e.deleteColumn=nt,e.deleteRow=lt,e.deleteTable=wt,e.findCell=b,e.fixTables=Y,e.fixTablesKey=Qt,e.goToNextCell=bt,e.handlePaste=U,e.inSameTable=m,e.isInTable=f,e.mergeCells=pt,e.moveCellForward=g,e.nextCell=_,e.pointsAtCell=y,e.removeColSpan=k,e.removeColumn=et,e.removeRow=at,e.rowIsHeader=rt,e.selectedRect=J,e.selectionCell=d,e.setAttr=x,e.setCellAttr=dt,e.splitCell=ht,e.splitCellWithType=ft,e.tableEditing=It,e.tableEditingKey=Yt,e.tableNodeTypes=u,e.tableNodes=c,e.toggleHeader=gt,e.toggleHeaderCell=ne,e.toggleHeaderColumn=ee,e.toggleHeaderRow=te,e.updateColumnsOnResize=_t},function(t,e,n){"use strict";function r(t){var e=t.split(/-(?!$)/),n=e[e.length-1];"Space"==n&&(n=" ");for(var r,o,i,s,a=0;a<e.length-1;a++){var l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);u?s=!0:o=!0}}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function o(t){var e=Object.create(null);for(var n in t)e[r(n)]=t[n];return e}function i(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}function s(t){return new c.Plugin({props:{handleKeyDown:a(t)}})}function a(t){var e=o(t);return function(t,n){var r,o=l.keyName(n),s=1==o.length&&" "!=o,a=e[i(o,n,!s)];if(a&&a(t.state,t.dispatch,t))return!0;if(s&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=l.base[n.keyCode])&&r!=o){var c=e[i(r,n,!0)];if(c&&c(t.state,t.dispatch,t))return!0}else if(s&&n.shiftKey){var u=e[i(o,n,!0)];if(u&&u(t.state,t.dispatch,t))return!0}return!1}}Object.defineProperty(e,"__esModule",{value:!0});var l=n(238),c=n(218),u="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);e.keydownHandler=a,e.keymap=s},function(t,e){"use strict";function n(t){var e=u&&(t.ctrlKey||t.altKey||t.metaKey)||(s||c)&&t.shiftKey&&t.key&&1==t.key.length,n=!e&&t.key||(t.shiftKey?o:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}Object.defineProperty(e,"__esModule",{value:!0});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=i&&(l||+i[1]<57)||a&&l,p=0;p<10;p++)r[48+p]=r[96+p]=String(p);
for(var p=1;p<=24;p++)r[p+111]="F"+p;for(var p=65;p<=90;p++)r[p]=String.fromCharCode(p+32),o[p]=String.fromCharCode(p);for(var h in r)o.hasOwnProperty(h)||(o[h]=r[h]);e.base=r,e.keyName=n,e.shift=o},function(t,e,n){"use strict";function r(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:o(t))){var a=t.parentNode;if(1!=a.nodeType||s(t)||Ke.test(t.nodeName)||"false"==t.contentEditable)return!1;e=Be(t)+(i<0?0:1),t=a}else{if(1!=t.nodeType)return!1;if(t=t.childNodes[e+(i<0?-1:0)],"false"==t.contentEditable)return!1;e=i<0?o(t):0}}}function o(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function i(t,e,n){for(var r=0==e,i=e==o(t);r||i;){if(t==n)return!0;var s=Be(t);if(t=t.parentNode,!t)return!1;r=r&&0==s,i=i&&s==o(t)}}function s(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}function a(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function l(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function c(t,e){return"number"==typeof t?t:t[e]}function u(t){var e=t.getBoundingClientRect();return{left:e.left,right:e.left+t.clientWidth,top:e.top,bottom:e.top+t.clientHeight}}function p(t,e,n){for(var r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument,s=n||t.dom;s;s=Ve(s))if(1==s.nodeType){var a=s==i.body||1!=s.nodeType,p=a?l(i):u(s),h=0,f=0;if(e.top<p.top+c(r,"top")?f=-(p.top-e.top+c(o,"top")):e.bottom>p.bottom-c(r,"bottom")&&(f=e.bottom-p.bottom+c(o,"bottom")),e.left<p.left+c(r,"left")?h=-(p.left-e.left+c(o,"left")):e.right>p.right-c(r,"right")&&(h=e.right-p.right+c(o,"right")),h||f)if(a)i.defaultView.scrollBy(h,f);else{var d=s.scrollLeft,v=s.scrollTop;f&&(s.scrollTop+=f),h&&(s.scrollLeft+=h);var y=s.scrollLeft-d,g=s.scrollTop-v;e={left:e.left-y,top:e.top-g,right:e.right-y,bottom:e.bottom-g}}if(a)break}}function h(t){for(var e,n,r=t.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){var a=t.root.elementFromPoint(i,s);if(a!=t.dom&&t.dom.contains(a)){var l=a.getBoundingClientRect();if(l.top>=o-20){e=a,n=l.top;break}}}return{refDOM:e,refTop:n,stack:f(t.dom)}}function f(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=Ve(t));return e}function d(t){var e=t.refDOM,n=t.refTop,r=t.stack,o=e?e.getBoundingClientRect().top:0;v(r,0==o?0:o-n)}function v(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=r.dom,i=r.top,s=r.left;o.scrollTop!=i+e&&(o.scrollTop=i+e),o.scrollLeft!=s&&(o.scrollLeft=s)}}function y(t){if(t.setActive)return t.setActive();if(We)return t.focus(We);var e=f(t);t.focus(null==We?{get preventScroll(){return We={preventScroll:!0},!0}}:void 0),We||(We=!1,v(e,0))}function g(t,e){for(var n,r,o=2e8,i=0,s=e.top,a=e.top,l=t.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=He(l).getClientRects()}for(var p=0;p<u.length;p++){var h=u[p];if(h.top<=s&&h.bottom>=a){s=Math.max(h.bottom,s),a=Math.min(h.top,a);var f=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(f<o){n=l,o=f,r=f&&3==n.nodeType?{left:h.right<e.left?h.right:h.left,top:e.top}:e,1==l.nodeType&&f&&(i=c+(e.left>=(h.left+h.right)/2?1:0));continue}}!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(i=c+1)}}return n&&3==n.nodeType?m(n,r):!n||o&&1==n.nodeType?{node:t,offset:i}:g(n,r)}function m(t,e){for(var n=t.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);var i=O(r,1);if(i.top!=i.bottom&&b(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function b(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function w(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function _(t,e,n){var r=g(e,n),o=r.node,i=r.offset,s=-1;if(1==o.nodeType&&!o.firstChild){var a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(o,i,s)}function x(t,e,n,r){for(var o=-1,i=e;i!=t.dom;){var s=t.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)o=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;o=s.posAfter}}i=s.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n)}function k(t,e,n){var r=t.childNodes.length;if(r&&n.top<n.bottom)for(var o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=o;;){var s=t.childNodes[i];if(1==s.nodeType)for(var a=s.getClientRects(),l=0;l<a.length;l++){var c=a[l];if(b(e,c))return k(s,e,c)}if((i=(i+1)%r)==o)break}return t}function S(t,e){var n,r,o,i,s=t.root;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(e.left,e.top);a&&(n=a,o=n.offsetNode,i=n.offset)}catch(t){}if(!o&&s.caretRangeFromPoint){var l=s.caretRangeFromPoint(e.left,e.top);l&&(r=l,o=r.startContainer,i=r.startOffset)}var c,u=s.elementFromPoint(e.left,e.top+1);if(!u||!t.dom.contains(1!=u.nodeType?u.parentNode:u)){var p=t.dom.getBoundingClientRect();if(!b(e,p))return null;if(u=k(t.dom,e,p),!u)return null}if(Re.safari&&u.draggable&&(o=i=null),u=w(u,e),o){if(Re.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length),i<o.childNodes.length)){var h,f=o.childNodes[i];"IMG"==f.nodeName&&(h=f.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}o==t.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&e.top>o.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(c=x(t,o,i,e))}null==c&&(c=_(t,u,e));var d=t.docView.nearestDesc(u,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function O(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function C(t,e){var n=t.docView.domFromPos(e),r=n.node,i=n.offset;if(3==r.nodeType&&(Re.webkit||Re.gecko)){var s=O(He(r,i,i),0);if(Re.gecko&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){var a=O(He(r,i-1,i-1),-1);if(a.top==s.top){var l=O(He(r,i,i+1),-1);if(l.top!=s.top)return M(l,l.left<a.left)}}return s}if(1==r.nodeType&&!t.state.doc.resolve(e).parent.inlineContent){var c,u=!0;if(i<r.childNodes.length){var p=r.childNodes[i];1==p.nodeType&&(c=p.getBoundingClientRect())}if(!c&&i){var h=r.childNodes[i-1];1==h.nodeType&&(c=h.getBoundingClientRect(),u=!1)}return T(c||r.getBoundingClientRect(),u)}for(var f=-1;f<2;f+=2)if(f<0&&i){var d=void 0,v=3==r.nodeType?He(r,i-1,i):3==(d=r.childNodes[i-1]).nodeType?He(d):1==d.nodeType&&"BR"!=d.nodeName?d:null;if(v){var y=O(v,1);if(y.top<y.bottom)return M(y,!1)}}else if(f>0&&i<o(r)){var g=void 0,m=3==r.nodeType?He(r,i,i+1):3==(g=r.childNodes[i]).nodeType?He(g):1==g.nodeType?g:null;if(m){var b=O(m,-1);if(b.top<b.bottom)return M(b,!0)}}return M(O(3==r.nodeType?He(r):r,0),!1)}function M(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function T(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function E(t,e,n){var r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function P(t,e,n){var r=e.selection,o="up"==n?r.$anchor.min(r.$head):r.$anchor.max(r.$head);return E(t,e,function(){for(var e=t.docView.domFromPos(o.pos),r=e.node;;){var i=t.docView.nearestDesc(r,!0);if(!i)break;if(i.node.isBlock){r=i.dom;break}r=i.dom.parentNode}for(var s=C(t,o.pos),a=r.firstChild;a;a=a.nextSibling){var l=void 0;if(1==a.nodeType)l=a.getClientRects();else{if(3!=a.nodeType)continue;l=He(a,0,a.nodeValue.length).getClientRects()}for(var c=0;c<l.length;c++){var u=l[c];if(u.bottom>u.top&&("up"==n?u.bottom<s.top+1:u.top>s.bottom-1))return!1}}return!0})}function A(t,e,n){var r=e.selection,o=r.$head;if(!o.parent.isTextblock)return!1;var i=o.parentOffset,s=!i,a=i==o.parent.content.size,l=getSelection();return Ge.test(o.parent.textContent)&&l.modify?E(t,e,function(){var e=l.getRangeAt(0),r=l.focusNode,i=l.focusOffset,s=l.caretBidiLevel;l.modify("move",n,"character");var a=o.depth?t.docView.domAfterPos(o.before()):t.dom,c=!a.contains(1==l.focusNode.nodeType?l.focusNode:l.focusNode.parentNode)||r==l.focusNode&&i==l.focusOffset;return l.removeAllRanges(),l.addRange(e),null!=s&&(l.caretBidiLevel=s),c}):"left"==n||"backward"==n?s:a}function j(t,e,n){return $e==e&&Ye==n?Xe:($e=e,Ye=n,Xe="up"==n||"down"==n?P(t,e,n):A(t,e,n))}function D(t,e,n,r,o){return N(r,e,t),new ln(null,t,e,n,r,r,r,o,0)}function R(t,e,n){for(var r=t.firstChild,o=!1,i=0;i<e.length;i++){var s=e[i],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=V(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(a,r);if(s instanceof an){var l=r?r.previousSibling:t.lastChild;R(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=V(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}function I(t){t&&(this.nodeName=t)}function z(t,e,n){if(0==t.length)return hn;for(var r=n?hn[0]:new I,o=[r],i=0;i<t.length;i++){var s=t[i].type.attrs,a=r;if(s){s.nodeName&&o.push(a=new I(s.nodeName));for(var l in s){var c=s[l];null!=c&&(n&&1==o.length&&o.push(a=r=new I(e.isInline?"span":"div")),"class"==l?a.class=(a.class?a.class+" ":"")+c:"style"==l?a.style=(a.style?a.style+";":"")+c:"nodeName"!=l&&(a[l]=c))}}}return o}function F(t,e,n,r){if(n==hn&&r==hn)return e;for(var o=e,i=0;i<r.length;i++){var s=r[i],a=n[i];if(i){var l=void 0;a&&a.nodeName==s.nodeName&&o!=t&&(l=o.parentNode)&&l.tagName.toLowerCase()==s.nodeName?o=l:(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=hn[0],o=l)}L(o,a||hn[0],s)}return o}function L(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){for(var i=e.class?e.class.split(" "):rn,s=n.class?n.class.split(" "):rn,a=0;a<i.length;a++)s.indexOf(i[a])==-1&&t.classList.remove(i[a]);for(var l=0;l<s.length;l++)i.indexOf(s[l])==-1&&t.classList.add(s[l])}if(e.style!=n.style){if(e.style)for(var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=u.exec(e.style);)t.style.removeProperty(c[1]);n.style&&(t.style.cssText+=n.style)}}function N(t,e,n){return F(t,t,hn,z(e,n,1!=t.nodeType))}function B(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function V(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}function H(t,e){for(var n=[],r=t.childCount,o=e.length-1;r>0&&o>=0;o--){var i=e[o],s=i.node;if(s){if(s!=t.child(r-1))break;n.push(i),--r}}return{nodes:n.reverse(),offset:r}}function U(t,e){return t.type.side-e.type.side}function K(t,e,n,r){var o=e.locals(t),i=0;if(0!=o.length)for(var s=0,a=[],l=null,c=0;;){if(s<o.length&&o[s].to==i){for(var u=o[s++],p=void 0;s<o.length&&o[s].to==i;)(p||(p=[u])).push(o[s++]);if(p){p.sort(U);for(var h=0;h<p.length;h++)n(p[h],c,!!l)}else n(u,c,!!l)}var f=void 0,d=void 0;if(l)d=-1,f=l,l=null;else{if(!(c<t.childCount))break;d=c,f=t.child(c++)}for(var v=0;v<a.length;v++)a[v].to<=i&&a.splice(v--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)a.push(o[s++]);var y=i+f.nodeSize;if(f.isText){var g=y;s<o.length&&o[s].from<g&&(g=o[s].from);for(var m=0;m<a.length;m++)a[m].to<g&&(g=a[m].to);g<y&&(l=f.cut(g-i),f=f.cut(0,g-i),y=g,d=-1)}r(f,a.length?a.slice():rn,e.forChild(i,f),d),i=y}else for(var b=0;b<t.childCount;b++){var w=t.child(b);r(w,o,e.forChild(i,w),b),i+=w.nodeSize}}function q(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function W(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=o(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}function G(t,e,n,r){for(var o=0,i=0;o<t.childCount&&i<=r;){var s=t.child(o++),a=i;if(i+=s.nodeSize,s.isText){for(var l=s.text;o<t.childCount;){var c=t.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){var u=l.lastIndexOf(e,r-a);if(u>=0&&u+e.length+a>=n)return a+u}}}return-1}function $(t,e,n,r,o){for(var i=[],s=0,a=0;s<t.length;s++){var l=t[s],c=a,u=a+=l.size;c>=n||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,r)),o&&(i.push(o),o=null),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function Y(t,e){var n=t.selection,r=n.$anchor,o=n.$head,i=e>0?r.max(o):r.min(o),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Ae.Selection.findFrom(s,e)}function X(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function J(t,e,n){var r=t.state.selection;if(!(r instanceof Ae.TextSelection)){if(r instanceof Ae.NodeSelection&&r.node.isInline)return X(t,new Ae.TextSelection(e>0?r.$to:r.$from));var o=Y(t.state,e);return!!o&&X(t,o)}if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var i=Y(t.state,e);return!!(i&&i instanceof Ae.NodeSelection)&&X(t,i)}if(!(Re.mac&&n.indexOf("m")>-1)){var s,a=r.$head,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText)return!1;var c=e<0?a.pos-l.nodeSize:a.pos;return!!(l.isAtom||(s=t.docView.descAt(c))&&!s.contentDOM)&&(Ae.NodeSelection.isSelectable(l)?X(t,new Ae.NodeSelection(e<0?t.state.doc.resolve(a.pos-l.nodeSize):a)):!!Re.webkit&&X(t,new Ae.TextSelection(t.state.doc.resolve(e<0?c:c+l.nodeSize))))}}function Z(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Q(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function tt(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var o,i,s=!1;for(Re.gecko&&1==n.nodeType&&r<Z(n)&&Q(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;var a=n.childNodes[r-1];if(Q(a))o=n,i=--r;else{if(3!=a.nodeType)break;n=a,r=n.nodeValue.length}}else{if(nt(n))break;for(var l=n.previousSibling;l&&Q(l);)o=n.parentNode,i=Be(l),l=l.previousSibling;if(l)n=l,r=Z(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}s?rt(t,e,n,r):o&&rt(t,e,o,i)}}function et(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var o,i,s=Z(n);;)if(r<s){if(1!=n.nodeType)break;var a=n.childNodes[r];if(!Q(a))break;o=n,i=++r}else{if(nt(n))break;for(var l=n.nextSibling;l&&Q(l);)o=l.parentNode,i=Be(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=Z(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}o&&rt(t,e,o,i)}}function nt(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function rt(t,e,n,r){if(qe(e)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection()}function ot(t,e,n){var r=t.state.selection;if(r instanceof Ae.TextSelection&&!r.empty||n.indexOf("s")>-1)return!1;if(Re.mac&&n.indexOf("m")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=Y(t.state,e);if(s&&s instanceof Ae.NodeSelection)return X(t,s)}if(!o.parent.inlineContent){var a=Ae.Selection.findFrom(e<0?o:i,e);return!a||X(t,a)}return!1}function it(t,e){if(!(t.state.selection instanceof Ae.TextSelection))return!0;var n=t.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var a=t.state.tr;return e<0?a.delete(r.pos-s.nodeSize,r.pos):a.delete(r.pos,r.pos+s.nodeSize),t.dispatch(a),!0}return!1}function st(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function at(t){if(Re.chrome&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;st(t,o,!0),setTimeout(function(){return st(t,o,!1)},20)}}}function lt(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function ct(t,e){var n=e.keyCode,r=lt(e);return 8==n||Re.mac&&72==n&&"c"==r?it(t,-1)||tt(t):46==n||Re.mac&&68==n&&"c"==r?it(t,1)||et(t):13==n||27==n||(37==n?J(t,-1,r)||tt(t):39==n?J(t,1,r)||et(t):38==n?ot(t,-1,r)||tt(t):40==n?at(t)||ot(t,1,r)||et(t):r==(Re.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function ut(t,e){var n=t.root.getSelection(),r=t.state.doc;if(!n.focusNode)return null;var o=t.docView.nearestDesc(n.focusNode),s=o&&0==o.size,a=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var l,c,u=r.resolve(a);if(qe(n)){for(l=u;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&Ae.NodeSelection.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!i(n.focusNode,n.focusOffset,o.dom))){var p=o.posBefore;c=new Ae.NodeSelection(a==p?u:r.resolve(p))}}else{var h=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(h<0)return null;l=r.resolve(h)}if(!c){var f="pointer"==e||t.state.selection.head<u.pos&&!s?1:-1;c=bt(t,l,u,f)}return c}function pt(t,e){var n=t.state.selection;if(gt(t,n),t.editable?t.hasFocus():_t(t)&&document.activeElement&&document.activeElement.contains(t.dom)){if(t.domObserver.disconnectSelection(),t.cursorWrapper)yt(t);else{var r,o,i=n.anchor,s=n.head;!dn||n instanceof Ae.TextSelection||(n.$from.parent.inlineContent||(r=ht(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=ht(t,n.to))),t.docView.setSelection(i,s,t.root,e),dn&&(r&&dt(r),o&&dt(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&vt(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}function ht(t,e){var n=t.docView.domFromPos(e),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,s=o?r.childNodes[o-1]:null;if(Re.safari&&i&&"false"==i.contentEditable)return ft(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return ft(i);if(s)return ft(s)}}function ft(t){return t.contentEditable="true",Re.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function dt(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function vt(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(e.removeEventListener("selectionchange",t.hideSelectionGuard),t.dom.classList.remove("ProseMirror-hideselection"))})}function yt(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,Be(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&Re.ie&&Re.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function gt(t,e){if(e instanceof Ae.NodeSelection){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(mt(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else mt(t)}function mt(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function bt(t,e,n,r){return t.someProp("createSelectionBetween",function(r){return r(t,e,n)})||Ae.TextSelection.between(e,n,r)}function wt(t){return(!t.editable||t.root.activeElement==t.dom)&&_t(t)}function _t(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function xt(t){var e=t.docView.domFromPos(t.state.selection.anchor),n=t.root.getSelection();return Ue(e.node,e.offset,n.anchorNode,n.anchorOffset)}function kt(t,e,n){var r=t.docView.parseRange(e,n),o=r.node,i=r.fromOffset,s=r.toOffset,a=r.from,l=r.to,c=t.root.getSelection(),u=null,p=c.anchorNode;if(p&&t.dom.contains(1==p.nodeType?p:p.parentNode)&&(u=[{node:p,offset:c.anchorOffset}],qe(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Re.chrome&&8===t.lastKeyCode)for(var h=s;h>i;h--){var f=o.childNodes[h-1],d=f.pmViewDesc;if("BR"==f.nodeType&&!d){s=h;break}if(!d||d.size)break}var v=t.state.doc,y=t.someProp("domParser")||je.DOMParser.fromSchema(t.state.schema),g=v.resolve(a),m=null,b=y.parse(o,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:s,preserveWhitespace:!g.parent.type.spec.code||"full",editableContent:!0,findPositions:u,ruleFromNode:St,context:g});if(u&&null!=u[0].pos){var w=u[0].pos,_=u[1]&&u[1].pos;null==_&&(_=w),m={anchor:w+a,head:_+a}}return{doc:b,sel:m,from:a,to:l}}function St(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(Re.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||Re.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function Ot(t,e,n,r,o){if(e<0){var i=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,s=ut(t,i);if(s&&!t.state.selection.eq(s)){var l=t.state.tr.setSelection(s);"pointer"==i?l.setMeta("pointer",!0):"key"==i&&l.scrollIntoView(),t.dispatch(l)}}else{var c=t.state.doc.resolve(e),u=c.sharedDepth(n);e=c.before(u+1),n=t.state.doc.resolve(n).after(u+1);var p,h,f=t.state.selection,d=kt(t,e,n),v=t.state.doc,y=v.slice(d.from,d.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(p=t.state.selection.to,h="end"):(p=t.state.selection.from,h="start"),t.lastKeyCode=null;var g=Pt(y.content,d.doc.content,d.from,p,h);if(!g){if(!(r&&f instanceof Ae.TextSelection&&!f.empty&&f.$head.sameParent(f.$anchor))||t.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){var m=Ct(t,t.state.doc,d.sel);m&&!m.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(m))}return}g={start:f.from,endA:f.to,endB:f.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof Ae.TextSelection&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),Re.ie&&Re.ie_version<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>d.from&&"  "==d.doc.textBetween(g.start-d.from-1,g.start-d.from+1)&&(g.start--,g.endA--,g.endB--);var b,w=d.doc.resolveNoCache(g.start-d.from),_=d.doc.resolveNoCache(g.endB-d.from),x=w.sameParent(_)&&w.parent.inlineContent;if((Re.ios&&t.lastIOSEnter>Date.now()-225&&(!x||o.some(function(t){return"DIV"==t.nodeName||"P"==t.nodeName}))||!x&&w.pos<d.doc.content.size&&(b=Ae.Selection.findFrom(d.doc.resolve(w.pos+1),1,!0))&&b.head==_.pos)&&t.someProp("handleKeyDown",function(e){return e(t,a(13,"Enter"))}))return void(t.lastIOSEnter=0);if(t.state.selection.anchor>g.start&&Tt(v,g.start,g.endA,w,_)&&t.someProp("handleKeyDown",function(e){return e(t,a(8,"Backspace"))}))return void(Re.android&&Re.chrome&&t.domObserver.suppressSelectionUpdates());Re.android&&!x&&w.start()!=_.start()&&0==_.parentOffset&&w.depth==_.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==g.endA&&(g.endB-=2,_=d.doc.resolveNoCache(g.endB-d.from),setTimeout(function(){t.someProp("handleKeyDown",function(e){return e(t,a(13,"Enter"))})},20));var k,S,O,C,M=g.start,T=g.endA;if(x)if(w.pos==_.pos)Re.ie&&Re.ie_version<=11&&0==w.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout(function(){return pt(t)},20)),k=t.state.tr.delete(M,T),S=v.resolve(g.start).marksAcross(v.resolve(g.endA));else if(g.endA==g.endB&&(C=v.resolve(g.start))&&(O=Mt(w.parent.content.cut(w.parentOffset,_.parentOffset),C.parent.content.cut(C.parentOffset,g.endA-C.start()))))k=t.state.tr,"add"==O.type?k.addMark(M,T,O.mark):k.removeMark(M,T,O.mark);else if(w.parent.child(w.index()).isText&&w.index()==_.index()-(_.textOffset?0:1)){var E=w.parent.textBetween(w.parentOffset,_.parentOffset);if(t.someProp("handleTextInput",function(e){return e(t,M,T,E)}))return;k=t.state.tr.insertText(E,M,T)}if(k||(k=t.state.tr.replace(M,T,d.doc.slice(g.start-d.from,g.endB-d.from))),d.sel){var P=Ct(t,k.doc,d.sel);P&&!(Re.chrome&&Re.android&&t.composing&&P.empty&&(P.head==M||P.head==k.mapping.map(T)-1)||Re.ie&&P.empty&&P.head==M)&&k.setSelection(P)}S&&k.ensureMarks(S),t.dispatch(k.scrollIntoView())}}function Ct(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:bt(t,e.resolve(n.anchor),e.resolve(n.head))}function Mt(t,e){for(var n,r,o,i=t.firstChild.marks,s=e.firstChild.marks,a=i,l=s,c=0;c<s.length;c++)a=s[c].removeFromSet(a);for(var u=0;u<i.length;u++)l=i[u].removeFromSet(l);if(1==a.length&&0==l.length)r=a[0],n="add",o=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=a.length||1!=l.length)return null;r=l[0],n="remove",o=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var p=[],h=0;h<e.childCount;h++)p.push(o(e.child(h)));if(je.Fragment.from(p).eq(t))return{mark:r,type:n}}function Tt(t,e,n,r,o){if(!r.parent.isTextblock||n-e<=o.pos-r.pos||Et(r,!0,!1)<o.pos)return!1;var i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=t.resolve(Et(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||Et(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Et(t,e,n){for(var r=t.depth,o=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n)for(var i=t.node(r).maybeChild(t.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function Pt(t,e,n,r,o){var i=t.findDiffStart(e,n);if(null==i)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,l=s.b;if("end"==o){var c=Math.max(0,i-Math.min(a,l));r-=a+c-i}if(a<i&&t.size<e.size){var u=r<=i&&r>=a?i-r:0;i-=u,l=i+(l-a),a=i}else if(l<i){var p=r<=i&&r>=l?i-r:0;i-=p,a=i+(a-l),l=i}return{start:i,endA:a,endB:l}}function At(t,e){for(var n=[],r=e.content,o=e.openStart,i=e.openEnd;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var s=r.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),r=s.content}var a=t.someProp("clipboardSerializer")||je.DOMSerializer.fromSchema(t.state.schema),l=Nt(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));for(var u,p=c.firstChild;p&&1==p.nodeType&&(u=vn[p.nodeName.toLowerCase()]);){for(var h=u.length-1;h>=0;h--){for(var f=l.createElement(u[h]);c.firstChild;)f.appendChild(c.firstChild);c.appendChild(f)}p=c.firstChild}p&&1==p.nodeType&&p.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n));var d=t.someProp("clipboardTextSerializer",function(t){return t(e)})||e.content.textBetween(0,e.content.size,"\n\n");return{dom:c,text:d}}function jt(t,e,n,r,o){var i,s,a=o.parent.type.spec.code;if(!n&&!e)return null;var l=e&&(r||a||!n);if(l){if(t.someProp("transformPastedText",function(t){e=t(e,a||r)}),a)return new je.Slice(je.Fragment.from(t.state.schema.text(e)),0,0);var c=t.someProp("clipboardTextParser",function(t){return t(e,o,r)});c?s=c:(i=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach(function(t){i.appendChild(document.createElement("p")).textContent=t}))}else t.someProp("transformPastedHTML",function(t){n=t(n)}),i=Bt(n);var u=i&&i.querySelector("[data-pm-slice]"),p=u&&/^(\d+) (\d+) (.*)/.exec(u.getAttribute("data-pm-slice"));if(!s){var h=t.someProp("clipboardParser")||t.someProp("domParser")||je.DOMParser.fromSchema(t.state.schema);s=h.parseSlice(i,{preserveWhitespace:!(!l&&!p),context:o})}return s=p?Vt(Lt(s,+p[1],+p[2]),p[3]):je.Slice.maxOpen(Dt(s.content,o),!1),t.someProp("transformPasted",function(t){s=t(s)}),s}function Dt(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n),o=r.contentMatchAt(e.index(n)),i=void 0,s=[];if(t.forEach(function(t){if(s){var e,n=o.findWrapping(t.type);if(!n)return s=null;if(e=s.length&&i.length&&It(n,i,t,s[s.length-1],0))s[s.length-1]=e;else{s.length&&(s[s.length-1]=zt(s[s.length-1],i.length));var r=Rt(t,n);s.push(r),o=o.matchType(r.type,r.attrs),i=n}}}),s)return{v:je.Fragment.from(s)}},r=e.depth;r>=0;r--){var o=n(r);if(o)return o.v}return t}function Rt(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,je.Fragment.from(t));return t}function It(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){var i=It(t,e,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));var s=r.contentMatchAt(r.childCount);if(s.matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(je.Fragment.from(Rt(n,t,o+1))))}}function zt(t,e){if(0==e)return t;var n=t.content.replaceChild(t.childCount-1,zt(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(je.Fragment.empty,!0);return t.copy(n.append(r))}function Ft(t,e,n,r,o,i){var s=e<0?t.firstChild:t.lastChild,a=s.content;return o<r-1&&(a=Ft(a,e,n,r,o+1,i)),o>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(je.Fragment.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function Lt(t,e,n){return e<t.openStart&&(t=new je.Slice(Ft(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new je.Slice(Ft(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}function Nt(){return yn||(yn=document.implementation.createHTMLDocument("title"))}function Bt(t){var e=/(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=Nt().createElement("div"),o=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(t),i=0;(n=o&&vn[o[1].toLowerCase()])&&(t=n.map(function(t){return"<"+t+">"}).join("")+t+n.map(function(t){return"</"+t+">"}).reverse().join(""),i=n.length),r.innerHTML=t;for(var s=0;s<i;s++)r=r.firstChild;return r}function Vt(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}for(var o=t.content,i=t.openStart,s=t.openEnd,a=n.length-2;a>=0;a-=2){var l=r.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;o=je.Fragment.from(l.create(n[a+1],o)),i++,s++}return new je.Slice(o,i,s)}function Ht(t){_n||(_n=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}function Ut(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new wn(t,function(e,n,r,o){return Ot(t,e,n,r,o)}),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=xn[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!$t(t,e)||Gt(t,e)||!t.editable&&e.type in kn||n(t,e)})};for(var n in xn)e(n);Re.safari&&t.dom.addEventListener("input",function(){return null}),Wt(t)}function Kt(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function qt(t){t.domObserver.stop();for(var e in t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}function Wt(t){t.someProp("handleDOMEvents",function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return Gt(t,e)})})}function Gt(t,e){return t.someProp("handleDOMEvents",function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)})}function $t(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Yt(t,e){Gt(t,e)||!xn[e.type]||!t.editable&&e.type in kn||xn[e.type](t,e)}function Xt(t){return{left:t.clientX,top:t.clientY}}function Jt(t,e){
var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Zt(t,e,n,r,o){if(r==-1)return!1;for(var i=t.state.doc.resolve(r),s=function(r){if(t.someProp(e,function(e){return r>i.depth?e(t,n,i.nodeAfter,i.before(r),o,!0):e(t,n,i.node(r),i.before(r),o,!1)}))return{v:!0}},a=i.depth+1;a>0;a--){var l=s(a);if(l)return l.v}return!1}function Qt(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function te(t,e){if(e==-1)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&Ae.NodeSelection.isSelectable(r))&&(Qt(t,new Ae.NodeSelection(n),"pointer"),!0)}function ee(t,e){if(e==-1)return!1;var n,r,o=t.state.selection;o instanceof Ae.NodeSelection&&(n=o.node);for(var i=t.state.doc.resolve(e),s=i.depth+1;s>0;s--){var a=s>i.depth?i.nodeAfter:i.node(s);if(Ae.NodeSelection.isSelectable(a)){r=n&&o.$from.depth>0&&s>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(s);break}}return null!=r&&(Qt(t,Ae.NodeSelection.create(t.state.doc,r),"pointer"),!0)}function ne(t,e,n,r,o){return Zt(t,"handleClickOn",e,n,r)||t.someProp("handleClick",function(n){return n(t,e,r)})||(o?ee(t,n):te(t,n))}function re(t,e,n,r){return Zt(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",function(n){return n(t,e,r)})}function oe(t,e,n,r){return Zt(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",function(n){return n(t,e,r)})||ie(t,n)}function ie(t,e){var n=t.state.doc;if(e==-1)return!!n.inlineContent&&(Qt(t,Ae.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(e),o=r.depth+1;o>0;o--){var i=o>r.depth?r.nodeAfter:r.node(o),s=r.before(o);if(i.inlineContent)Qt(t,Ae.TextSelection.create(n,s+1,s+1+i.content.size),"pointer");else{if(!Ae.NodeSelection.isSelectable(i))continue;Qt(t,Ae.NodeSelection.create(n,s),"pointer")}return!0}}function se(t){return ce(t)}function ae(t,e){return!!t.composing||!!(Re.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}function le(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout(function(){return ce(t)},e))}function ce(t,e){for(t.domObserver.forceFlush(),t.composing=!1;t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty();if(e||t.docView.dirty){var n=ut(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}function ue(t,e){if(t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}}function pe(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}function he(t,e){if(t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(function(){t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?fe(t,r.value,null,e):fe(t,r.textContent,r.innerHTML,e)},50)}}function fe(t,e,n,r){var o=jt(t,e,n,t.shiftKey,t.state.selection.$from);if(!t.someProp("handlePaste",function(e){return e(t,r,o||je.Slice.empty)})&&o){var i=pe(o),s=i?t.state.tr.replaceSelectionWith(i,t.shiftKey):t.state.tr.replaceSelection(o);t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}function de(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}function ve(t,e,n,r,o,i,s){for(var a=t.slice(),l=function(t,e,n,r){for(var s=0;s<a.length;s+=3){var l=a[s+1],c=void 0;l==-1||t>l+i||(e>=a[s]+i?a[s+1]=-1:n>=o&&(c=r-n-(e-t))&&(a[s]+=c,a[s+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,p=0;p<a.length;p+=3)if(a[p+1]==-1){var h=n.map(a[p]+i),f=h-o;if(f<0||f>=r.content.size){u=!0;continue}var d=n.map(t[p+1]+i,-1),v=d-o,y=r.content.findIndex(f),g=y.index,m=y.offset,b=r.maybeChild(g);if(b&&m==f&&m+b.nodeSize==v){var w=a[p+2].mapInner(n,b,h+1,a[p]+i+1,s);w!=Nn?(a[p]=f,a[p+1]=v,a[p+2]=w):(a[p+1]=-2,u=!0)}else u=!0}if(u){var _=ge(a,t,e||[],n,o,i,s),x=we(_,r,0,s);e=x.local;for(var k=0;k<a.length;k+=3)a[k+1]<0&&(a.splice(k,3),k-=3);for(var S=0,O=0;S<x.children.length;S+=3){for(var C=x.children[S];O<a.length&&a[O]<C;)O+=3;a.splice(O,0,x.children[S],x.children[S+1],x.children[S+2])}}return new Ln(e&&e.sort(_e),a)}function ye(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(new Rn(o.from+e,o.to+e,o.type))}return n}function ge(t,e,n,r,o,i,s){function a(t,e){for(var i=0;i<t.local.length;i++){var l=t.local[i].map(r,o,e);l?n.push(l):s.onRemove&&s.onRemove(t.local[i].spec)}for(var c=0;c<t.children.length;c+=3)a(t.children[c+2],t.children[c]+e+1)}for(var l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return n}function me(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,o=null,i=0,s=void 0;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),t[i]=null);return o}function be(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function we(t,e,n,r){var o=[],i=!1;e.forEach(function(e,s){var a=me(t,e,s+n);if(a){i=!0;var l=we(a,e,n+s+1,r);l!=Nn&&o.push(s,s+e.nodeSize,l)}});for(var s=ye(i?be(t):t,-n).sort(_e),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new Ln(s,o):Nn}function _e(t,e){return t.from-e.from||t.to-e.to}function xe(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var o=n+1;o<e.length;o++){var i=e[o];{if(i.from!=r.from){i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),ke(e,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),ke(e,o+1,i.copy(r.to,i.to)))}}}return e}function ke(t,e,n){for(;e<t.length&&_e(n,t[e])>0;)e++;t.splice(e,0,n)}function Se(t){var e=[];return t.someProp("decorations",function(n){var r=n(t.state);r&&r!=Nn&&e.push(r)}),t.cursorWrapper&&e.push(Ln.create(t.state.doc,[t.cursorWrapper.deco])),Bn.from(e)}function Oe(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r?e.class+=" "+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))}),[Rn.node(0,t.state.doc.content.size,e)]}function Ce(t){if(t.markCursor){var e=document.createElement("img");e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:Rn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Me(t){return!t.someProp("editable",function(e){return e(t.state)===!1})}function Te(t,e){var n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Ee(t){var e={};return t.someProp("nodeViews",function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}),e}function Pe(t,e){var n=0,r=0;for(var o in t){if(t[o]!=e[o])return!0;n++}for(var i in e)r++;return n!=r}Object.defineProperty(e,"__esModule",{value:!0});var Ae=n(218),je=n(216),De=n(219),Re={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Ie=/Edge\/(\d+)/.exec(navigator.userAgent),ze=/MSIE \d/.test(navigator.userAgent),Fe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);Re.mac=/Mac/.test(navigator.platform);var Le=Re.ie=!!(ze||Fe||Ie);Re.ie_version=ze?document.documentMode||6:Fe?+Fe[1]:Ie?+Ie[1]:null,Re.gecko=!Le&&/gecko\/(\d+)/i.test(navigator.userAgent),Re.gecko_version=Re.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Ne=!Le&&/Chrome\/(\d+)/.exec(navigator.userAgent);Re.chrome=!!Ne,Re.chrome_version=Ne&&+Ne[1],Re.ios=!Le&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Re.android=/Android \d/.test(navigator.userAgent),Re.webkit="webkitFontSmoothing"in document.documentElement.style,Re.safari=/Apple Computer/.test(navigator.vendor),Re.webkit_version=Re.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Be=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ve=function(t){var e=t.parentNode;return e&&11==e.nodeType?e.host:e},He=function(t,e,n){var r=document.createRange();return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},Ue=function(t,e,n,o){return n&&(r(t,e,n,o,-1)||r(t,e,n,o,1))},Ke=/^(img|br|input|textarea|hr)$/i,qe=function(t){var e=t.isCollapsed;return e&&Re.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e},We=null,Ge=/[\u0590-\u08ac]/,$e=null,Ye=null,Xe=!1,Je=0,Ze=1,Qe=2,tn=3,en=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=Je},nn={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};en.prototype.matchesWidget=function(){return!1},en.prototype.matchesMark=function(){return!1},en.prototype.matchesNode=function(){return!1},en.prototype.matchesHack=function(){return!1},nn.beforePosition.get=function(){return!1},en.prototype.parseRule=function(){return null},en.prototype.stopEvent=function(){return!1},nn.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},nn.border.get=function(){return 0},en.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},en.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var r=this.children[e];if(r==t)return n;n+=r.size}},nn.posBefore.get=function(){return this.parent.posBeforeChild(this)},nn.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},nn.posAfter.get=function(){return this.posBefore+this.size},nn.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},en.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,o;if(t==this.contentDOM)r=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,s;if(t==this.contentDOM)i=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&(!(s=i.pmViewDesc)||s.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}var a;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var l=t;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.parentNode.firstChild!=l)break}if(null==a&&e==t.childNodes.length)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},en.prototype.nearestDesc=function(t,e){for(var n=!0,r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==t.nodeType?t:t.parentNode):o.nodeDOM==t))return o;n=!1}}},en.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},en.prototype.posFromDOM=function(t,e,n){for(var r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,n)}return-1},en.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],o=n+r.size;if(n==t&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<o)return r.descAt(t-n-r.border);n=o}},en.prototype.domFromPos=function(t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var e=0,n=0;;n++){if(e==t){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:Be(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+t);var r=this.children[n],o=e+r.size;if(t<o)return r.domFromPos(t-e-r.border);e=o}},en.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,s=0;;s++){var a=this.children[s],l=i+a.size;if(r==-1&&t<=l){var c=i+a.border;if(t>=c&&e<=l-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,c);t=i;for(var u=s;u>0;u--){var p=this.children[u-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){r=Be(p.dom)+1;break}t-=p.size}r==-1&&(r=0)}if(r>-1&&(l>e||s==this.children.length-1)){e=l;for(var h=s+1;h<this.children.length;h++){var f=this.children[h];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=Be(f.dom);break}e+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}i=l}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}},en.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},en.prototype.domAfterPos=function(t){var e=this.domFromPos(t),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},en.prototype.setSelection=function(t,e,n,r){for(var o=Math.min(t,e),i=Math.max(t,e),s=0,a=0;s<this.children.length;s++){var l=this.children[s],c=a+l.size;if(o>a&&i<c)return l.setSelection(t-a-l.border,e-a-l.border,n,r);a=c}var u=this.domFromPos(t),p=this.domFromPos(e),h=n.getSelection();if(r||!Ue(u.node,u.offset,h.anchorNode,h.anchorOffset)||!Ue(p.node,p.offset,h.focusNode,h.focusOffset)){var f=!1;if(h.extend||t==e){h.collapse(u.node,u.offset);try{t!=e&&h.extend(p.node,p.offset),f=!0}catch(t){if(!(t instanceof DOMException))throw t}}if(!f){if(t>e){var d=u;u=p,p=d}var v=document.createRange();v.setEnd(p.node,p.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}},en.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},nn.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},en.prototype.markDirty=function(t,e){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?t<=i&&e>=n:t<i&&e>n){var s=n+o.border,a=i-o.border;if(t>=s&&e<=a)return this.dirty=t==n||e==i?Qe:Ze,void(t!=s||e!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(t-s,e-s):o.dirty=tn);o.dirty=tn}n=i}this.dirty=Qe},en.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=1==t?Qe:Ze;e.dirty<n&&(e.dirty=n)}},Object.defineProperties(en.prototype,nn);var rn=[],on=function(t){function e(e,n,r,o){var i,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o})),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,rn,s,null),this.widget=n,i=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return this.dirty==Je&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},Object.defineProperties(e.prototype,n),e}(en),sn=function(t){function e(e,n,r,o){t.call(this,e,rn,n,null),this.textDOM=r,this.text=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(en),an=function(t){function e(e,n,r,o){t.call(this,e,[],r,o),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,r,o){var i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return s&&s.dom||(s=je.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return this.dirty!=tn&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),this.dirty!=Je){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Je}},e.prototype.slice=function(t,n,r){var o=e.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=$(i,n,s,r)),t>0&&(i=$(i,0,t,r));for(var a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o},e}(en),ln=function(t){function e(e,n,r,o,i,s,a,l,c){t.call(this,e,n.isLeaf?rn:[],i,s),this.nodeDOM=a,this.node=n,this.outerDeco=r,this.innerDeco=o,s&&this.updateChildren(l,c)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0}};return e.create=function(t,n,r,o,i,s){var a,l,c=i.nodeViews[n.type.name],u=c&&c(n,i,function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:s},r),p=u&&u.dom,h=u&&u.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(n.text);else p||(a=je.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n)),p=a.dom,h=a.contentDOM);h||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var f=p;return p=N(p,r,n),u?l=new pn(t,n,r,o,p,h,f,u,i,s+1):n.isText?new cn(t,n,r,o,p,f,i):new e(t,n,r,o,p,h,f,i,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?je.Fragment.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return this.dirty==Je&&t.eq(this.node)&&B(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=this.node.inlineContent,o=e,i=r&&t.composing&&this.localCompositionNode(t,e),s=new fn(this,i&&i.node);K(this.node,this.innerDeco,function(e,i,a){e.spec.marks?s.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!a&&s.syncToMarks(i==n.node.childCount?je.Mark.none:n.node.child(i).marks,r,t),s.placeWidget(e,t,o)},function(e,n,i,a){s.syncToMarks(e.marks,r,t),s.findNodeMatch(e,n,i,a)||s.updateNextNode(e,n,i,t,a)||s.addNode(e,n,i,t,o),o+=e.nodeSize}),s.syncToMarks(rn,r,t),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||this.dirty==Qe)&&(i&&this.protectLocalComposition(t,i),R(this.contentDOM,this.children,t),Re.ios&&q(this.dom))},e.prototype.localCompositionNode=function(t,e){var n=t.state.selection,r=n.from,o=n.to;if(!(!(t.state.selection instanceof Ae.TextSelection)||r<e||o>e+this.node.content.size)){var i=t.root.getSelection(),s=W(i.focusNode,i.focusOffset);if(s&&this.dom.contains(s.parentNode)){var a=s.nodeValue,l=G(this.node.content,a,r-e,o-e);return l<0?null:{node:s,pos:l,text:a}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,r=e.pos,o=e.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var s=new sn(this,i,n,o);t.compositionNodes.push(s),this.children=$(this.children,r,r+o.length,t,s)}},e.prototype.update=function(t,e,n,r){return!(this.dirty==tn||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Je},e.prototype.updateOuterDeco=function(t){if(!B(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=F(this.dom,this.nodeDOM,z(this.outerDeco,this.node,e),z(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},Object.defineProperties(e.prototype,n),e}(en),cn=function(t){function e(e,n,r,o,i,s,a){t.call(this,e,n,r,o,i,null,s,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){for(var t=this.nodeDOM.parentNode;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,n,r){return!(this.dirty==tn||this.dirty!=Je&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),this.dirty==Je&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=Je,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,r){var o=this.node.cut(t,n),i=document.createTextNode(o.text);return new e(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},e}(ln),un=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(){return this.dirty==Je},e}(en),pn=function(t){function e(e,n,r,o,i,s,a,l,c,u){t.call(this,e,n,r,o,i,s,a,c,u),this.spec=l}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,r,o){if(this.dirty==tn)return!1;if(this.spec.update){var i=this.spec.update(e,n);return i&&this.updateInner(e,n,r,o),i}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,o)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,o)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(ln);I.prototype=Object.create(null);var hn=[new I],fn=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1;var n=H(t.node.content,t.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};fn.prototype.getPreMatch=function(t){return t>=this.preMatchOffset?this.preMatched[t-this.preMatchOffset]:null},fn.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},fn.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},fn.prototype.syncToMarks=function(t,e,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,t.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&t[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=Je,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[o])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var l=an.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}},fn.prototype.findNodeMatch=function(t,e,n,r){var o=-1,i=r<0?void 0:this.getPreMatch(r),s=this.top.children;if(i&&i.matchesNode(t,e,n))o=s.indexOf(i);else for(var a=this.index,l=Math.min(s.length,a+5);a<l;a++){var c=s[a];if(c.matchesNode(t,e,n)&&this.preMatched.indexOf(c)<0){o=a;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},fn.prototype.updateNextNode=function(t,e,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var s=this.top.children[i];if(s instanceof ln){var a=this.preMatched.indexOf(s);if(a>-1&&a+this.preMatchOffset!=o)return!1;var l=s.dom,c=this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&s.dirty!=tn&&B(e,s.outerDeco));if(!c&&s.update(t,e,n,r))return this.destroyBetween(this.index,i),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},fn.prototype.addNode=function(t,e,n,r,o){this.top.children.splice(this.index++,0,ln.create(this.top,t,e,n,r,o)),this.changed=!0},fn.prototype.placeWidget=function(t,e,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){var o=new on(this.top,t,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},fn.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof an;)t=t.children[t.children.length-1];if(!t||!(t instanceof cn)||/\n$/.test(t.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var e=document.createElement("br");this.top.children.splice(this.index++,0,new un(this.top,rn,e,null)),this.changed=!0}};var dn=Re.safari||Re.chrome&&Re.chrome_version<63,vn={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},yn=null,gn={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},mn=Re.ie&&Re.ie_version<=11,bn=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};bn.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},bn.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var wn=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);Re.ie&&Re.ie_version<=11&&t.some(function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length})?n.flushSoon():n.flush()}),this.currentSelection=new bn,mn&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};wn.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){t.flushingSoon=-1,t.flush()},20))},wn.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},wn.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,gn),mn&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},wn.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(function(){return t.flush()},20)}this.observer.disconnect()}mn&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},wn.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},wn.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},wn.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return t.suppressingSelectionUpdates=!1},50)},wn.prototype.onSelectionChange=function(){if(wt(this.view)){if(this.suppressingSelectionUpdates)return pt(this.view);if(Re.ie&&Re.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&Ue(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},wn.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},wn.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},wn.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&_t(this.view)&&!this.ignoreSelectionChange(e),r=-1,o=-1,i=!1,s=[];if(this.view.editable)for(var a=0;a<t.length;a++){var l=this.registerMutation(t[a],s);l&&(r=r<0?l.from:Math.min(l.from,r),o=o<0?l.to:Math.max(l.to,o),l.typeOver&&(i=!0))}if(Re.gecko&&s.length>1){var c=s.filter(function(t){return"BR"==t.nodeName});if(2==c.length){var u=c[0],p=c[1];u.parentNode&&u.parentNode.parentNode==p.parentNode?p.remove():u.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),Ht(this.view)),this.handleDOMChange(r,o,i,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||pt(this.view))}},wn.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;
if("childList"==t.type){var r=t.previousSibling,o=t.nextSibling;if(Re.ie&&Re.ie_version<=11&&t.addedNodes.length)for(var i=0;i<t.addedNodes.length;i++){var s=t.addedNodes[i],a=s.previousSibling,l=s.nextSibling;(!a||Array.prototype.indexOf.call(t.addedNodes,a)<0)&&(r=a),(!l||Array.prototype.indexOf.call(t.addedNodes,l)<0)&&(o=l)}for(var c=r&&r.parentNode==t.target?Be(r)+1:0,u=n.localPosFromDOM(t.target,c,-1),p=o&&o.parentNode==t.target?Be(o):t.target.childNodes.length,h=0;h<t.addedNodes.length;h++)e.push(t.addedNodes[h]);var f=n.localPosFromDOM(t.target,p,1);return{from:u,to:f}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var _n=!1,xn={},kn={};kn.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!ae(t,e))if(t.domObserver.forceFlush(),t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!Re.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",function(n){return n(t,e)})||ct(t,e)?e.preventDefault():Kt(t,"key");else{var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout(function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",function(e){return e(t,a(13,"Enter"))}),t.lastIOSEnter=0)},200)}},kn.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},kn.keypress=function(t,e){if(!(ae(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||Re.mac&&e.metaKey)){if(t.someProp("handleKeyPress",function(n){return n(t,e)}))return void e.preventDefault();var n=t.state.selection;if(!(n instanceof Ae.TextSelection&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(e.charCode);t.someProp("handleTextInput",function(e){return e(t,n.$from.pos,n.$to.pos,r)})||t.dispatch(t.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};var Sn=Re.mac?"metaKey":"ctrlKey";xn.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=se(t),r=Date.now(),o="singleClick";r-t.lastClick.time<500&&Jt(e,t.lastClick)&&!e[Sn]&&("singleClick"==t.lastClick.type?o="doubleClick":"doubleClick"==t.lastClick.type&&(o="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};var i=t.posAtCoords(Xt(e));i&&("singleClick"==o?t.mouseDown=new On(t,i,e,n):("doubleClick"==o?re:oe)(t,i.pos,i.inside,e)?e.preventDefault():Kt(t,"pointer"))};var On=function(t,e,n,r){var o=this;this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=r,this.selectNode=n[Sn],this.allowDefault=n.shiftKey;var i,s;if(e.inside>-1)i=t.state.doc.nodeAt(e.inside),s=e.inside;else{var a=t.state.doc.resolve(e.pos);i=a.parent,s=a.depth?a.before():0}this.mightDrag=null;var l=r?null:n.target,c=l?t.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null,(i.type.spec.draggable&&i.type.spec.selectable!==!1||t.state.selection instanceof Ae.NodeSelection&&s==t.state.selection.from)&&(this.mightDrag={node:i,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Re.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){return o.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Kt(t,"pointer")};On.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},On.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Xt(t))),this.allowDefault||!e?Kt(this.view,"pointer"):ne(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():this.flushed||Re.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Re.chrome&&!(this.view.state.selection instanceof Ae.TextSelection)&&(e.pos==this.view.state.selection.from||e.pos==this.view.state.selection.to)?(Qt(this.view,Ae.Selection.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):Kt(this.view,"pointer")}},On.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),Kt(this.view,"pointer")},xn.touchdown=function(t){se(t),Kt(t,"pointer")},xn.contextmenu=function(t){return se(t)};var Cn=Re.android?5e3:-1;kn.compositionstart=kn.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(function(t){return t.type.spec.inclusive===!1})))t.markCursor=t.state.storedMarks||n.marks(),ce(t,!0),t.markCursor=null;else if(ce(t),Re.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(3==s.nodeType){r.collapse(s,s.nodeValue.length);break}o=s,i=-1}t.composing=!0}le(t,Cn)},kn.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,le(t,20))};var Mn=Re.ie&&Re.ie_version<15||Re.ios&&Re.webkit_version<604;xn.copy=kn.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var o=Mn?null:e.clipboardData,i=n.content(),s=At(t,i),a=s.dom,l=s.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):ue(t,a),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},kn.paste=function(t,e){var n=Mn?null:e.clipboardData,r=n&&n.getData("text/html"),o=n&&n.getData("text/plain");n&&(r||o||n.files.length)?(fe(t,o,r,e),e.preventDefault()):he(t,e)};var Tn=function(t,e){this.slice=t,this.move=e},En=Re.mac?"altKey":"ctrlKey";xn.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var r=t.state.selection,o=r.empty?null:t.posAtCoords(Xt(e));if(o&&o.pos>=r.from&&o.pos<=(r instanceof Ae.NodeSelection?r.to-1:r.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(Ae.NodeSelection.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var i=t.docView.nearestDesc(e.target,!0);if(!i||!i.node.type.spec.draggable||i==t.docView)return;t.dispatch(t.state.tr.setSelection(Ae.NodeSelection.create(t.state.doc,i.posBefore)))}var s=t.state.selection.content(),a=At(t,s),l=a.dom,c=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Mn?"Text":"text/html",l.innerHTML),Mn||e.dataTransfer.setData("text/plain",c),t.dragging=new Tn(s,!e[En])}},xn.dragend=function(t){window.setTimeout(function(){return t.dragging=null},50)},kn.dragover=kn.dragenter=function(t,e){return e.preventDefault()},kn.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var r=t.posAtCoords(Xt(e));if(r){var o=t.state.doc.resolve(r.pos);if(o){var i=n&&n.slice||jt(t,e.dataTransfer.getData(Mn?"Text":"text/plain"),Mn?null:e.dataTransfer.getData("text/html"),!1,o);if(t.someProp("handleDrop",function(r){return r(t,e,i||je.Slice.empty,n&&n.move)}))return void e.preventDefault();if(i){e.preventDefault();var s=i?De.dropPoint(t.state.doc,o.pos,i):o.pos;null==s&&(s=o.pos);var a=t.state.tr;n&&n.move&&a.deleteSelection();var l=a.mapping.map(s),c=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,u=a.doc;if(c?a.replaceRangeWith(l,l,i.content.firstChild):a.replaceRange(l,l,i),!a.doc.eq(u)){var p=a.doc.resolve(l);c&&Ae.NodeSelection.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild)?a.setSelection(new Ae.NodeSelection(p)):a.setSelection(bt(t,p,a.doc.resolve(a.mapping.map(s)))),t.focus(),t.dispatch(a.setMeta("uiEvent","drop"))}}}}}},xn.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&pt(t)},20))},xn.blur=function(t){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),t.domObserver.currentSelection.set({}),t.focused=!1)},xn.beforeinput=function(t,e){if(Re.chrome&&Re.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout(function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",function(e){return e(t,a(8,"Backspace"))}))){var e=t.state.selection,r=e.$cursor;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())}},50)}};for(var Pn in kn)xn[Pn]=kn[Pn];var An=function(t,e){this.spec=e||Fn,this.side=this.spec.side||0,this.toDOM=t};An.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,this.side<0?-1:1),i=o.pos,s=o.deleted;return s?null:new Rn(i-n,i-n,this)},An.prototype.valid=function(){return!0},An.prototype.eq=function(t){return this==t||t instanceof An&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&de(this.spec,t.spec))};var jn=function(t,e){this.spec=e||Fn,this.attrs=t};jn.prototype.map=function(t,e,n,r){var o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,i=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new Rn(o,i,this)},jn.prototype.valid=function(t,e){return e.from<e.to},jn.prototype.eq=function(t){return this==t||t instanceof jn&&de(this.attrs,t.attrs)&&de(this.spec,t.spec)},jn.is=function(t){return t.type instanceof jn};var Dn=function(t,e){this.spec=e||Fn,this.attrs=t};Dn.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,1);if(o.deleted)return null;var i=t.mapResult(e.to+r,-1);return i.deleted||i.pos<=o.pos?null:new Rn(o.pos-n,i.pos-n,this)},Dn.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),r=n.index,o=n.offset;return o==e.from&&o+t.child(r).nodeSize==e.to},Dn.prototype.eq=function(t){return this==t||t instanceof Dn&&de(this.attrs,t.attrs)&&de(this.spec,t.spec)};var Rn=function(t,e,n){this.from=t,this.to=e,this.type=n},In={spec:{configurable:!0}};Rn.prototype.copy=function(t,e){return new Rn(t,e,this.type)},Rn.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},Rn.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},Rn.widget=function(t,e,n){return new Rn(t,t,new An(e,n))},Rn.inline=function(t,e,n,r){return new Rn(t,e,new jn(n,r))},Rn.node=function(t,e,n,r){return new Rn(t,e,new Dn(n,r))},In.spec.get=function(){return this.type.spec},Object.defineProperties(Rn.prototype,In);var zn=[],Fn={},Ln=function(t,e){this.local=t&&t.length?t:zn,this.children=e&&e.length?e:zn};Ln.create=function(t,e){return e.length?we(e,t,0,Fn):Nn},Ln.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},Ln.prototype.findInner=function(t,e,n,r,o){for(var i=0;i<this.local.length;i++){var s=this.local[i];s.from<=e&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var l=this.children[a]+1;this.children[a+2].findInner(t-l,e-l,n,r+l,o)}},Ln.prototype.map=function(t,e,n){return this==Nn||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Fn)},Ln.prototype.mapInner=function(t,e,n,r,o){for(var i,s=0;s<this.local.length;s++){var a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(i||(i=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?ve(this.children,i,t,e,n,r,o):i?new Ln(i.sort(_e)):Nn},Ln.prototype.add=function(t,e){return e.length?this==Nn?Ln.create(t,e):this.addInner(t,e,0):this},Ln.prototype.addInner=function(t,e,n){var r,o=this,i=0;t.forEach(function(t,s){var a,l=s+n;if(a=me(e,t,l)){for(r||(r=o.children.slice());i<r.length&&r[i]<s;)i+=3;r[i]==s?r[i+2]=r[i+2].addInner(t,a,l+1):r.splice(i,0,s,s+t.nodeSize,we(a,t,l+1,Fn)),i+=3}});var s=ye(i?be(e):e,-n);return new Ln(s.length?this.local.concat(s).sort(_e):this.local,r||this.children)},Ln.prototype.remove=function(t){return 0==t.length||this==Nn?this:this.removeInner(t,0)},Ln.prototype.removeInner=function(t,e){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,s=n[o]+e,a=n[o+1]+e,l=0,c=void 0;l<t.length;l++)(c=t[l])&&c.from>s&&c.to<a&&(t[l]=null,(i||(i=[])).push(c));if(i){n==this.children&&(n=this.children.slice());var u=n[o+2].removeInner(i,s+1);u!=Nn?n[o+2]=u:(n.splice(o,3),o-=3)}}if(r.length)for(var p=0,h=void 0;p<t.length;p++)if(h=t[p])for(var f=0;f<r.length;f++)r[f].eq(h,e)&&(r==this.local&&(r=this.local.slice()),r.splice(f--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Ln(r,n):Nn},Ln.prototype.forChild=function(t,e){if(this==Nn)return this;if(e.isLeaf)return Ln.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(n=this.children[o+2]);break}for(var i=t+1,s=i+e.content.size,a=0;a<this.local.length;a++){var l=this.local[a];if(l.from<s&&l.to>i&&l.type instanceof jn){var c=Math.max(i,l.from)-i,u=Math.min(s,l.to)-i;c<u&&(r||(r=[])).push(l.copy(c,u))}}if(r){var p=new Ln(r.sort(_e));return n?new Bn([p,n]):p}return n||Nn},Ln.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof Ln)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},Ln.prototype.locals=function(t){return xe(this.localsInner(t))},Ln.prototype.localsInner=function(t){if(this==Nn)return zn;if(t.inlineContent||!this.local.some(jn.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof jn||e.push(this.local[n]);return e};var Nn=new Ln;Ln.empty=Nn,Ln.removeOverlap=xe;var Bn=function(t){this.members=t};Bn.prototype.forChild=function(t,e){if(e.isLeaf)return Ln.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(t,e);o!=Nn&&(o instanceof Bn?n=n.concat(o.members):n.push(o))}return Bn.from(n)},Bn.prototype.eq=function(t){if(!(t instanceof Bn)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},Bn.prototype.locals=function t(e){for(var n,r=!0,o=0;o<this.members.length;o++){var t=this.members[o].localsInner(e);if(t.length)if(n){r&&(n=n.slice(),r=!1);for(var i=0;i<t.length;i++)n.push(t[i])}else n=t}return n?xe(r?n:n.sort(_e)):zn},Bn.from=function(t){switch(t.length){case 0:return Nn;case 1:return t[0];default:return new Bn(t)}};var Vn=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Me(this),this.markCursor=null,this.cursorWrapper=null,Ce(this),this.nodeViews=Ee(this),this.docView=D(this.state.doc,Oe(this),Se(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,Ut(this),this.pluginViews=[],this.updatePluginViews()},Hn={props:{configurable:!0},root:{configurable:!0}};Hn.props.get=function(){if(this._props.state!=this.state){var t=this._props;this._props={};for(var e in t)this._props[e]=t[e];this._props.state=this.state}return this._props},Vn.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Wt(this),this._props=t,this.updateStateInner(t.state,!0)},Vn.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];e.state=this.state;for(var r in t)e[r]=t[r];this.update(e)},Vn.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},Vn.prototype.updateStateInner=function(t,e){var n=this,r=this.state,o=!1;if(this.state=t,e){var i=Ee(this);Pe(i,this.nodeViews)&&(this.nodeViews=i,o=!0),Wt(this)}this.editable=Me(this),Ce(this);var s=Se(this),a=Oe(this),l=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",c=o||!this.docView.matchesNode(t.doc,a,s),u=c||!t.selection.eq(r.selection),f="preserve"==l&&u&&null==this.dom.style.overflowAnchor&&h(this);if(u){this.domObserver.stop();var v=c&&(Re.ie||Re.chrome)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&Te(r.selection,t.selection);if(c){var y=Re.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(t.doc,a,s,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=D(t.doc,a,s,this.dom,this)),y&&!this.trackWrites&&(v=!0)}v||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&xt(this))?pt(this,v):(gt(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==l)this.dom.scrollTop=0;else if("to selection"==l){var g=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(t){return t(n)})||(t.selection instanceof Ae.NodeSelection?p(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),g):p(this,this.coordsAtPos(t.selection.head),g))}else f&&d(f)},Vn.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},Vn.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var o=this.state.plugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},Vn.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var s=o[i].props[t];if(null!=s&&(n=e?e(s):s))return n}},Vn.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Vn.prototype.focus=function(){this.domObserver.stop(),this.editable&&y(this.dom),pt(this),this.domObserver.start()},Hn.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},Vn.prototype.posAtCoords=function(t){return S(this,t)},Vn.prototype.coordsAtPos=function(t){return C(this,t)},Vn.prototype.domAtPos=function(t){return this.docView.domFromPos(t)},Vn.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},Vn.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},Vn.prototype.endOfTextblock=function(t,e){return j(this,e||this.state,t)},Vn.prototype.destroy=function(){this.docView&&(qt(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Se(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Vn.prototype.dispatchEvent=function(t){return Yt(this,t)},Vn.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(Vn.prototype,Hn),e.Decoration=Rn,e.DecorationSet=Ln,e.EditorView=Vn,e.__endComposition=ce,e.__parseFromClipboard=jt,e.__serializeForClipboard=At},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(233),o=n(241),i=n(243),s=n(232),a="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);e.buildKeymap=function(t){var e={};if(e["Mod-z"]=o.undo,e["Shift-Mod-z"]=o.redo,e.Backspace=r.chainCommands(i.undoInputRule,r.deleteSelection,r.joinBackward,r.selectNodeBackward),e.Enter=r.chainCommands(r.newlineInCode,r.createParagraphNear,r.liftEmptyBlock,r.splitBlockKeepMarks),a||(e["Mod-y"]=o.redo),t.marks.strong&&(e["Mod-b"]=r.toggleMark(t.marks.strong)),t.marks.em&&(e["Mod-i"]=r.toggleMark(t.marks.em)),t.marks.underline&&(e["Mod-u"]=r.toggleMark(t.marks.underline)),t.nodes.hard_break){var n=t.nodes.hard_break,s=r.chainCommands(r.exitCode,function(t,e){return e(t.tr.replaceSelectionWith(n.create()).scrollIntoView()),!0});e["Shift-Enter"]=s}return e},e.buildListKeymap=function(t){var e={};return t.nodes.list_item&&(e.Enter=s.splitListItemKeepMarks(t.nodes.list_item)),e}},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t,e){var n;return t.forEach(function(t,r){if(t.selection&&0==e--)return n=r,!1}),t.slice(n)}function i(t,e,n,r){var o,i=n.getMeta(M);if(i)return i.historyState;n.getMeta(T)&&(t=new k(t.done,t.undone,null,0));var c=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(c&&c.getMeta(M))return c.getMeta(M).redo?new k(t.done.addTransform(n,null,r,u(e)),t.undone,a(n.mapping.maps[n.steps.length-1]),t.prevTime):new k(t.done,t.undone.addTransform(n,null,r,u(e)),null,t.prevTime);if(n.getMeta("addToHistory")===!1||c&&c.getMeta("addToHistory")===!1)return(o=n.getMeta("rebased"))?new k(t.done.rebased(n,o),t.undone.rebased(n,o),l(t.prevRanges,n.mapping),t.prevTime):new k(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),l(t.prevRanges,n.mapping),t.prevTime);var p=0==t.prevTime||!c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!s(n,t.prevRanges)),h=c?l(t.prevRanges,n.mapping):a(n.mapping.maps[n.steps.length-1]);return new k(t.done.addTransform(n,p?e.selection.getBookmark():null,r,u(e)),_.empty,h,n.time)}function s(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach(function(t,r){for(var o=0;o<e.length;o+=2)t<=e[o+1]&&r>=e[o]&&(n=!0)}),n}function a(t){var e=[];return t.forEach(function(t,n,r,o){return e.push(r,o)}),e}function l(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function c(t,e,n,r){var o=u(e),i=M.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,o);if(s){var a=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,o),c=new k(r?l:s.remaining,r?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(M,{redo:r,historyState:c}).scrollIntoView())}}function u(t){var e=t.plugins;if(C!=e){O=!1,C=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){O=!0;break}}return O}function p(t){return t.setMeta(T,!0)}function h(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new b.Plugin({key:M,state:{init:function(){return new k(_.empty,_.empty,null,0)},apply:function(e,n,r){return i(n,r,e,t)}},config:t})}function f(t,e){var n=M.getState(t);return!(!n||0==n.done.eventCount)&&(e&&c(n,t,e,!1),!0)}function d(t,e){var n=M.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&c(n,t,e,!0),!0)}function v(t){var e=M.getState(t);return e?e.done.eventCount:0}function y(t){var e=M.getState(t);return e?e.undone.eventCount:0}Object.defineProperty(e,"__esModule",{value:!0});var g=r(n(242)),m=n(219),b=n(218),w=500,_=function(t,e){this.items=t,this.eventCount=e};_.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r=this.items.length;;r--){var o=this.items.get(r-1);if(o.selection){--r;break}}var i,s;e&&(i=this.remapping(r,this.items.length),s=i.maps.length);var a,l,c=t.tr,u=[],p=[];return this.items.forEach(function(t,e){if(!t.step)return i||(i=n.remapping(r,e+1),s=i.maps.length),s--,void p.push(t);if(i){p.push(new x(t.map));var o,h=t.step.map(i.slice(s));h&&c.maybeStep(h).doc&&(o=c.mapping.maps[c.mapping.maps.length-1],u.push(new x(o,null,null,u.length+p.length))),s--,o&&i.appendMap(o,s)}else c.maybeStep(t.step);return t.selection?(a=i?t.selection.map(i.slice(s)):t.selection,l=new _(n.items.slice(0,r).append(p.reverse().concat(u)),n.eventCount-1),!1):void 0},this.items.length,0),{remaining:l,transform:c,selection:a}},_.prototype.addTransform=function(t,e,n,r){for(var i=[],s=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null,c=0;c<t.steps.length;c++){var u=t.steps[c].invert(t.docs[c]),p=new x(t.mapping.maps[c],u,e),h=void 0;(h=l&&l.merge(p))&&(p=h,c?i.pop():a=a.slice(0,a.length-1)),i.push(p),e&&(s++,e=null),r||(l=p)}var f=s-n.depth;return f>S&&(a=o(a,f),s-=f),new _(a.append(i),s)},_.prototype.remapping=function(t,e){var n=new m.Mapping;return this.items.forEach(function(e,r){var o=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,o)},t,e),n},_.prototype.addMaps=function(t){return 0==this.eventCount?this:new _(this.items.append(t.map(function(t){return new x(t)})),this.eventCount)},_.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),o=t.mapping,i=t.steps.length,s=this.eventCount;this.items.forEach(function(t){t.selection&&s--},r);var a=e;this.items.forEach(function(e){var r=o.getMirror(--a);if(null!=r){i=Math.min(i,r);var l=o.maps[r];if(e.step){var c=t.steps[r].invert(t.docs[r]),u=e.selection&&e.selection.map(o.slice(a+1,r));u&&s++,n.push(new x(l,c,u))}else n.push(new x(l))}},r);for(var l=[],c=e;c<i;c++)l.push(new x(o.maps[c]));var u=this.items.slice(0,r).append(l).append(n),p=new _(u,s);return p.emptyItemCount()>w&&(p=p.compress(this.items.length-n.length)),p},_.prototype.emptyItemCount=function(){var t=0;return this.items.forEach(function(e){e.step||t++}),t},_.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach(function(i,s){if(s>=t)r.push(i),i.selection&&o++;else if(i.step){var a=i.step.map(e.slice(n)),l=a&&a.getMap();if(n--,l&&e.appendMap(l,n),a){var c=i.selection&&i.selection.map(e.slice(n));c&&o++;var u,p=new x(l.invert(),a,c),h=r.length-1;(u=r.length&&r[h].merge(p))?r[h]=u:r.push(p)}}else i.map&&n--},this.items.length,0),new _(g.from(r.reverse()),o)},_.empty=new _(g.empty,0);var x=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};x.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new x(e.getMap().invert(),e,this.selection)}};var k=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},S=20,O=!1,C=null,M=new b.PluginKey("history"),T=new b.PluginKey("closeHistory");e.HistoryState=k,e.closeHistory=p,e.history=h,e.redo=d,e.redoDepth=y,e.undo=f,e.undoDepth=v},function(t,e){"use strict";var n=200,r=function(){};r.prototype.append=function(t){return t.length?(t=r.from(t),!this.length&&t||t.length<n&&this.leafAppend(t)||this.length<n&&t.leafPrepend(this)||this.appendInner(t)):this},r.prototype.prepend=function(t){return t.length?r.from(t).append(this):this},r.prototype.appendInner=function(t){return new i(this,t)},r.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?r.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},r.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},r.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},r.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(e,n){return r.push(t(e,n))},e,n),r},r.from=function(t){return t instanceof r?t:t&&t.length?new o(t):r.empty};var o=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var o=e;o<n;o++)if(t(this.values[o],r+o)===!1)return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var o=e-1;o>=n;o--)if(t(this.values[o],r+o)===!1)return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=n)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=n)return new e(t.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(r);r.empty=new o([]);var i=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&this.left.forEachInner(t,e,Math.min(n,o),r)===!1)&&(!(n>o&&this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o)===!1)&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o)===!1)&&(!(n<o&&this.left.forEachInvertedInner(t,Math.min(e,o),n,r)===!1)&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(r),s=r;t.exports=s},function(t,e,n){"use strict";function r(t){return function(e,n,r,o){var i=t;if(n[1]){var s=n[0].lastIndexOf(n[1]);i+=n[0].slice(s+n[1].length),r+=s;var a=r-o;a>0&&(i=n[0].slice(s-a,s)+i,r=o)}return e.tr.insertText(i,r,o)}}function o(t){var e=t.rules,n=new c.Plugin({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n?n:t.selectionSet||t.docChanged?null:e}},props:{handleTextInput:function(t,r,o,s){return i(t,r,o,s,e,n)},handleDOMEvents:{compositionend:function(t){setTimeout(function(){var r=t.state.selection,o=r.$cursor;o&&i(t,o.pos,o.pos,"",e,n)})}}},isInputRules:!0});return n}function i(t,e,n,r,o,i){if(t.composing)return!1;var s=t.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;for(var l=a.parent.textBetween(Math.max(0,a.parentOffset-h),a.parentOffset,null,"￼")+r,c=0;c<o.length;c++){var u=o[c].match.exec(l),p=u&&o[c].handler(s,u,e-(u[0].length-r.length),n);if(p)return t.dispatch(p.setMeta(i,{transform:p,from:e,to:n,text:r})),!0}return!1}function s(t,e){for(var n=t.plugins,r=0;r<n.length;r++){var o=n[r],i=void 0;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){for(var s=t.tr,a=i.transform,l=a.steps.length-1;l>=0;l--)s.step(a.steps[l].invert(a.docs[l]));var c=s.doc.resolve(i.from).marks();e(s.replaceWith(i.from,i.to,t.schema.text(i.text,c)))}return!0}}return!1}function a(t,e,n,r){return new p(t,function(t,o,i,s){var a=n instanceof Function?n(o):n,l=t.tr.delete(i,s),c=l.doc.resolve(i),p=c.blockRange(),h=p&&u.findWrapping(p,e,a);if(!h)return null;l.wrap(p,h);var f=l.doc.resolve(i-1).nodeBefore;return f&&f.type==e&&u.canJoin(l.doc,i-1)&&(!r||r(o,f))&&l.join(i-1),l})}function l(t,e,n){return new p(t,function(t,r,o,i){var s=t.doc.resolve(o),a=n instanceof Function?n(r):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e)?t.tr.delete(o,i).setBlockType(o,o,e,a):null;
})}Object.defineProperty(e,"__esModule",{value:!0});var c=n(218),u=n(219),p=function(t,e){this.match=t,this.handler="string"==typeof e?r(e):e},h=500,f=new p(/--$/,"—"),d=new p(/\.\.\.$/,"…"),v=new p(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),y=new p(/"$/,"”"),g=new p(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),m=new p(/'$/,"’"),b=[v,y,g,m];e.InputRule=p,e.closeDoubleQuote=y,e.closeSingleQuote=m,e.ellipsis=d,e.emDash=f,e.inputRules=o,e.openDoubleQuote=v,e.openSingleQuote=g,e.smartQuotes=b,e.textblockTypeInputRule=l,e.undoInputRule=s,e.wrappingInputRule=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bold={mark:"strong",altMarks:["b"],altStyle:{name:"font-weight",value:/^(bold(er)?|[5-9]\d{2,})$/}},e.italic={mark:"em",altMarks:["i"],altStyle:{name:"font-style",value:/^italic$/i}},e.underline={mark:"u",altStyle:{name:"text-decoration",value:/^underline$/i}},e.strikethrough={mark:"del",altStyle:{name:"text-decoration",value:/^line-through$/i}},e.subscript={mark:"sub"},e.superscript={mark:"sup"},e.link={mark:"link"},e.unlink={mark:"link"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(246);e.sanitize=function(t){return t=t.replace(/^[\s\S]+?<!--StartFragment-->\s*([\s\S]*?)\s*<!--EndFragment-->[\s\S]+$/,"$1"),t=t.replace(/<\/?[ovw]:[^>]*?>/gi,""),t=t.replace(/<\\?\??xml[^>]*>/gi,""),t=t.replace(/<(?:link|meta) [^>]+?>/gi,""),t=t.replace(/<style[^>]*?>\s*<\/style>/gi,""),t=t.replace(/<\/?st1:.*?>/gi,""),t=t.replace(/<a name="[a-zA-Z0-9_]+">/gim,""),t=t.replace(/v:shapes?="[^"]+"/gi,""),t=t.replace(/<!\[if !supportLists\]>/gi,""),t=t.replace(/<!\[endif\]>/gi,"")},e.removeComments=function(t){return t.replace(/<!--[\s\S]+?-->/g,"")},e.removeTag=function(t,e){return t.replace(new RegExp("<\\/?("+e+")(?:\\s[^>]*?)?>","gi"),"")},e.removeAttribute=function(t){t.ownerElement&&t.ownerElement.removeAttribute(t.name)},e.sanitizeClassAttr=function(t){/^Mso/.test(t.value)&&e.removeAttribute(t)};var o=/\s*;\s*/,i=/\s*:\s*/;e.sanitizeStyleAttr=function(t){var n,r,s=t.value.split(o).filter(function(t){return Boolean(t)}),a=t.ownerElement,l=a.style,c="";s.forEach(function(t){var e;e=t.split(i),n=e[0],r=e[1],void 0!==l[n]&&(c+=n+": "+r+"; ")}),c=c.trim(),c?t.value=c:e.removeAttribute(t)};var s=function(t){var e=t.parentNode;if(e){for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}},a=function(t,e){if(t.nodeType===Node.ELEMENT_NODE){for(var n=t.attributes.length-1;n>=0;n--){var r=t.attributes[n];e[r.name]?e[r.name](r):e["*"]&&e["*"](r)}"SPAN"===t.nodeName&&0===t.attributes.length&&s(t)}};e.pasteCleanup=function(t,n){var o=t;if(n.convertMsLists&&(o=r.convertMsLists(o)),n.stripTags&&(o=e.removeTag(o,n.stripTags)),n.attributes){var i=document.createElement("div");i.innerHTML=o,Array.from(i.querySelectorAll("*")).forEach(function(t){return a(t,n.attributes)}),o=i.innerHTML}return o}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=/style=['"]?[^'"]*?mso-list:\s*[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi,r=function(t){return t=t.replace(n,function(t,e,n){return'datalist="'+e+'" datalevel="'+n+'" '+t})},o=function(t){return/^MsoListParagraph/.test(t.className)},i=function(t){var e=t.innerHTML;return e=e.replace(/<!--(.|\s)*?-->/gi,""),e=e.replace(/<\/?[^>]+?\/?>/gm,"")},s=function(t,e){var n=document.createElement(t);return n.style.listStyleType=e,n},a=function(t){return/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(t)?null:/^o/.test(t)?"circle":"square"},l=function(t){var e=null;return/^\d/.test(t)||(e=(/^[a-z]/.test(t)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(t)?"roman":"alpha")),e},c=function(t,e){var n=[];Array.from(t).forEach(function(t){if(t.nodeType===Node.ELEMENT_NODE){var r=t;r.getAttribute("datalist")?(n.push(t),e.add(n)):o(r)&&n.length?n.push(t):(n=[],"DIV"===r.nodeName?c(r.children,e):"TABLE"===r.nodeName&&Array.from(r.querySelectorAll("td,th")).forEach(function(t){c(t.children,e)}))}})},u=function(t){var e=t.innerHTML,n=function(t){return t.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};return e=e.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g," "),/^[\u2022\u00b7\u00a7\u00d8oØüvn][\u00a0 ]+/.test(e)?{tag:"ul",style:a(n(i(t)))}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(e)?{tag:"ol",style:l(n(i(t)))}:void 0},p=function(t){var e,n=t.nodeName.toLowerCase();t.firstChild&&t.firstChild.nodeType===Node.COMMENT_NODE&&t.removeChild(t.firstChild),1===t.childNodes.length?e=t.firstChild.nodeType===Node.TEXT_NODE?i(t):t.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(t.removeChild(t.firstChild),3===t.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(t.firstChild.nodeValue)&&t.removeChild(t.firstChild),/^(&nbsp;|\s)+$/i.test(t.firstChild.innerHTML)&&t.removeChild(t.firstChild),e="p"!==n?"<"+n+">"+t.innerHTML+"</"+n+">":t.innerHTML),t.parentNode.removeChild(t);var r=document.createElement("li");return r.innerHTML=e,r},h=function(t){var e,n,r,i,a,l,c,h,f,d,v,y,g,m=-1,b={};for(h=0;h<t.length;h++){f=t[h],g={datalist:f.getAttribute("datalist"),datalevel:f.getAttribute("datalevel")};var w=g.datalist,_=u(f);if(d=_&&_.tag){if(v=g.datalevel||parseFloat(f.style.marginLeft||0),g.datalevel||f.style.marginLeft){var x=d+w;b[v]||(b[v]={}),(!n||n<0)&&(n=v,r=w,c=t.filter(function(t){return t.getAttribute("datalist")===String(r)}),i=c[c.length-1],l=s(d,_&&_.style),f.parentNode.insertBefore(l,f),m=v,b[v][x]=l),a=i===f,y=b[v][x],(v>m||!y)&&(y=s(d,_&&_.style),b[v][x]=y,e.appendChild(y)),e=p(f),y.appendChild(e),a?n=m=-1:m=v}}else!e||a&&!o(f)||(f.style.marginLeft&&(f.style.marginLeft=""),f.style.marginLeft&&(f.style.margin=""),e.appendChild(f))}};e.convertMsLists=function(t){var e=document.createElement("div");e.innerHTML=r(t);var n=new Set;return c(e.children,n),n.forEach(function(t){return h(t)}),e.innerHTML}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTable=function(t,e,n){for(var r,o=t.table,i=t.table_row,s=t.table_cell,a=[],l=0;l<e+1;l++){r=[];for(var c=0;c<n+1;c++)r.push(s.createAndFill());a.push(i.createAndFill(void 0,r))}return o.createAndFill(void 0,a)}},function(t,e,n){"use strict";function r(t){return void 0===t&&(t={}),new o.Plugin({view:function(e){return new s(e,t)}})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(218),i=n(219),s=function(t,e){var n=this;this.editorView=t,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map(function(e){var r=function(t){return n[e](t)};return t.dom.addEventListener(e,r),{name:e,handler:r}})};s.prototype.destroy=function(){var t=this;this.handlers.forEach(function(e){var n=e.name,r=e.handler;return t.editorView.dom.removeEventListener(n,r)})},s.prototype.update=function(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&this.updateOverlay()},s.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},s.prototype.updateOverlay=function(){var t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){var n=e.nodeBefore,r=e.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!t){var s=this.editorView.coordsAtPos(this.cursorPos);t={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var l=!a||a==document.body&&"static"==getComputedStyle(a).position?{left:-pageXOffset,top:-pageYOffset}:a.getBoundingClientRect();this.element.style.left=t.left-l.left+"px",this.element.style.top=t.top-l.top+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"},s.prototype.scheduleRemoval=function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return e.setCursor(null)},t)},s.prototype.dragover=function(t){if(this.editorView.editable){var e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY});if(e){var n=e.pos;this.editorView.dragging&&this.editorView.dragging.slice&&(n=i.dropPoint(this.editorView.state.doc,n,this.editorView.dragging.slice),null==n&&(n=e.pos)),this.setCursor(n),this.scheduleRemoval(5e3)}}},s.prototype.dragend=function(){this.scheduleRemoval(20)},s.prototype.drop=function(){this.scheduleRemoval(20)},s.prototype.dragleave=function(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)},e.dropCursor=r},function(t,e,n){"use strict";function r(t){for(var e=t.depth;e>=0;e--){var n=t.index(e);if(0!=n)for(var r=t.node(e).child(n-1);;r=r.lastChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function o(t){for(var e=t.depth;e>=0;e--){var n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function i(t,e){var n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,r,o){var i=t.selection,s=e>0?i.$to:i.$from,a=i.empty;if(i instanceof c.TextSelection){if(!o.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=t.doc.resolve(e>0?s.after():s.before())}var l=h.findFrom(s,e,a);return!!l&&(r&&r(t.tr.setSelection(new h(l))),!0)}}function s(t,e,n){if(!t.editable)return!1;var r=t.state.doc.resolve(e);if(!h.valid(r))return!1;var o=t.posAtCoords({left:n.clientX,top:n.clientY}),i=o.inside;return!(i>-1&&c.NodeSelection.isSelectable(t.state.doc.nodeAt(i)))&&(t.dispatch(t.state.tr.setSelection(new h(r))),!0)}function a(t){if(!(t.selection instanceof h))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",u.DecorationSet.create(t.doc,[u.Decoration.widget(t.selection.head,e,{key:"gapcursor"})])}Object.defineProperty(e,"__esModule",{value:!0});var l=n(237),c=n(218),u=n(239),p=n(216),h=function(t){function e(e){t.call(this,e,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));return e.valid(o)?new e(o):t.near(o)},e.prototype.content=function(){return p.Slice.empty},e.prototype.eq=function(t){return t instanceof e&&t.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(t.resolve(n.pos))},e.prototype.getBookmark=function(){return new f(this.anchor)},e.valid=function(t){var e=t.parent;if(e.isTextblock||!r(t)||!o(t))return!1;var n=e.type.spec.allowGapCursor;if(null!=n)return n;var i=e.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock},e.findFrom=function(t,n,r){t:for(;;){if(!r&&e.valid(t))return t;for(var o=t.pos,i=null,s=t.depth;;s--){var a=t.node(s);if(n>0?t.indexAfter(s)<a.childCount:t.index(s)>0){i=a.child(n>0?t.indexAfter(s):t.index(s)-1);break}if(0==s)return null;o+=n;var l=t.doc.resolve(o);if(e.valid(l))return l}for(;;){var u=n>0?i.firstChild:i.lastChild;if(!u){if(i.isAtom&&!i.isText&&!c.NodeSelection.isSelectable(i)){t=t.doc.resolve(o+i.nodeSize*n),r=!1;continue t}break}i=u,o+=n;var p=t.doc.resolve(o);if(e.valid(p))return p}return null}},e}(c.Selection);h.prototype.visible=!1,c.Selection.jsonID("gapcursor",h);var f=function(t){this.pos=t};f.prototype.map=function(t){return new f(t.map(this.pos))},f.prototype.resolve=function(t){var e=t.resolve(this.pos);return h.valid(e)?new h(e):c.Selection.near(e)};var d=function(){return new c.Plugin({props:{decorations:a,createSelectionBetween:function(t,e,n){if(e.pos==n.pos&&h.valid(n))return new h(n)},handleClick:s,handleKeyDown:v}})},v=l.keydownHandler({ArrowLeft:i("horiz",-1),ArrowRight:i("horiz",1),ArrowUp:i("vert",-1),ArrowDown:i("vert",1)});e.GapCursor=h,e.gapCursor=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.schema=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(214),i=r({},o.nodes,{table:{attrs:{id:{default:null},style:{default:null},class:{default:"k-table"},cellspacing:{default:null},cellpadding:{default:null}},content:"table_row+",tableRole:"table",isolating:!0,group:"block",parseDOM:[{tag:"table"}],toDOM:function(t){return["table",t.attrs,["tbody",0]]}}});e.schema=new o.Schema({nodes:i,marks:o.marks})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.defaultStyle='\nhtml, body {\n    margin: 0;\n    height: 100%;\n    padding: 0;\n}\n\nhtml {\n  min-height: 100%;\n}\n\nbody {\n  box-sizing: border-box;\n  position: relative;\n  padding: 8px;\n}\n\n.ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\ndiv.ProseMirror {\n  position: relative;\n  min-height: 100%;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\ndiv.ProseMirror:focus {\n  outline: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-hideselection *::selection { background: transparent; }\n.ProseMirror-hideselection *::-moz-selection { background: transparent; }\n.ProseMirror-hideselection { caret-color: transparent; }\n\n.ProseMirror li {\n  position: relative;\n}\n\nli.ProseMirror-selectednode {\n  outline: none;\n}\n\nli.ProseMirror-selectednode:after {\n  content: "";\n  position: absolute;\n  left: -32px;\n  right: -2px;\n  top: -2px;\n  bottom: -2px;\n  border: 2px solid #8cf;\n  pointer-events: none;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n.ProseMirror .tableWrapper {\n    overflow-x: auto;\n    margin: 1em 0;\n  }\n\n  .ProseMirror table {\n    margin: 0;\n    border-collapse: collapse;\n    table-layout: fixed;\n    width: 100%;\n    overflow: hidden;\n  }\n\n  .ProseMirror td, .ProseMirror th {\n    min-width: 1em;\n    border: 1px solid #ddd;\n    padding: 3px 5px;\n    vertical-align: top;\n    box-sizing: border-box;\n    position: relative;\n  }\n\n  .ProseMirror th {\n    font-weight: bold;\n    text-align: left;\n  }\n\n  .ProseMirror .column-resize-handle {\n    position: absolute;\n    right: -2px;\n    top: 0;\n    bottom: 0;\n    width: 4px;\n    z-index: 20;\n    background-color: #adf;\n    pointer-events: none;\n  }\n\n  .ProseMirror.resize-cursor {\n    cursor: ew-resize;\n    cursor: col-resize;\n  }\n\n  /* Give selected cells a blue overlay */\n  .ProseMirror .selectedCell:after {\n    z-index: 2;\n    position: absolute;\n    content: "";\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: rgba(200, 200, 255, 0.4);\n    pointer-events: none;\n  }\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorCommands=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(214),i=n(250),s=function(t){return function(e,n){(0,o.isAligned)(e,t)?(0,o.alignRemove)(e,n):(0,o.alignBlocks)(t)(e,n)}},a=function(t){return function(e,n){var r=(0,o.createTable)(e.schema.nodes,t.rows,t.cols);r&&(0,o.insertNode)(r,!0)(e,n)}},l=function(t){return function(e,n){var r=document.createElement("div");r.innerHTML=t.value;var s=o.DOMParser.fromSchema(i.schema).parse(r,{topNode:t.inline?i.schema.nodes.paragraph.create():null});s&&s.firstChild&&n(e.tr.replaceSelectionWith(s.firstChild,!1))}},c={bold:function(){return(0,o.toggleInlineFormat)(o.bold)},cleanFormatting:function(){return(0,o.removeAllMarks)({except:i.schema.marks.link})},createLink:function(t){return(0,o.applyLink)({mark:"link",attrs:t})},fontFamily:function(t){return(0,o.applyInlineStyle)({style:"font-family",value:t.value})},fontSize:function(t){return(0,o.applyInlineStyle)({style:"font-size",value:t.value})},insertFile:function(t){return(0,o.applyLink)({mark:"link",attrs:t})},insertText:function(t){return(0,o.insertText)(t)},italic:function(){return(0,o.toggleInlineFormat)(o.italic)},strikethrough:function(){return(0,o.toggleInlineFormat)(o.strikethrough)},subscript:function(){return(0,o.toggleInlineFormat)(o.subscript)},superscript:function(){return(0,o.toggleInlineFormat)(o.superscript)},underline:function(){return(0,o.toggleInlineFormat)(o.underline)},unlink:function(){return(0,o.removeLink)(o.link)},foreColor:function(t){return(0,o.applyInlineStyle)({style:"color",value:t.value})},backColor:function(t){return(0,o.applyInlineStyle)({style:"background-color",value:t.value})}},u={alignCenter:function(){return s(o.alignCenterRules)},alignJustify:function(){return s(o.alignJustifyRules)},alignLeft:function(){return s(o.alignLeftRules)},alignRight:function(){return s(o.alignRightRules)},format:function(t){return(0,o.formatBlockElements)(t.value)},insertOrderedList:function(){return o.toggleOrderedList},insertUnorderedList:function(){return o.toggleUnorderedList},outdent:function(){return o.outdent},indent:function(){return o.indent},insertImage:function(t){return(0,o.insertImage)(t)},redo:function(){return o.redo},undo:function(){return o.undo},setHtml:function(t){return(0,o.setHtml)(t.value)},insertHtml:function(t){return l(t)}},p={insertTable:function(t){return a(t)},addColumnBefore:function(){return o.addColumnBefore},addColumnAfter:function(){return o.addColumnAfter},addRowBefore:function(){return o.addRowBefore},addRowAfter:function(){return o.addRowAfter},deleteRow:function(){return o.deleteRow},deleteColumn:function(){return o.deleteColumn},mergeCells:function(){return o.mergeCells},splitCell:function(){return o.splitCell},deleteTable:function(){return o.deleteTable}};e.editorCommands=r({},c,u,p)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getBuiltInToolState=e.getToolsState=void 0;var o=n(214),i=n(250),s=(e.getToolsState=function(t,e){var n=c(t),r=Object.keys(e),o=!1,i=!0,a=!1,l=void 0;try{for(var u,p=r[Symbol.iterator]();!(i=(u=p.next()).done);i=!0){var h=u.value,f=n[h],d=e[h];f&&d&&!s(f,d)&&(o=!0,e[h]=f)}}catch(t){a=!0,l=t}finally{try{!i&&p.return&&p.return()}finally{if(a)throw l}}return{stateChanged:o,state:e}},function(t,e){var n=t.enabled===e.enabled,r=!0;return r=t.hasOwnProperty("selectedValue")?t.selectedValue===e.selectedValue:t.selected===e.selected,n&&r}),a=function(t,e){var n=[].concat(r((0,o.getInlineStyles)(t,{name:e,value:/^.+$/})));return 1===n.length?n[0]:null},l=function(t){return t.selection instanceof o.CellSelection?null:(0,o.activeNode)(t).tag},c=e.getBuiltInToolState=function(t){return{alignCenter:{selected:(0,o.isAligned)(t,o.alignCenterRules),enabled:!0},alignJustify:{selected:(0,o.isAligned)(t,o.alignJustifyRules),enabled:!0},alignLeft:{selected:(0,o.isAligned)(t,o.alignLeftRules),enabled:!0},alignRight:{selected:(0,o.isAligned)(t,o.alignRightRules),enabled:!0},bold:{selected:(0,o.hasMark)(t,o.bold),enabled:!0},cleanFormatting:{selected:!1,enabled:!t.selection.empty},format:{selectedValue:l(t),enabled:!0},indent:{enabled:(0,o.canIndentAsListItem)(t,i.schema.nodes.list_item)||(0,o.canBeIndented)(t,o.indentRules)},insertOrderedList:{selected:(0,o.hasNode)(t,i.schema.nodes.ordered_list),enabled:!0},insertUnorderedList:{selected:(0,o.hasNode)(t,i.schema.nodes.bullet_list),enabled:!0},italic:{selected:(0,o.hasMark)(t,o.italic),enabled:!0},unlink:{enabled:(0,o.hasMark)(t,o.link)},outdent:{enabled:(0,o.canOutdentAsListItem)(t,o.outdentRules)||(0,o.isIndented)(t,o.outdentRules.nodes)},redo:{enabled:(0,o.redo)(t)},strikethrough:{selected:(0,o.hasMark)(t,o.strikethrough),enabled:!0},style:{selected:(0,o.getActiveMarks)(t,i.schema.marks.style),enabled:!0},fontFamily:{selectedValue:a(t,"font-family"),enabled:!0},fontSize:{selectedValue:a(t,"font-size"),enabled:!0},subscript:{selected:(0,o.hasMark)(t,o.subscript),enabled:!0},superscript:{selected:(0,o.hasMark)(t,o.superscript),enabled:!0},underline:{selected:(0,o.hasMark)(t,o.underline),enabled:!0},undo:{enabled:(0,o.undo)(t)},createLink:{enabled:!t.selection.empty||(0,o.hasMark)(t,o.link)},insertFile:{enabled:!t.selection.empty},insertImage:{enabled:!0},viewSource:{enabled:!0},insertTable:{enabled:!0},addColumnBefore:{enabled:(0,o.addColumnBefore)(t)},addColumnAfter:{enabled:(0,o.addColumnAfter)(t)},addRowBefore:{enabled:(0,o.addRowBefore)(t)},addRowAfter:{enabled:(0,o.addRowAfter)(t)},deleteRow:{enabled:(0,o.deleteRow)(t)},deleteColumn:{enabled:(0,o.deleteColumn)(t)},mergeCells:{enabled:(0,o.mergeCells)(t)},splitCell:{enabled:(0,o.splitCell)(t)},deleteTable:{enabled:(0,o.deleteTable)(t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDialogContexts=void 0;var r=n(214),o=n(250);e.getDialogContexts=function(t){return{createLink:function(){var e=(0,r.getMark)(t.state,o.schema.marks.link);return{href:e?e.attrs.href:null,title:e?e.attrs.title:null,target:e?e.attrs.target:null}},insertImage:function(){var e=(0,r.getNodeFromSelection)(t.state);return{src:e?e.attrs.src:null,alt:e?e.attrs.alt:null,width:e?e.attrs.width:null,height:e?e.attrs.height:null}},setHtml:function(){return{value:t.dom.innerHTML}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(256);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Splitter,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initSplitter=r;var o=n(257),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Splitter=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(61),c=n(1),u=n(51),p=".k-splitbar",h=".k-splitbar-draggable-horizontal",f=".k-splitbar-draggable-vertical",d="horizontal",v=Number.MAX_SAFE_INTEGER,y="flex-basis",g="k-pane-static",m=".k-collapse-next",b=".k-collapse-prev",w=function(t){return/%$/.test(t)},_=function(t){return t+"px"},x=function(t){return t+"%"},k=function(t,e){var n=parseFloat(t);return w(t)&&(n=e*n/100),n},S=function(t,e){return C(t,e,"client")},O=function(t,e){if(!t)return 0;var n=t.getBoundingClientRect();return e===d?n.width:n.height},C=function(t,e,n){return t?e===d?t[n+"Width"]:t[n+"Height"]:0};e.Splitter=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,orientation:d,resizable:!0,keyboardResizeDelta:10,panes:[],jsinterop:{resizePane:""}},i.onResizableResizeStart=function(t){t.originalEvent.stopPropagation();var e=(0,u.getElementIndex)(t.originalCurrentTarget,p);i.resetPaneState(),i.addResizeOverlays(e)},i.onResizableResize=function(t){var e=(0,u.getElementIndex)(t.originalCurrentTarget,p),n=i.isHorizontal()?t.delta.x:t.delta.y;i.dragSplitterBar(e,n)},i.onResizableResizeEnd=function(){i.removeResizeOverlays(),i.invokeResizePane()},i.onElementKeyDown=function(t){var e=t.target.closest(p);e&&i.onSplitterBarKeyDown(t)},i.extendOptions(n),i.resetPaneState(),i.createResizable(),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),this.destroyResizable(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"setOptions",value:function(t){this.extendOptions(t);for(var e=0;e<this.options.panes.length;e++){var n=this.options.panes[e];if(n.forceExpanded){var r=this.getPaneElement(e);(0,c.removeClass)(g,r)}}}},{key:"bindEvents",value:function(){this.element&&this.element.addEventListener("keydown",this.onElementKeyDown)}},{key:"unbindEvents",value:function(){this.element&&this.element.removeEventListener("keydown",this.onElementKeyDown)}},{key:"setState",value:function(t){this.state=(0,c.extend)(this.state||{},t)}},{key:"resetPaneState",value:function(){this.setState({resizedPanes:{}})}},{key:"createResizable",value:function(){this.options.resizable&&(this.resizable=new l.Resizable(this.element,{draggable:{filter:[h,f].join(","),ignore:[b,m].join(",")},events:{resizeStart:this.onResizableResizeStart,resize:this.onResizableResize,resizeEnd:this.onResizableResizeEnd}}))}},{key:"destroyResizable",value:function(){this.resizable&&(this.resizable.destroy(),this.resizable=null)}},{key:"dragSplitterBar",value:function(t,e){var n=this.getAdjacentPanes(t),r=n.leftPane,o=n.rightPane,i=r.computedSize+e,s=i>r.min&&i<r.max,a=this.getPaneElements().filter(function(t){return!t.style[y]}),l=(r.size||o.size)&&a.length>1;r.size&&o.size||l?s&&(this.resizePane(r,e),this.resizePane(o,-e)):o.size?this.resizePane(o,-e):this.resizePane(r,e)}},{key:"resizePane",value:function(t,e){var n=(0,c.clamp)(t.computedSize+e,t.min,t.max),r="";if(w(t.size)){var o=this.getElementClientSize();r=x(100*n/o)}else r=_(n);this.setPaneSize(t.index,r)}},{key:"isHorizontal",value:function(){return this.options.orientation===d}},{key:"getPane",value:function(t){return(this.options.panes||[])[t]}},{key:"getPaneElements",value:function(){var t=Array.from(this.element.children||[]).filter(function(t){return(0,c.hasClass)("k-pane",t)});return t}},{key:"getPaneElement",value:function(t){var e=this.getPaneElements();return e[t]}},{key:"getAdjacentPanes",value:function(t){var e=t,n=t+1,r=this.getPaneElement(e),o=this.getPaneElement(n),i=this.getPane(e),s=this.getPane(n),a=this.getPaneOffsetSize(e),l=this.getPaneOffsetSize(n),c=a+l,u=this.getElementClientSize(),p=function(t){return k(t,u)},h=this.getAdjacentPanesMaxSize(t),f=h.leftPaneMaxSize,d=h.rightPaneMaxSize;return{leftPane:{index:e,computedSize:a,min:p(i.min)||c-p(s.max)||0,max:f,size:r.style[y],collapsible:i.collapsible},rightPane:{index:n,computedSize:l,min:p(s.min)||c-p(i.max)||0,max:d,size:o.style[y],collapsible:s.collapsible}}}},{key:"getAdjacentPanesMaxSize",value:function(t){var e=this.getPaneSizes(t),n=e.size,r=e.min,o=e.max,i=this.getPaneSizes(t+1),s=i.size,a=i.min,l=i.max,c=n+s,u=Math.min(o,c-a),p=Math.min(l,c-r);return{leftPaneMaxSize:u,rightPaneMaxSize:p}}},{key:"getPaneSizes",value:function(t){var e=this.getElementClientSize(),n=this.getPane(t),r=this.getPaneOffsetSize(t),o=n.min?k(n.min,e):0,i=n.max?k(n.max,e):v;return{size:r,min:o,max:i}}},{key:"getPaneOffsetSize",value:function(t){var e=this.getPaneElement(t),n=O(e,this.options.orientation);return n}},{key:"getElementClientSize",value:function(){var t=S(this.element,this.options.orientation);return t}},{key:"setPaneSize",value:function(t,e){var n=this.getPaneElement(t);if(n){this.state.resizedPanes[t]={index:t,size:e};var r=this.options.panes[t]||{};r.forceExpanded||(0,c.addClass)(g,n),n.style[y]=e}}},{key:"addResizeOverlays",value:function(t){this.addResizeOverlay(t),this.addResizeOverlay(t+1)}},{key:"addResizeOverlay",value:function(t){var e=this.getPaneElement(t);if(e){var n=(0,u.convertToHtml)('<div class="k-splitter-overlay k-overlay"></div>');e.appendChild(n)}}},{key:"removeResizeOverlays",value:function(){var t=Array.from(this.element.querySelectorAll(".k-splitter-overlay"));t.forEach(function(t){t.remove()})}},{key:"invokeResizePane",value:function(){var t=this;Object.values(this.state.resizedPanes).forEach(function(e){t.invokeMethodAsync(t.options.jsinterop.resizePane,{index:e.index,size:e.size})})}},{key:"isSplitterBarDraggable",value:function t(e){var t=(0,c.hasClass)(h.replace(".",""),e)||(0,c.hasClass)(f.replace(".",""),e);return t}},{key:"getSplitterBarIndex",value:function(t){var e=(0,u.getElementIndex)(t,p);return e}},{key:"onSplitterBarKeyDown",value:function(t){var e=t.target.closest(p),n=t.key;if(this.isSplitterBarDraggable(e)){var r=(0,u.getElementIndex)(e,p),o=this.options.keyboardResizeDelta,i=this.isHorizontal(),s=n===c.Key.ARROWRIGHT&&i||n===c.Key.ARROWDOWN&&!i,a=n===c.Key.ARROWLEFT&&i||n===c.Key.ARROWUP&&!i,l=s?1:-1;(s||a)&&(t.preventDefault(),this.dragSplitterBar(r,l*o),this.invokeResizePane())}}}]),e}(c.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(259);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.ToggleButton,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initToggleButton=r;var o=n(260),i=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleButton=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(1),c="k-state-active";e.ToggleButton=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null},i.setActive=function(){return i.element&&!i.element.classList.contains(c)&&i.element.classList.add(c),!0},i.removeActive=function(){return i.element&&i.element.classList.contains(c)&&i.element.classList.remove(c),!0},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{
key:"destroy",value:function(){this.navigationService.destroy(),this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.initNavigationService(),this.element.addEventListener("mousedown",this.setActive),this.element.addEventListener("mouseleave",this.removeActive)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("mousedown",this.setActive),this.element.removeEventListener("mouseleave",this.removeActive)}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(l.Key.SPACE,this.setActive)}}]),e}(l.Component)}])});